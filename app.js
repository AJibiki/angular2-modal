webpackJsonp([2],{0:function(t,e,o){"use strict";function n(){return s?Promise.reject(null):(s=!0,i.platformBrowserDynamic().bootstrapModule(a.AppModule)["catch"](function(t){return console.error(t)}))}function r(){return s}var i=o(363),a=o(565),s=!1;e.main=n,e.isBootstrapped=r,document.addEventListener("DOMContentLoaded",n)},7:function(t,e,o){"use strict";function n(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}n(o(381));var r=o(380);e.createComponent=r.createComponent;var i=o(118);e.extend=i.extend,e.arrayUnion=i.arrayUnion,e.supportsKey=i.supportsKey;var a=o(382);e.DialogRef=a.DialogRef;var s=o(240);e.DROP_IN_TYPE=s.DROP_IN_TYPE,e.ModalDropInFactory=s.ModalDropInFactory,e.ModalBackdropComponent=s.ModalBackdropComponent,e.ModalComponent=s.ModalComponent,e.ModalCompileConfig=s.ModalCompileConfig,e.ModalRenderer=s.ModalRenderer;var c=o(246);e.Modal=c.Modal,e.DOMModalRenderer=c.DOMModalRenderer;var l=o(383);e.DEFAULT_VALUES=l.DEFAULT_VALUES,e.ModalContext=l.ModalContext,e.ModalContextBuilder=l.ModalContextBuilder,e.ModalControllingContextBuilder=l.ModalControllingContextBuilder;var d=o(559);e.ModalOpenContext=d.ModalOpenContext,e.ModalOpenContextBuilder=d.ModalOpenContextBuilder;var u=o(557);e.ModalModule=u.ModalModule},118:function(t,e){"use strict";function o(t,e){var o={};for(var n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);for(var n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);return o}function n(t,e){return t.concat(e.filter(function(e){return t.indexOf(e)===-1}))}function r(t,e){return Array.isArray(e)?e.indexOf(t)>-1:null!==e}function i(t){return Object.getOwnPropertyNames(t).map(function(e){return e+":"+t[e]}).join(";")}function a(){}e.extend=o,e.arrayUnion=n,e.supportsKey=r,e.toStyleString=i;var s=function(){function t(){var t=this;this.promise=new Promise(function(e,o){t.resolve=e,t.reject=o})}return t}();e.PromiseCompleter=s,e.noop=a},163:function(t,e,o){"use strict";var n=o(386);e.BootstrapModalSize=n.BootstrapModalSize,e.BSModalContext=n.BSModalContext,e.BSModalContextBuilder=n.BSModalContextBuilder;var r=o(384);e.BSModalBackdrop=r.BSModalBackdrop;var i=o(385);e.BSModalContainer=i.BSModalContainer;var a=o(241);e.BSMessageModal=a.BSMessageModal;var s=o(387);e.BSModalFooter=s.BSModalFooter;var c=o(243);e.MessageModalPreset=c.MessageModalPreset,e.MessageModalPresetBuilder=c.MessageModalPresetBuilder;var l=o(7);e.ModalOpenContext=l.ModalOpenContext,e.ModalOpenContextBuilder=l.ModalOpenContextBuilder;var d=o(388);e.OneButtonPreset=d.OneButtonPreset,e.OneButtonPresetBuilder=d.OneButtonPresetBuilder;var u=o(389);e.TwoButtonPreset=u.TwoButtonPreset,e.TwoButtonPresetBuilder=u.TwoButtonPresetBuilder;var f=o(242);e.BSModal=f.BSModal,e.Modal=f.Modal;var p=o(560);e.BootstrapModalModule=p.BootstrapModalModule},164:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(7),s=function(){function t(){this.onButtonClick=new i.EventEmitter}return t.prototype.onClick=function(t,e){e.stopPropagation(),this.onButtonClick.emit({btn:t,$event:e})},n([i.Input(),r("design:type",Array)],t.prototype,"buttons",void 0),n([i.Output(),r("design:type",Object)],t.prototype,"onButtonClick",void 0),t=n([i.Component({selector:"vex-dialog-buttons",encapsulation:i.ViewEncapsulation.None,template:'<div class="vex-dialog-buttons">\n    <button type="button" \n         *ngFor="let btn of buttons;"\n         [class]="btn.cssClass"\n         (click)="onClick(btn, $event)">{{btn.caption}}</button>\n</div>'}),r("design:paramtypes",[])],t)}();e.VEXDialogButtons=s;var c=function(){function t(t,e,o){this.dialog=t,this._compileConfig=e,this._cr=o,this.context=t.context}return t.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.dialog.contentRef=a.createComponent(t._cr,t.context.content,t._viewContainer,t._compileConfig.bindings)})},t.prototype.onButtonClick=function(t){t.btn.onClick(this,t.$event)},n([i.ViewChild("modalDialog",{read:i.ViewContainerRef}),r("design:type","function"==typeof(e="undefined"!=typeof i.ViewContainerRef&&i.ViewContainerRef)&&e||Object)],t.prototype,"_viewContainer",void 0),t=n([i.Component({selector:"modal-dialog",encapsulation:i.ViewEncapsulation.None,template:'<form class="vex-dialog-form">\n    <div style="display: none" #modalDialog></div> \n    <vex-dialog-buttons [buttons]="context.buttons"\n                        (onButtonClick)="onButtonClick($event)"></vex-dialog-buttons>\n</form>'}),r("design:paramtypes",["function"==typeof(o="undefined"!=typeof a.DialogRef&&a.DialogRef)&&o||Object,"function"==typeof(s="undefined"!=typeof a.ModalCompileConfig&&a.ModalCompileConfig)&&s||Object,"function"==typeof(c="undefined"!=typeof i.ComponentFactoryResolver&&i.ComponentFactoryResolver)&&c||Object])],t);var e,o,s,c}();e.DialogFormModal=c;var l=function(){function t(t){this.dialog=t,this.context=t.context}return t=n([i.Component({selector:"drop-in-dialog",encapsulation:i.ViewEncapsulation.None,template:'<div class="vex-dialog-message">{{context.message}}</div>\n    <div *ngIf="context.showInput" class="vex-dialog-input">\n        <input autofocus #input\n               name="vex" \n               type="text" \n               class="vex-dialog-prompt-input"\n               (change)="context.defaultResult = input.value"               \n               placeholder="{{context.placeholder}}">\n    </div>'}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.DialogRef&&a.DialogRef)&&e||Object])],t);var e}();e.FormDropIn=l},165:function(t,e,o){"use strict";var n=o(7);e.Modal=n.Modal},166:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(20),s=o(247),c=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t=n([i.NgModule({imports:[a.CommonModule],declarations:[s.DemoHead],exports:[s.DemoHead]}),r("design:paramtypes",[])],t)}();e.SharedModule=c},240:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(1);!function(t){t[t.alert=0]="alert",t[t.prompt=1]="prompt",t[t.confirm=2]="confirm"}(e.DROP_IN_TYPE||(e.DROP_IN_TYPE={}));var i=(e.DROP_IN_TYPE,function(){function t(t,e){this.component=t,this.bindings=e}return t}());e.ModalCompileConfig=i;var a=function(){function t(){}return t}();e.ModalRenderer=a;var s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(r.Type);e.ModalBackdropComponent=s;var c=function(){function t(){}return t}();e.ModalDropInFactory=c},241:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(7),s=function(){function t(t){this.dialog=t,this.context=t.context}return t.prototype.onFooterButtonClick=function(t){t.btn.onClick(this,t.$event)},Object.defineProperty(t.prototype,"titleHtml",{get:function(){return this.context.titleHtml?1:0},enumerable:!0,configurable:!0}),t=n([i.Component({selector:"modal-content",encapsulation:i.ViewEncapsulation.None,template:'<div [ngClass]="context.headerClass" [ngSwitch]="titleHtml">\n        <button *ngIf="context.showClose" type="button" class="close" \n                aria-label="Close" (click)="dialog.dismiss()">\n            <span aria-hidden="true">Ã—</span>\n        </button>\n        <div *ngSwitchCase="1" [innerHtml]="context.titleHtml"></div>\n        <h3 *ngSwitchDefault class="modal-title">{{context.title}}</h3>\n    </div>\n    <div [ngClass]="context.bodyClass" [innerHtml]="context.message"></div>\n    <modal-footer [footerClass]="context.footerClass" \n                  [buttons]="context.buttons"\n                  (onButtonClick)="onFooterButtonClick($event)"></modal-footer>'}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.DialogRef&&a.DialogRef)&&e||Object])],t);var e}();e.BSMessageModal=s},242:function(t,e,o){"use strict";var n=o(7);e.Modal=n.Modal},243:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(7),i=o(386),a=o(241),s={component:a.BSMessageModal,headerClass:"modal-header",bodyClass:"modal-body",footerClass:"modal-footer"},c=["headerClass","title","titleHtml","bodyClass","footerClass"],l=function(t){function e(e,o,n){void 0===e&&(e=void 0),void 0===o&&(o=void 0),void 0===n&&(n=void 0),t.call(this,r.extend(r.extend({buttons:[]},s),e||{}),r.arrayUnion(c,o||[]),n),r.setAssignAlias(this,"body","message",!0)}return n(e,t),e.prototype.addButton=function(t,e,o){var n={cssClass:t,caption:e,onClick:o},i=r.privateKey("buttons");return this[i].push(n),this},e}(i.BSModalContextBuilder);e.MessageModalPresetBuilder=l},244:function(t,e,o){"use strict";var n=o(245);e.Modal=n.Modal,e.JSNativeModal=n.JSNativeModal;var r=o(391);e.JSNativeModalContext=r.JSNativeModalContext,e.JSNativeModalContextBuilder=r.JSNativeModalContextBuilder;var i=o(390);e.JSNativeModalRenderer=i.JSNativeModalRenderer;var a=o(392);e.JSNativePresetBuilder=a.JSNativePresetBuilder;var s=o(561);e.JSNativeModalModule=s.JSNativeModalModule},245:function(t,e,o){"use strict";var n=o(7);e.Modal=n.Modal},246:function(t,e,o){"use strict";var n=o(399);e.DOMModalRenderer=n.DOMModalRenderer;var r=o(563);e.Modal=r.Modal;var i=o(564);e.DOMOutsideEventPlugin=i.DOMOutsideEventPlugin},247:function(t,e,o){"use strict";function n(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}n(o(571))},248:function(t,e,o){"use strict";var n=o(7);e.Modal=n.Modal},380:function(t,e,o){"use strict";function n(t,e,o,n){return o.createComponent(t.resolveComponentFactory(e),o.length,r(o,n))}function r(t,e){var o=t.parentInjector;return Array.isArray(e)&&e.length>0?i.ReflectiveInjector.fromResolvedProviders(e,o):o}var i=o(1);e.createComponent=n,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},381:function(t,e){"use strict";function o(t){if(!t)throw new Error("Illegal method name. Empty method name is not allowed");if(t in this)throw new Error("A member name '"+t+"' already defined.")}function n(t){return Object.getOwnPropertyNames(t).filter(function(t){return d.test(t)}).map(function(t){return t.substr(2)})}function r(t){return l+t}function i(t,e,o){Object.defineProperty(t,e,{configurable:!1,enumerable:!1,writable:!1,value:o})}function a(t,e){Object.getOwnPropertyNames(e).forEach(function(o){return t[r(o)]=e[o]})}function s(t,e,n){var a=this;void 0===n&&(n=!1),o.call(t,e);var s=r(e);i(t,e,function(o){if(n&&a.hasOwnProperty(s))throw new Error("Overriding config property '"+e+"' is not allowed.");return t[s]=o,t})}function c(t,e,n,a){if(void 0===a&&(a=!1),o.call(t,e),i(t,e,function(e){return t[n](e),t}),a===!0){var s=r(e),c=r(n);Object.defineProperty(t,s,{configurable:!1,enumerable:!1,get:function(){return t[c]}})}}var l="$$",d=/^(\$\$).*/;e.privateKey=r,e.setAssignMethod=s,e.setAssignAlias=c;var u=function(){function t(t){this._fluentAssign=t instanceof f?t:new f}return t.prototype.setMethod=function(t,e){return void 0===e&&(e=void 0),s(this._fluentAssign,t),void 0!==e&&this._fluentAssign[t](e),this},Object.defineProperty(t.prototype,"fluentAssign",{get:function(){return this._fluentAssign},enumerable:!0,configurable:!0}),t}();e.FluentAssignFactory=u;var f=function(){function t(t,e,o){var n=this;void 0===t&&(t=void 0),void 0===e&&(e=void 0),void 0===o&&(o=void 0),Array.isArray(t)?t.forEach(function(t){return a(n,t)}):t&&a(this,t),Array.isArray(e)&&e.forEach(function(t){return s(n,t)}),o&&(this.__fluent$base__=o)}return t.compose=function(e,o){return void 0===e&&(e=void 0),void 0===o&&(o=void 0),t.composeWith(new t(e,o))},t.composeWith=function(t){return new u(t)},t.prototype.toJSON=function(){var t=this;return n(this).reduce(function(e,o){var n=r(o),i=Object.getOwnPropertyDescriptor(t,n);return i?Object.defineProperty(e,o,i):e[o]=t[n],e},this.__fluent$base__?new this.__fluent$base__:{})},t}();e.FluentAssign=f},382:function(t,e,o){"use strict";var n=o(40),r=o(118),i=function(){function t(t){this.context=t,this._resultDeferred=new r.PromiseCompleter,this._onDestroy=new n.Subject,this.onDestroy=this._onDestroy.asObservable()}return Object.defineProperty(t.prototype,"result",{get:function(){return this._resultDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.close=function(t){var e=this;void 0===t&&(t=null);var o=function(){e.destroy(),e._resultDeferred.resolve(t)};this._fireHook("beforeClose").then(function(t){return t!==!0&&o()})["catch"](o)},t.prototype.dismiss=function(){var t=this,e=function(){t.destroy(),t._resultDeferred.reject()};this._fireHook("beforeDismiss").then(function(t){return t!==!0&&e()})["catch"](e)},t.prototype.destroy=function(){this._onDestroy.next(null),this._onDestroy.complete()},t.prototype._fireHook=function(t){var e=this.contentRef&&this.contentRef.instance,o=e&&"function"==typeof e[t]&&e[t];return Promise.resolve(!!o&&o.call(e))},t}();e.DialogRef=i},383:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=o(1),s=o(381),c=o(118);e.DEFAULT_VALUES={isBlocking:!0,keyboard:[27],supportsKey:function(t){return this.keyboard.indexOf(t)>-1}};var l=["isBlocking","keyboard","message"],d=function(){function t(){}return t.prototype.normalize=function(){this.isBlocking!==!1&&(this.isBlocking=!0),null===this.keyboard?this.keyboard=[]:"number"==typeof this.keyboard?this.keyboard=[this.keyboard]:Array.isArray(this.keyboard)||(this.keyboard=e.DEFAULT_VALUES.keyboard)},t}();e.ModalContext=d;var u=function(t){function o(o,n,r){void 0===o&&(o=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0),t.call(this,c.extend(e.DEFAULT_VALUES,o||{}),c.arrayUnion(l,n||[]),r)}return n(o,t),o=r([a.Injectable(),i("design:paramtypes",[Object,Array,Function])],o)}(s.FluentAssign);e.ModalContextBuilder=u},384:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(7),s=0,c=function(){function t(t){var e=this;this.fadeState="in",this.hs={ps:null,sz:null,pt:null},s++,document.body.classList.add("modal-open"),t.inElement&&(this.hs.ps="absolute",this.hs.sz="100%",this.hs.pt="0"),t.onDestroy.subscribe(function(){return e.fadeState="out"})}return t.prototype.canDestroy=function(){return new Promise(function(t){setTimeout(function(){return t()},310)})},t.prototype.ngOnDestroy=function(){0===--s&&document.body.classList.remove("modal-open")},t=n([i.Component({selector:"modal-backdrop",host:{"[style.position]":"hs.ps","[style.height]":"hs.sz","[style.width]":"hs.sz","[style.top]":"hs.pt","[style.left]":"hs.pt","[style.right]":"hs.pt","[style.bottom]":"hs.pt"},animations:[i.trigger("fade",[i.transition("void => in",[i.animate("150ms linear",i.keyframes([i.style({opacity:0}),i.style({opacity:.5})]))]),i.state("out",i.style({opacity:0})),i.transition("* => out",[i.animate("150ms linear",i.keyframes([i.style({opacity:.5}),i.style({opacity:.5})])),i.animate("150ms linear",i.keyframes([i.style({opacity:.5}),i.style({opacity:0})]))])])],encapsulation:i.ViewEncapsulation.None,template:'<div [style.position]="hs.ps" class="modal-backdrop in" [@fade]="fadeState"></div>\n<modal-container></modal-container>'}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.DialogRef&&a.DialogRef)&&e||Object])],t);var e}();e.BSModalBackdrop=c},385:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(7),s=o(242),c=function(){function t(t,e,o,n,r){var i=this;this.dialog=t,this.el=e,this._compileConfig=o,this._modal=n,this._cr=r,this.fadeState="in",t.inElement?this.position="absolute":this.position=null,t.onDestroy.subscribe(function(){return i.fadeState="out"})}return t.prototype.ngAfterViewInit=function(){var t=this;this.el.nativeElement&&this.el.nativeElement.focus(),setTimeout(function(){t.dialog.contentRef=a.createComponent(t._cr,t._compileConfig.component,t._viewContainer,t._compileConfig.bindings)})},t.prototype.onClickOutside=function(){this._modal.isTopMost(this.dialog)&&!this.dialog.context.isBlocking&&this.dialog.dismiss()},t.prototype.documentKeypress=function(t){this._modal.isTopMost(this.dialog)&&a.supportsKey(t.keyCode,this.dialog.context.keyboard)&&this.dialog.dismiss()},n([i.ViewChild("modalDialog",{read:i.ViewContainerRef}),r("design:type","function"==typeof(e="undefined"!=typeof i.ViewContainerRef&&i.ViewContainerRef)&&e||Object)],t.prototype,"_viewContainer",void 0),t=n([i.Component({selector:"modal-container",host:{tabindex:"-1",role:"dialog","class":"modal",style:"display: block","[style.position]":"position","(body:keydown)":"documentKeypress($event)"},animations:[i.trigger("fade",[i.transition("void => in",[i.animate("100ms linear",i.keyframes([i.style({opacity:0,transform:"translate(0, -25%)"}),i.style({opacity:0,transform:"translate(0, -25%)"})])),i.animate("300ms linear",i.keyframes([i.style({opacity:0,transform:"translate(0, -25%)",offset:0}),i.style({opacity:1,transform:"translate(0, -12.5%)",offset:.5}),i.style({opacity:1,transform:"translate(0, 0)",offset:1})]))]),i.state("out",i.style({opacity:0,transform:"translate(0, -25%)"})),i.transition("in => out",[i.animate("150ms linear",i.keyframes([i.style({opacity:1,transform:"translate(0, 0)"}),i.style({opacity:0,transform:"translate(0, -12.5%)"})]))])])],encapsulation:i.ViewEncapsulation.None,template:'<div [ngClass]="dialog.context.dialogClass" \n          [class.modal-lg]="dialog.context.size == \'lg\'"\n          [class.modal-sm]="dialog.context.size == \'sm\'"\n          [@fade]="fadeState">\n         <div class="modal-content"              \n              style="display:block"              \n              role="document"\n              (clickOutside)="onClickOutside()">\n            <div style="display: none" #modalDialog></div>\n         </div>\n    </div>'}),r("design:paramtypes",["function"==typeof(o="undefined"!=typeof a.DialogRef&&a.DialogRef)&&o||Object,"function"==typeof(c="undefined"!=typeof i.ElementRef&&i.ElementRef)&&c||Object,"function"==typeof(l="undefined"!=typeof a.ModalCompileConfig&&a.ModalCompileConfig)&&l||Object,"function"==typeof(d="undefined"!=typeof s.Modal&&s.Modal)&&d||Object,"function"==typeof(u="undefined"!=typeof i.ComponentFactoryResolver&&i.ComponentFactoryResolver)&&u||Object])],t);var e,o,c,l,d,u}();e.BSModalContainer=c},386:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(7),i={dialogClass:"modal-dialog",showClose:!1},a=["dialogClass","size","showClose"],s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.normalize=function(){this.dialogClass||(this.dialogClass=i.dialogClass),t.prototype.normalize.call(this)},e}(r.ModalOpenContext);e.BSModalContext=s;var c=function(t){function e(e,o,n){void 0===e&&(e=void 0),void 0===o&&(o=void 0),void 0===n&&(n=void 0),t.call(this,r.extend(i,e||{}),r.arrayUnion(a,o||[]),n||s)}return n(e,t),e}(r.ModalOpenContextBuilder);e.BSModalContextBuilder=c},387:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=function(){function t(){this.onButtonClick=new i.EventEmitter}return t.prototype.onClick=function(t,e){e.stopPropagation(),this.onButtonClick.emit({btn:t,$event:e})},n([i.Input(),r("design:type",String)],t.prototype,"footerClass",void 0),n([i.Input(),r("design:type",Array)],t.prototype,"buttons",void 0),n([i.Output(),r("design:type",Object)],t.prototype,"onButtonClick",void 0),t=n([i.Component({selector:"modal-footer",encapsulation:i.ViewEncapsulation.None,template:'<div [ngClass]="footerClass">\n    <button *ngFor="let btn of buttons;"\n            [ngClass]="btn.cssClass"\n            (click)="onClick(btn, $event)">{{btn.caption}}</button>\n</div>'}),r("design:paramtypes",[])],t)}();e.BSModalFooter=a},388:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(7),i=o(243),a=function(t){function e(e,o){void 0===o&&(o=void 0),t.call(this,r.extend({modal:e,okBtn:"OK",okBtnClass:"btn btn-primary"},o||{}),["okBtn","okBtnClass"])}return n(e,t),e.prototype.$$beforeOpen=function(e){return this.addButton(e.okBtnClass,e.okBtn,function(t,e){return t.dialog.close(!0)}),t.prototype.$$beforeOpen.call(this,e)},e}(i.MessageModalPresetBuilder);e.OneButtonPresetBuilder=a},389:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(7),i=o(243),a=function(t){function e(e,o){void 0===o&&(o=void 0),t.call(this,r.extend({modal:e,okBtn:"OK",okBtnClass:"btn btn-primary",cancelBtn:"Cancel",cancelBtnClass:"btn btn-default"},o||{}),["okBtn","okBtnClass","cancelBtn","cancelBtnClass"])}return n(e,t),e.prototype.$$beforeOpen=function(e){return this.addButton(e.okBtnClass,e.okBtn,function(t,e){return t.dialog.close(!0)}).addButton(e.cancelBtnClass,e.cancelBtn,function(t,e){return t.dialog.dismiss()}),t.prototype.$$beforeOpen.call(this,e)},e}(i.MessageModalPresetBuilder);e.TwoButtonPresetBuilder=a},390:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(7),s=function(){function t(){}return t.prototype.render=function(t,e,o,n){var r;switch(n.context.dialogType){case a.DROP_IN_TYPE.alert:window.alert(n.context.message),r=!0;break;case a.DROP_IN_TYPE.prompt:r=window.prompt(n.context.message,n.context.promptDefault);break;case a.DROP_IN_TYPE.confirm:r=window.confirm(n.context.message)}return n.destroy=function(){},r===!1?n.dismiss():n.close(r),n},t=n([i.Injectable(),r("design:paramtypes",[])],t)}();e.JSNativeModalRenderer=s},391:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(7),i=["promptDefault"],a=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.normalize=function(){this.message||(this.message=""),void 0===this.dialogType&&(this.dialogType=r.DROP_IN_TYPE.alert)},e}(r.ModalOpenContext);e.JSNativeModalContext=a;var s=function(t){function e(e,o,n){void 0===e&&(e=void 0),void 0===o&&(o=void 0),void 0===n&&(n=void 0),t.call(this,e||{},r.arrayUnion(i,o||[]),n||a)}return n(e,t),e}(r.ModalOpenContextBuilder);e.JSNativeModalContextBuilder=s},392:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(245),i=o(391),a=function(t){function e(e,o){t.call(this,{modal:e,dialogType:o})}return n(e,t),e.prototype.$$beforeOpen=function(t){return[]},e.prototype.open=function(t){var e=this.toJSON();if(!(e.modal instanceof r.Modal))return Promise.reject(new Error("Configuration Error: modal service not set."));var o="function"==typeof this.$$beforeOpen&&this.$$beforeOpen(e);return e.modal.open(!0,e,o,!0)},e}(i.JSNativeModalContextBuilder);e.JSNativePresetBuilder=a},393:function(t,e,o){"use strict";var n=o(165);e.Modal=n.Modal;var r=o(394);e.VexModalBackdrop=r.VexModalBackdrop;var i=o(395);e.VexModalContent=i.VexModalContent;var a=o(396);e.VEXBuiltInThemes=a.VEXBuiltInThemes,e.VEXModalContext=a.VEXModalContext,e.VEXModalContextBuilder=a.VEXModalContextBuilder;var s=o(398);e.DropInPreset=s.DropInPreset,e.DropInPresetBuilder=s.DropInPresetBuilder;var c=o(164);e.DialogFormModal=c.DialogFormModal,e.FormDropIn=c.FormDropIn,e.VEXButtonClickEvent=c.VEXButtonClickEvent,e.VEXButtonConfig=c.VEXButtonConfig,e.VEXButtonHandler=c.VEXButtonHandler,e.VEXDialogButtons=c.VEXDialogButtons;var l=o(397);e.DialogPreset=l.DialogPreset,e.DialogPresetBuilder=l.DialogPresetBuilder;var d=o(562);e.VexModalModule=d.VexModalModule},394:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(7),s=o(165),c=0,l=function(){function t(t,e){this.dialog=t,this._modal=e,this.hs={},c++,document.body.classList.add("vex-open"),t.inElement&&(this.hs.ps="absolute",this.hs.sz="100%",this.hs.pt=0)}return Object.defineProperty(t.prototype,"cssClass",{get:function(){return"vex vex-theme-"+this.dialog.context.className},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){0===--c&&document.body.classList.remove("vex-open")},t.prototype.documentKeypress=function(t){this._modal.isTopMost(this.dialog)&&a.supportsKey(t.keyCode,this.dialog.context.keyboard)&&this.dialog.dismiss()},t=n([i.Component({selector:"modal-backdrop",host:{"[class.in-element]":"dialog.inElement","[style.position]":"hs.ps","[style.height]":"hs.sz","[style.width]":"hs.sz","[style.top]":"hs.pt","[style.left]":"hs.pt","[style.right]":"hs.pt","[style.bottom]":"hs.pt","(body:keydown)":"documentKeypress($event)"},styleUrls:["components/angular2-modal/plugins/vex/modal-backdrop.css"],encapsulation:i.ViewEncapsulation.None,template:'<div [class]="cssClass">\n    <div [class]="dialog.context.overlayClassName"></div>\n    <modal-content></modal-content>    \n</div>'}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.DialogRef&&a.DialogRef)&&e||Object,"function"==typeof(o="undefined"!=typeof s.Modal&&s.Modal)&&o||Object])],t);var e,o}();e.VexModalBackdrop=l},395:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(7),s=o(165),c=function(){function t(t,e,o,n){this.dialog=t,this._modal=e,this._compileConfig=o,this._cr=n,this.context=t.context}return t.prototype.ngAfterViewInit=function(){var t=this;this.dlgContainer.nativeElement&&this.dlgContainer.nativeElement.focus(),setTimeout(function(){t.dialog.contentRef=a.createComponent(t._cr,t._compileConfig.component,t._viewContainer,t._compileConfig.bindings)})},t.prototype.onClickOutside=function(){this._modal.isTopMost(this.dialog)&&!this.dialog.context.isBlocking&&this.dialog.dismiss()},n([i.ViewChild("dlgContainer"),r("design:type","function"==typeof(e="undefined"!=typeof i.ElementRef&&i.ElementRef)&&e||Object)],t.prototype,"dlgContainer",void 0),n([i.ViewChild("modalDialog",{read:i.ViewContainerRef}),r("design:type","function"==typeof(o="undefined"!=typeof i.ViewContainerRef&&i.ViewContainerRef)&&o||Object)],t.prototype,"_viewContainer",void 0),t=n([i.Component({selector:"modal-content",template:'<div tabindex="-1" role="dialog"\n      [class]="context.contentClassName" (clickOutside)="onClickOutside()" #dlgContainer>\n    <div style="display: none" #modalDialog></div>    \n    <div *ngIf="context.showCloseButton" \n         [class]="context.closeClassName" \n         (click)="dialog.dismiss()"></div>\n</div>',encapsulation:i.ViewEncapsulation.None}),r("design:paramtypes",["function"==typeof(c="undefined"!=typeof a.DialogRef&&a.DialogRef)&&c||Object,"function"==typeof(l="undefined"!=typeof s.Modal&&s.Modal)&&l||Object,"function"==typeof(d="undefined"!=typeof a.ModalCompileConfig&&a.ModalCompileConfig)&&d||Object,"function"==typeof(u="undefined"!=typeof i.ComponentFactoryResolver&&i.ComponentFactoryResolver)&&u||Object])],t);var e,o,c,l,d,u}();e.VexModalContent=c},396:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);
t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(7),i={className:"default",overlayClassName:"vex-overlay",contentClassName:"vex-content",closeClassName:"vex-close"},a=["className","overlayClassName","contentClassName","closeClassName","showCloseButton"],s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(r.ModalOpenContext);e.VEXModalContext=s;var c=function(t){function e(e,o,n){void 0===e&&(e=void 0),void 0===o&&(o=void 0),void 0===n&&(n=void 0),t.call(this,r.extend(i,e||{}),r.arrayUnion(a,o||[]),n||s)}return n(e,t),e.prototype.overlayClosesOnClick=function(t){return this[r.privateKey("isBlocking")]=!t,this},e}(r.ModalOpenContextBuilder);e.VEXModalContextBuilder=c},397:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(7),i=o(396),a=o(164),s=["content"],c=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(i.VEXModalContext);e.DialogPreset=c;var l=function(t){function e(e,o,n,i){void 0===o&&(o=void 0),void 0===n&&(n=void 0),void 0===i&&(i=void 0),t.call(this,r.extend({modal:e,component:a.DialogFormModal,buttons:[],defaultResult:!0},o||{}),r.arrayUnion(s,n||[]),i||c)}return n(e,t),e.prototype.addButton=function(t,e,o){var n={cssClass:t,caption:e,onClick:o},i=r.privateKey("buttons");return this[i].push(n),this},e.prototype.addOkButton=function(t){return void 0===t&&(t="OK"),this.addButton("vex-dialog-button-primary vex-dialog-button vex-first",t,function(t,e){return t.dialog.close(t.dialog.context.defaultResult)}),this},e.prototype.addCancelButton=function(t){return void 0===t&&(t="CANCEL"),this.addButton("vex-dialog-button-secondary vex-dialog-button vex-last",t,function(t,e){return t.dialog.dismiss()}),this},e}(i.VEXModalContextBuilder);e.DialogPresetBuilder=l},398:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(7),i=o(164),a=o(397),s={component:i.DialogFormModal,content:i.FormDropIn,okBtn:"OK",cancelBtn:"Cancel"},c=["okBtn","cancelBtn","placeholder","showCloseButton"],l=function(t){function e(){t.apply(this,arguments)}return n(e,t),Object.defineProperty(e.prototype,"showInput",{get:function(){return this.dropInType===r.DROP_IN_TYPE.prompt},enumerable:!0,configurable:!0}),e}(a.DialogPreset);e.DropInPreset=l;var d=function(t){function e(e,o,n){void 0===n&&(n=void 0),t.call(this,e,r.extend(r.extend({modal:e,dropInType:o},s),n||{}),c,l)}return n(e,t),e.prototype.$$beforeOpen=function(e){switch(e.okBtn&&this.addOkButton(e.okBtn),e.dropInType){case r.DROP_IN_TYPE.prompt:e.defaultResult=void 0;case r.DROP_IN_TYPE.confirm:e.cancelBtn&&this.addCancelButton(e.cancelBtn)}return t.prototype.$$beforeOpen.call(this,e)},e}(a.DialogPresetBuilder);e.DropInPresetBuilder=d},399:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(380),s=function(){function t(t){this._cr=t}return t.prototype.render=function(t,e,o,n){var r=a["default"](this._cr,t,e,o);return n.inElement?e.element.nativeElement.appendChild(r.location.nativeElement):document.body.appendChild(r.location.nativeElement),n.onDestroy.subscribe(function(){"function"==typeof r.instance.canDestroy?r.instance.canDestroy().then(function(){return r.destroy()}):r.destroy()}),n},t=n([i.Injectable(),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.ComponentFactoryResolver&&i.ComponentFactoryResolver)&&e||Object])],t);var e}();e.DOMModalRenderer=s},400:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(163),s=o(247),c=o(401),l=o(570),d=function(){function t(t){var e=this;this.modal=t,this.modalCommands=[{text:"alert drop in",factory:function(){return l.alert(e.modal).open()}},{text:"prompt drop in",factory:function(){return l.prompt(e.modal).open()}},{text:"confirm drop in",factory:function(){return l.confirm(e.modal).open()}},{text:"Cascading example",factory:function(){return l.cascading(e.modal).open()}},{text:"In Element example",factory:function(){return l.inElement(e.modal).open(e.demoHead.vcCommands)}},{text:"Custom Modal example",factory:function(){return e.modal.open(c.AdditionCalculateWindow,new c.AdditionCalculateWindowData(2,3))}}]}return n([i.ViewChild(s.DemoHead),r("design:type","function"==typeof(e="undefined"!=typeof s.DemoHead&&s.DemoHead)&&e||Object)],t.prototype,"demoHead",void 0),t=n([i.Component({selector:"bootstrap-demo-page",styleUrls:["demo/app/bootstrap-demo/bootstrap-demo-page/bootstrap-demo-page.css"],templateUrl:"demo/app/bootstrap-demo/bootstrap-demo-page/bootstrap-demo-page.tpl.html"}),r("design:paramtypes",["function"==typeof(o="undefined"!=typeof a.Modal&&a.Modal)&&o||Object])],t);var e,o}();e.BootstrapDemoPage=d},401:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=o(1),s=o(7),c=o(163),l=function(t){function e(e,o){t.call(this),this.num1=e,this.num2=o}return n(e,t),e}(c.BSModalContext);e.AdditionCalculateWindowData=l;var d=function(){function t(t){this.dialog=t,this.context=t.context,this.wrongAnswer=!0}return t.prototype.onKeyUp=function(t){this.wrongAnswer=5!=t,this.dialog.close()},t.prototype.beforeDismiss=function(){return!0},t.prototype.beforeClose=function(){return this.wrongAnswer},t=r([a.Component({selector:"modal-content",styles:["\n        .custom-modal-container {\n            padding: 15px;\n        }\n\n        .custom-modal-header {\n            background-color: #219161;\n            color: #fff;\n            -webkit-box-shadow: 0px 3px 5px 0px rgba(0,0,0,0.75);\n            -moz-box-shadow: 0px 3px 5px 0px rgba(0,0,0,0.75);\n            box-shadow: 0px 3px 5px 0px rgba(0,0,0,0.75);\n            margin-top: -15px;\n            margin-bottom: 40px;\n        }\n    "],template:'\n        <div class="container-fluid custom-modal-container">\n            <div class="row custom-modal-header">\n                <div class="col-sm-12">\n                    <h1>A Custom modal design</h1>\n                </div>\n            </div>\n            <div class="row" [ngClass]="{\'myclass\' : shouldUseMyClass}">\n                <div class="col-xs-12">\n                    <div class="jumbotron">\n                        <h1>Do the math to quit:</h1>\n                        <p class="lead">I received an injection of the number <strong>{{context.num1}}</strong> and the number <strong>{{context.num2}}</strong></p>\n                        <span>What is the sum?</span>\n                         <input class="form-control" type="text" #answer (keyup)="onKeyUp(answer.value)" autofocus>\n                    </div>\n                </div>\n            </div>\n        </div>'}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.DialogRef&&s.DialogRef)&&e||Object])],t);var e}();e.AdditionCalculateWindow=d},402:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(163),s=function(){function t(t,e){this.modal=t,t.defaultViewContainer=e}return t=n([i.Component({selector:"bootstrap-demo",template:"<router-outlet></router-outlet>",providers:a.BootstrapModalModule.getProviders(),encapsulation:i.ViewEncapsulation.None}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.Modal&&a.Modal)&&e||Object,"function"==typeof(o="undefined"!=typeof i.ViewContainerRef&&i.ViewContainerRef)&&o||Object])],t);var e,o}();e.BootstrapDemo=s},403:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(404),s=function(){function t(t){this.modal=t}return t.prototype.ngAfterViewInit=function(){this.modal.alert().title("Angular 2 Modal").templateRef(this.myTemplate).open(this.injectVC)},n([i.ViewChild("injectPoint",{read:i.ViewContainerRef}),r("design:type","function"==typeof(e="undefined"!=typeof i.ViewContainerRef&&i.ViewContainerRef)&&e||Object)],t.prototype,"injectVC",void 0),n([i.ViewChild("myTemplate",{read:i.TemplateRef}),r("design:type","function"==typeof(o="undefined"!=typeof i.TemplateRef&&i.TemplateRef)&&o||Object)],t.prototype,"myTemplate",void 0),t=n([i.Component({selector:"home",providers:a.InAppModalModule.getProviders(),templateUrl:"demo/app/home/home.tpl.html",encapsulation:i.ViewEncapsulation.None}),r("design:paramtypes",["function"==typeof(s="undefined"!=typeof a.Modal&&a.Modal)&&s||Object])],t);var e,o,s}();e.Home=s},404:function(t,e,o){"use strict";function n(){return[{provide:u.Modal,useClass:c.Modal},{provide:c.Modal,useClass:c.Modal},{provide:u.ModalBackdropComponent,useValue:l.InAppModalBackdrop},{provide:u.ModalDropInFactory,useValue:{alert:function(t){return new d.InAppModalContextBuilder(t)},prompt:void 0,confirm:void 0}}]}var r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=o(1),s=o(20),c=o(248),l=o(572),d=o(405),u=o(7),f=o(248);e.Modal=f.Modal;var p=o(405);e.InAppModalContext=p.InAppModalContext,e.InAppModalContextBuilder=p.InAppModalContextBuilder;var m=function(){function t(){}return t.getProviders=function(){return n()},t=r([a.NgModule({imports:[s.CommonModule],declarations:[l.InAppModalBackdrop],providers:n(),entryComponents:[l.InAppModalBackdrop]}),i("design:paramtypes",[])],t)}();e.InAppModalModule=m},405:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(7),i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.normalize=function(){this.message||(this.message="")},e}(r.ModalOpenContext);e.InAppModalContext=i;var a=function(t){function e(e){t.call(this,{modal:e},["title","templateRef"],i)}return n(e,t),e}(r.ModalOpenContextBuilder);e.InAppModalContextBuilder=a},406:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(244),s=o(575),c=function(){function t(t){var e=this;this.modal=t,this.modalCommands=["alert","prompt","confirm"].map(function(t){return{text:t+" drop in",factory:function(){return s[t](e.modal).open()}}})}return t=n([i.Component({selector:"js-native-demo",templateUrl:"demo/app/js-native-demo/js-native-demo.tpl.html",providers:a.JSNativeModalModule.getProviders(),encapsulation:i.ViewEncapsulation.None}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.Modal&&a.Modal)&&e||Object])],t);var e}();e.JSNativeDemo=c},407:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(7),s=function(){function t(t){this.dialog=t,this.context=t.context}return t=n([i.Component({selector:"login-dialog",encapsulation:i.ViewEncapsulation.None,template:'<div class="vex-dialog-message">{{context.message}}</div>\n    <div *ngIf="context.showInput" class="vex-dialog-input">\n        <input name="vex" \n               type="text" \n               class="vex-dialog-prompt-input"\n               [(ngModel)]="context.defaultResult" \n               placeholder="{{context.placeholder}}">\n    </div>'}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.DialogRef&&a.DialogRef)&&e||Object])],t);var e}();e.LoginDialog=s},408:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(393),s=o(247),c=o(576),l=o(407),d=function(){function t(t,e){var o=this;this.modal=t,this.theme="default",this.modal.defaultViewContainer=e,this.modalCommands=[{text:"alert drop in",factory:function(){return c.alert.call(o,o.modal).open()}},{text:"prompt drop in",factory:function(){return c.prompt.call(o,o.modal).open()}},{text:"confirm drop in",factory:function(){return c.confirm.call(o,o.modal).open()}},{text:"Cascading example",factory:function(){return c.cascading.call(o,o.modal).open()}},{text:"In Element example",factory:function(){return c.alert.call(o,o.modal).open(o.demoHead.vcCommands)}},{text:"Custom Modal example",factory:function(){return new a.DialogPresetBuilder(o.modal).className(o.theme).content(l.LoginDialog).message("Ary you coming to the event?").addOkButton("Yep!").addButton("vex-dialog-button-primary vex-dialog-button","Maybe?",function(t,e){return t.dialog.close("Maybe")}).addCancelButton("Nope!").open()}},{text:"no buttons",factory:function(){return c.noButtons.call(o,o.modal).open()}},{text:"custom buttons",factory:function(){return c.customButtons.call(o,o.modal).open()}}]}return n([i.ViewChild(s.DemoHead),r("design:type","function"==typeof(e="undefined"!=typeof s.DemoHead&&s.DemoHead)&&e||Object)],t.prototype,"demoHead",void 0),t=n([i.Component({selector:"vex-demo",styleUrls:["demo/app/vex-demo//css/vex.css","demo/app/vex-demo//css/vex-theme-default.css","demo/app/vex-demo//css/vex-theme-os.css","demo/app/vex-demo//css/vex-theme-plain.css","demo/app/vex-demo//css/vex-theme-wireframe.css","demo/app/vex-demo//css/vex-theme-flat-attack.css","demo/app/vex-demo//css/vex-theme-top.css","demo/app/vex-demo//css/vex-theme-bottom-right-corner.css"],templateUrl:"demo/app/vex-demo/vex-demo.tpl.html",providers:a.VexModalModule.getProviders(),encapsulation:i.ViewEncapsulation.None}),r("design:paramtypes",["function"==typeof(o="undefined"!=typeof a.Modal&&a.Modal)&&o||Object,"function"==typeof(d="undefined"!=typeof i.ViewContainerRef&&i.ViewContainerRef)&&d||Object])],t);var e,o,d}();e.VexDemo=d},557:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(94),s=o(246),c=o(240),l=o(399),d=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:c.ModalRenderer,useClass:l.DOMModalRenderer},{provide:a.EVENT_MANAGER_PLUGINS,useClass:s.DOMOutsideEventPlugin,multi:!0}]}},t=n([i.NgModule({}),r("design:paramtypes",[])],t)}();e.ModalModule=d},558:function(t,e){"use strict";var o=function(){function t(){this._stack=[]}return t.prototype.push=function(t){var e=this._stack.indexOf(t);e===-1&&this._stack.push(t)},t.prototype.pushManaged=function(t){this.push(t)},t.prototype.pop=function(){this._stack.pop()},t.prototype.remove=function(t){var e=this._stack.indexOf(t);e>-1&&this._stack.splice(e,1)},t.prototype.index=function(t){return this._stack[t]},t.prototype.indexOf=function(t){return this._stack.indexOf(t)},Object.defineProperty(t.prototype,"length",{get:function(){return this._stack.length},enumerable:!0,configurable:!0}),t}();e.DialogRefStack=o},559:function(t,e,o){"use strict";var n=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=o(246),i=o(383),a=o(118),s=["component"],c=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(i.ModalContext);e.ModalOpenContext=c;var l=function(t){function e(e,o,n){void 0===e&&(e=void 0),void 0===o&&(o=void 0),void 0===n&&(n=void 0),t.call(this,e||{},a.arrayUnion(s,o||[]),n)}return n(e,t),e.prototype.$$beforeOpen=function(t){return[]},e.prototype.open=function(t){var e=this.toJSON();if(!(e.modal instanceof r.Modal))return Promise.reject(new Error("Configuration Error: modal service not set."));var o="function"==typeof this.$$beforeOpen&&this.$$beforeOpen(e);return e.modal.open(e.component,e,o,t)},e}(i.ModalContextBuilder);e.ModalOpenContextBuilder=l},560:function(t,e,o){"use strict";function n(){return[{provide:y.Modal,useClass:c.Modal},{provide:c.Modal,useClass:c.Modal},{provide:y.ModalBackdropComponent,useValue:l.BSModalBackdrop},{provide:y.ModalDropInFactory,useValue:{alert:function(t){return new p.OneButtonPresetBuilder(t,{isBlocking:!1})},prompt:function(t){return new p.OneButtonPresetBuilder(t,{isBlocking:!0,keyboard:null})},confirm:function(t){return new m.TwoButtonPresetBuilder(t,{isBlocking:!0,keyboard:null})}}}]}var r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=o(1),s=o(20),c=o(242),l=o(384),d=o(241),u=o(385),f=o(387),p=o(388),m=o(389),y=o(7),h=function(){function t(){}return t.getProviders=function(){return n()},t=r([a.NgModule({imports:[s.CommonModule],declarations:[l.BSModalBackdrop,d.BSMessageModal,u.BSModalContainer,f.BSModalFooter],providers:n(),entryComponents:[l.BSModalBackdrop,d.BSMessageModal]}),i("design:paramtypes",[])],t)}();e.BootstrapModalModule=h},561:function(t,e,o){"use strict";function n(){return[{provide:d.Modal,useClass:s.Modal},{provide:s.Modal,useClass:s.Modal},{provide:d.ModalRenderer,useClass:c.JSNativeModalRenderer},{provide:d.ModalBackdropComponent,useValue:{}},{provide:d.ModalDropInFactory,useValue:{alert:function(t){return new l.JSNativePresetBuilder(t,d.DROP_IN_TYPE.alert)},prompt:function(t){return new l.JSNativePresetBuilder(t,d.DROP_IN_TYPE.prompt)},confirm:function(t){return new l.JSNativePresetBuilder(t,d.DROP_IN_TYPE.confirm)}}}]}var r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=o(1),s=o(245),c=o(390),l=o(392),d=o(7),u=function(){function t(){}return t.getProviders=function(){return n()},t=r([a.NgModule({providers:n()}),i("design:paramtypes",[])],t)}();e.JSNativeModalModule=u},562:function(t,e,o){"use strict";function n(){return[{provide:l.Modal,useClass:c.Modal},{provide:c.Modal,useClass:c.Modal},{provide:l.ModalBackdropComponent,useValue:u.VexModalBackdrop},{provide:l.ModalDropInFactory,useValue:{alert:function(t){return new d.DropInPresetBuilder(t,l.DROP_IN_TYPE.alert,{isBlocking:!1})},prompt:function(t){return new d.DropInPresetBuilder(t,l.DROP_IN_TYPE.prompt,{isBlocking:!0,keyboard:null})},confirm:function(t){return new d.DropInPresetBuilder(t,l.DROP_IN_TYPE.confirm,{isBlocking:!0,keyboard:null})}}}]}var r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=o(1),s=o(20),c=o(165),l=o(7),d=o(398),u=o(394),f=o(395),p=o(164),m=function(){function t(){}return t.getProviders=function(){return n()},t=r([a.NgModule({imports:[s.CommonModule],declarations:[u.VexModalBackdrop,f.VexModalContent,p.DialogFormModal,p.FormDropIn,p.VEXDialogButtons],providers:n(),entryComponents:[u.VexModalBackdrop,p.DialogFormModal,p.FormDropIn]}),i("design:paramtypes",[])],t)}();e.VexModalModule=m},563:function(t,e,o){"use strict";function n(t){return t?["alert","prompt","confirm"].reduce(function(t,e){return"function"!=typeof t[e]&&(t[e]=f),t},t):p}var r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(o,n){e(o,n,t)}},s=o(1),c=o(240),l=o(558),d=o(382),u=new l.DialogRefStack,f=function(){throw new Error("Unsupported Drop-in.")},p={alert:f,prompt:f,confirm:f},m=function(){function t(t,e,o){this._modalRenderer=t,this._backdrop=e,this._dropIn=n(o)}return t.prototype.alert=function(){return this._dropIn.alert(this)},t.prototype.prompt=function(){return this._dropIn.prompt(this)},t.prototype.confirm=function(){return this._dropIn.confirm(this)},t.prototype.open=function(e,o,n,r,i){if(void 0===o&&(o=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0),i=void 0===i?!!r:!!i,!r){if(!this.defaultViewContainer)throw new Error("defaultViewContainer not set.");r=this.defaultViewContainer}o&&o.normalize();var a=new d.DialogRef(o||{});a.inElement=i;var l=new c.ModalCompileConfig(e,n||[]),f=s.ReflectiveInjector.resolve([{provide:t,useValue:this},{provide:c.ModalRenderer,useValue:this._modalRenderer},{provide:d.DialogRef,useValue:a},{provide:c.ModalCompileConfig,useValue:l}]);return this._modalRenderer.render(this._backdrop,r,f,a),u.pushManaged(a),a.onDestroy.subscribe(function(){return u.remove(a)}),Promise.resolve(a)},t.prototype.isTopMost=function(t){return u.indexOf(t)===u.length-1},t.prototype.stackPosition=function(t){return u.indexOf(t)},Object.defineProperty(t.prototype,"stackLength",{get:function(){return u.length},enumerable:!0,configurable:!0}),t=r([s.Injectable(),a(2,s.Optional()),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof c.ModalRenderer&&c.ModalRenderer)&&e||Object,"function"==typeof(o="undefined"!=typeof c.ModalBackdropComponent&&c.ModalBackdropComponent)&&o||Object,"function"==typeof(l="undefined"!=typeof c.ModalDropInFactory&&c.ModalDropInFactory)&&l||Object])],t);var e,o,l}();e.Modal=m},564:function(t,e,o){"use strict";function n(t,e){return function(o){var n=o.target;do if(n===t)return;while(n.parentNode&&(n=n.parentNode));e(o)}}var r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=o(1),s=o(118),c={clickOutside:"click",mousedownOutside:"mousedown",mouseupOutside:"mouseup",mousemoveOutside:"mousemove"},l=function(){function t(){document&&"function"==typeof document.addEventListener||(this.addEventListener=s.noop)}return t.prototype.supports=function(t){return c.hasOwnProperty(t)},t.prototype.addEventListener=function(t,e,o){var r=this.manager.getZone(),i=function(){var i=n(t,function(t){return r.runGuarded(function(){return o(t)})});return document.addEventListener(c[e],i,!1),function(){return document.removeEventListener(c[e],i,!1)}};return r.runOutsideAngular(function(){var t;return setTimeout(function(){return t=i()},0),function(){return t()}})},t.prototype.addGlobalEventListener=function(t,e,o){throw"not supported"},t=r([a.Injectable(),i("design:paramtypes",[])],t)}();e.DOMOutsideEventPlugin=l},565:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(20),s=o(94),c=o(7),l=o(166),d=o(568),u=o(577),f=o(573),p=o(567),m=o(403),y=o(566),h=o(404),v=function(){function t(){}return t=n([i.NgModule({imports:[s.BrowserModule,y.routing,l.SharedModule.forRoot(),c.ModalModule.forRoot(),d.BootstrapDemoModule,u.VexDemoModule,f.JSNativeDemoModule,h.InAppModalModule],declarations:[p.App,m.Home],bootstrap:[p.App],providers:[{provide:a.LocationStrategy,useClass:a.HashLocationStrategy}]}),r("design:paramtypes",[])],t)}();e.AppModule=v},566:function(t,e,o){"use strict";var n=o(115),r=o(403);e.routes=[{path:"home",component:r.Home},{path:"",redirectTo:"home",terminal:!0}],e.routing=n.RouterModule.forRoot(e.routes)},567:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=function(){function t(){}return t=n([i.Component({selector:"app",encapsulation:i.ViewEncapsulation.None,styleUrls:["demo/app/app.css"],templateUrl:"demo/app/app.html"}),r("design:paramtypes",[])],t)}();e.App=a},568:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(20),s=o(163),c=o(166),l=o(569),d=o(402),u=o(400),f=o(401),p=function(){function t(){}return t=n([i.NgModule({imports:[a.CommonModule,s.BootstrapModalModule,l.routing,c.SharedModule],declarations:[d.BootstrapDemo,u.BootstrapDemoPage,f.AdditionCalculateWindow],entryComponents:[f.AdditionCalculateWindow]}),r("design:paramtypes",[])],t)}();e.BootstrapDemoModule=p},569:function(t,e,o){"use strict";var n=o(115),r=o(402),i=o(400);e.routing=n.RouterModule.forChild([{path:"bootstrap-demo",component:r.BootstrapDemo,children:[{path:"",component:i.BootstrapDemoPage,terminal:!0}]}])},570:function(t,e){"use strict";function o(t){return t.alert().size("lg").showClose(!0).title("A simple Alert style modal window").body("\n        <h4>Alert is a classic (title/body/footer) 1 button modal window that \n        does not block.</h4>\n        <b>Configuration:</b>\n        <ul>\n            <li>Non blocking (click anywhere outside to dismiss)</li>\n            <li>Size large</li>\n            <li>Dismissed with default keyboard key (ESC)</li>\n            <li>Close wth button click</li>\n            <li>HTML content</li>\n        </ul>")}function n(t){return t.prompt().size("lg").title("A simple Prompt style modal window").body("\n            <h4>Prompt is a classic (title/body/footer) 1 button modal window that \n            blocks.</h4>\n            <b>Configuration:</b>\n            <ul>\n                <li>Blocks (only button click can dismiss)</li>\n                <li>Size large</li>\n                <li>Keyboard can not dismiss</li>\n                <li>HTML content</li>\n            </ul>")}function r(t){return t.confirm().size("lg").titleHtml('\n            <div class="modal-title" \n                 style="font-size: 22px; color: grey; text-decoration: underline;">\n                 A simple Confirm style modal window</div>').body("\n            <h4>Confirm is a classic (title/body/footer) 2 button modal window that blocks.</h4>\n            <b>Configuration:</b>\n            <ul>\n                <li>Blocks (only button click can close/dismiss)</li>\n                <li>Size large</li>\n                <li>Keyboard can not dismiss</li>\n                <li>HTML Title</li>\n                <li>HTML content</li>\n            </ul>");
}function i(t){var e=[];return e.push(o(t)),e.push(n(t)),e.push(r(t)),e.push(t.prompt().size("sm").title("Cascading modals!").body("Find your way out...")),{open:function(){for(var t=e.shift().open();e.length>0;)e.shift().open();return t}}}function a(t){return t.prompt().size("sm").title("A modal contained by an element").body("Try stacking up more modals!")}e.alert=o,e.prompt=n,e.confirm=r,e.cascading=i,e.inElement=a},571:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=function(){function t(){this.dropInClick=new i.EventEmitter}return t.prototype.onClick=function(t,e){this.dropInClick.emit({event:t,source:e}),this.processDialog(e.factory())},t.prototype.processDialog=function(t){var e=this;t.then(function(t){return t.result.then(function(t){e.result=t},function(){return e.result="Rejected!"})})},n([i.Input(),r("design:type",String)],t.prototype,"title",void 0),n([i.Input(),r("design:type",String)],t.prototype,"description",void 0),n([i.Input(),r("design:type",Array)],t.prototype,"modalCommands",void 0),n([i.Output(),r("design:type","function"==typeof(e="undefined"!=typeof i.EventEmitter&&i.EventEmitter)&&e||Object)],t.prototype,"dropInClick",void 0),n([i.ViewChild("commands",{read:i.ViewContainerRef}),r("design:type","function"==typeof(o="undefined"!=typeof i.ViewContainerRef&&i.ViewContainerRef)&&o||Object)],t.prototype,"vcCommands",void 0),t=n([i.Component({selector:"demo-head",styles:["\n      .btn-dropin {\n          text-transform: uppercase;\n          margin: 15px;\n          background-color: #219161;\n          border: none;\n          box-shadow: 0 2px 5px 0 rgba(0,0,0,.26);\n          border-radius: 0;\n      }\n      "],templateUrl:"demo/app/demo-head/demo-head.html",encapsulation:i.ViewEncapsulation.Emulated}),r("design:paramtypes",[])],t);var e,o}();e.DemoHead=a},572:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(20),s=o(7),c=o(248),l=function(){function t(t,e){this.dialog=t,this._modal=e}return t=n([i.Component({selector:"modal-backdrop",directives:[a.NgTemplateOutlet],styles:["\n.in-app-modal-backdrop {\n    \n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n}","\narticle {\n    margin: auto;\n    width: 600px;\n    background: inherit;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    border-radius: 6px;\n    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.25);\n    overflow: hidden;\n}\narticle:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: inherit;\n    -webkit-filter: blur(10px) saturate(2);\n    filter: blur(10px) saturate(2);\n}\narticle .title {\n    padding: 8px;    \n    background: rgba(235, 235, 235, 0.85);\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n    font-size:24px;\n    text-align: center;\n}\narticle .content {\n    padding: 8px;\n    background: rgba(255, 255, 255, 0.66);\n}"],template:'<div class="in-app-modal-backdrop">\n    <article>\n        <div class="title">\n            <span>{{dialog.context.title}}</span>\n        </div>\n        <div class="content">\n            <template [ngTemplateOutlet]="dialog.context.templateRef"></template>\n        </div>\n    </article>    \n</div>'}),r("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.DialogRef&&s.DialogRef)&&e||Object,"function"==typeof(o="undefined"!=typeof c.Modal&&c.Modal)&&o||Object])],t);var e,o}();e.InAppModalBackdrop=l},573:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(20),s=o(166),c=o(244),l=o(574),d=o(406),u=function(){function t(){}return t=n([i.NgModule({imports:[a.CommonModule,c.JSNativeModalModule,l.routing,s.SharedModule],declarations:[d.JSNativeDemo]}),r("design:paramtypes",[])],t)}();e.JSNativeDemoModule=u},574:function(t,e,o){"use strict";var n=o(115),r=o(406);e.routing=n.RouterModule.forChild([{path:"js-native-demo",component:r.JSNativeDemo}])},575:function(t,e,o){"use strict";function n(t){return t.alert().message("This is a native alert!")}function r(t){return t.prompt().message("This is a native prompt!").promptDefault("This is a default value")}function i(t){return t.confirm().message("Yes or No?")}var a=o(244);e.JSNativeModal=a.JSNativeModal,e.JSNativePresetBuilder=a.JSNativePresetBuilder,e.alert=n,e.prompt=r,e.confirm=i},576:function(t,e){"use strict";function o(t){return t.alert().className(this.theme).message("An alert message!").showCloseButton(!0)}function n(t){return t.prompt().className(this.theme).message("Please type a value!").placeholder("This is a placeholder")}function r(t){return t.confirm().className(this.theme).message("Yes or No?").okBtn("Yes").cancelBtn("No")}function i(t){return t.alert().className(this.theme).showCloseButton(!0).isBlocking(!0).message("Luckily I have an X button, phew...").okBtn(null).cancelBtn(null)}function a(t){return t.alert().className(this.theme).showCloseButton(!0).isBlocking(!0).message("Let's show some bootstrap style buttons...").okBtn(null).cancelBtn(null).addButton("btn-primary","BTN-PRIMARY",function(t,e){return t.dialog.close("primary")}).addButton("btn-warning","BTN-WARNING",function(t,e){return t.dialog.close("warning")}).addButton("btn-success","BTN-SUCCESS",function(t,e){return t.dialog.close("success")})}function s(t){var e=[];return e.push(o.call(this,t)),e.push(n.call(this,t)),e.push(r.call(this,t)),e.push(t.alert().className(this.theme).message("Cascading modals! Find your way out...")),{open:function(){for(var t=e.shift().open();e.length>0;)e.shift().open();return t}}}e.alert=o,e.prompt=n,e.confirm=r,e.noButtons=i,e.customButtons=a,e.cascading=s},577:function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=o(1),a=o(20),s=o(356),c=o(393),l=o(166),d=o(578),u=o(408),f=o(407),p=function(){function t(){}return t=n([i.NgModule({imports:[s.FormsModule,a.CommonModule,c.VexModalModule,d.routing,l.SharedModule],declarations:[u.VexDemo,f.LoginDialog],entryComponents:[f.LoginDialog]}),r("design:paramtypes",[])],t)}();e.VexDemoModule=p},578:function(t,e,o){"use strict";var n=o(115),r=o(408);e.routing=n.RouterModule.forChild([{path:"vex-demo",component:r.VexDemo}])}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXBwLmpzIiwid2VicGFjazovLy8uL3NyYy9ib290c3RyYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvZnJhbWV3b3JrL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvYm9vdHN0cmFwL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvdmV4L2RpYWxvZy1mb3JtLW1vZGFsLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvdmV4L21vZGFsLnRzIiwid2VicGFjazovLy8uL3NyYy9kZW1vL2FwcC9zaGFyZWQubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL21vZGVscy90b2tlbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy9ib290c3RyYXAvbWVzc2FnZS1tb2RhbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2Jvb3RzdHJhcC9tb2RhbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2Jvb3RzdHJhcC9wcmVzZXRzL21lc3NhZ2UtbW9kYWwtcHJlc2V0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvanMtbmF0aXZlL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvanMtbmF0aXZlL21vZGFsLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3Byb3ZpZGVycy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvZGVtby1oZWFkL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9kZW1vL2FwcC9ob21lL2luLWFwcC1wbHVnaW4vbW9kYWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvZnJhbWV3b3JrL2NyZWF0ZUNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9mcmFtZXdvcmsvZmx1ZW50LWFzc2lnbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9tb2RlbHMvZGlhbG9nLXJlZi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9tb2RlbHMvbW9kYWwtY29udGV4dC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2Jvb3RzdHJhcC9tb2RhbC1iYWNrZHJvcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2Jvb3RzdHJhcC9tb2RhbC1jb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy9ib290c3RyYXAvbW9kYWwtY29udGV4dC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2Jvb3RzdHJhcC9tb2RhbC1mb290ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy9ib290c3RyYXAvcHJlc2V0cy9vbmUtYnV0dG9uLXByZXNldC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2Jvb3RzdHJhcC9wcmVzZXRzL3R3by1idXR0b24tcHJlc2V0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvanMtbmF0aXZlL2pzLW5hdGl2ZS1tb2RhbC1yZW5kZXJlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2pzLW5hdGl2ZS9tb2RhbC1jb250ZXh0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvanMtbmF0aXZlL3ByZXNldHMvanMtbmF0aXZlLXByZXNldC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL3ZleC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL3ZleC9tb2RhbC1iYWNrZHJvcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL3ZleC9tb2RhbC1jb250ZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvdmV4L21vZGFsLWNvbnRleHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy92ZXgvcHJlc2V0cy9kaWFsb2ctcHJlc2V0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvdmV4L3ByZXNldHMvZHJvcGluLXByZXNldC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wcm92aWRlcnMvZG9tLW1vZGFsLXJlbmRlcmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9kZW1vL2FwcC9ib290c3RyYXAtZGVtby9ib290c3RyYXAtZGVtby1wYWdlL2Jvb3RzdHJhcC1kZW1vLXBhZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RlbW8vYXBwL2Jvb3RzdHJhcC1kZW1vL2Jvb3RzdHJhcC1kZW1vLXBhZ2UvY3VzdG9tLW1vZGFsLXNhbXBsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvYm9vdHN0cmFwLWRlbW8vYm9vdHN0cmFwLWRlbW8udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RlbW8vYXBwL2hvbWUvaG9tZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvaG9tZS9pbi1hcHAtcGx1Z2luL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9kZW1vL2FwcC9ob21lL2luLWFwcC1wbHVnaW4vbW9kYWwtY29udGV4dC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvanMtbmF0aXZlLWRlbW8vanMtbmF0aXZlLWRlbW8udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RlbW8vYXBwL3ZleC1kZW1vL2xvZ2luLWRpYWxvZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvdmV4LWRlbW8vdmV4LWRlbW8udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvYW5ndWxhcjItbW9kYWwubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL21vZGVscy9kaWFsb2ctcmVmLXN0YWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL21vZGVscy9tb2RhbC1vcGVuLWNvbnRleHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy9ib290c3RyYXAvYm9vdHN0cmFwLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2pzLW5hdGl2ZS9qcy1uYXRpdmUubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvdmV4L3ZleC5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcHJvdmlkZXJzL21vZGFsLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3Byb3ZpZGVycy9vdXRzaWRlLWV2ZW50LXBsdWdpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvYXBwLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvYXBwLnJvdXRlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvYXBwLnRzIiwid2VicGFjazovLy8uL3NyYy9kZW1vL2FwcC9ib290c3RyYXAtZGVtby9ib290c3RyYXAtZGVtby5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RlbW8vYXBwL2Jvb3RzdHJhcC1kZW1vL2Jvb3RzdHJhcC1kZW1vLnJvdXRlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvYm9vdHN0cmFwLWRlbW8vcHJlc2V0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvZGVtby1oZWFkL2RlYW0taGVhZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvaG9tZS9pbi1hcHAtcGx1Z2luL21vZGFsLWJhY2tkcm9wLnRzIiwid2VicGFjazovLy8uL3NyYy9kZW1vL2FwcC9qcy1uYXRpdmUtZGVtby9qcy1uYXRpdmUtZGVtby5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RlbW8vYXBwL2pzLW5hdGl2ZS1kZW1vL2pzLW5hdGl2ZS1kZW1vLnJvdXRlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvanMtbmF0aXZlLWRlbW8vcHJlc2V0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvdmV4LWRlbW8vcHJlc2V0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby9hcHAvdmV4LWRlbW8vdmV4LWRlbW8ubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9kZW1vL2FwcC92ZXgtZGVtby92ZXgtZGVtby5yb3V0ZXMudHMiXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwiMCIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibWFpbiIsIl9ib290c3RyYXBwZWQiLCJQcm9taXNlIiwicmVqZWN0IiwicGxhdGZvcm1fYnJvd3Nlcl9keW5hbWljXzEiLCJwbGF0Zm9ybUJyb3dzZXJEeW5hbWljIiwiYm9vdHN0cmFwTW9kdWxlIiwiYXBwX21vZHVsZV8xIiwiQXBwTW9kdWxlIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiaXNCb290c3RyYXBwZWQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCI3IiwiX19leHBvcnQiLCJtIiwicCIsImhhc093blByb3BlcnR5IiwiY3JlYXRlQ29tcG9uZW50XzEiLCJjcmVhdGVDb21wb25lbnQiLCJ1dGlsc18xIiwiZXh0ZW5kIiwiYXJyYXlVbmlvbiIsInN1cHBvcnRzS2V5IiwiZGlhbG9nX3JlZl8xIiwiRGlhbG9nUmVmIiwidG9rZW5zXzEiLCJEUk9QX0lOX1RZUEUiLCJNb2RhbERyb3BJbkZhY3RvcnkiLCJNb2RhbEJhY2tkcm9wQ29tcG9uZW50IiwiTW9kYWxDb21wb25lbnQiLCJNb2RhbENvbXBpbGVDb25maWciLCJNb2RhbFJlbmRlcmVyIiwiaW5kZXhfMSIsIk1vZGFsIiwiRE9NTW9kYWxSZW5kZXJlciIsIm1vZGFsX2NvbnRleHRfMSIsIkRFRkFVTFRfVkFMVUVTIiwiTW9kYWxDb250ZXh0IiwiTW9kYWxDb250ZXh0QnVpbGRlciIsIk1vZGFsQ29udHJvbGxpbmdDb250ZXh0QnVpbGRlciIsIm1vZGFsX29wZW5fY29udGV4dF8xIiwiTW9kYWxPcGVuQ29udGV4dCIsIk1vZGFsT3BlbkNvbnRleHRCdWlsZGVyIiwiYW5ndWxhcjJfbW9kYWxfbW9kdWxlXzEiLCJNb2RhbE1vZHVsZSIsIjExOCIsIm0xIiwibTIiLCJhdHRyIiwiYXJyMSIsImFycjIiLCJjb25jYXQiLCJmaWx0ZXIiLCJ2IiwiaW5kZXhPZiIsImtleUNvZGUiLCJjb25maWciLCJBcnJheSIsImlzQXJyYXkiLCJ0b1N0eWxlU3RyaW5nIiwib2JqIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIm1hcCIsImsiLCJqb2luIiwibm9vcCIsIlByb21pc2VDb21wbGV0ZXIiLCJfdGhpcyIsInRoaXMiLCJwcm9taXNlIiwicmVzIiwicmVqIiwicmVzb2x2ZSIsIjE2MyIsIkJvb3RzdHJhcE1vZGFsU2l6ZSIsIkJTTW9kYWxDb250ZXh0IiwiQlNNb2RhbENvbnRleHRCdWlsZGVyIiwibW9kYWxfYmFja2Ryb3BfMSIsIkJTTW9kYWxCYWNrZHJvcCIsIm1vZGFsX2NvbnRhaW5lcl8xIiwiQlNNb2RhbENvbnRhaW5lciIsIm1lc3NhZ2VfbW9kYWxfMSIsIkJTTWVzc2FnZU1vZGFsIiwibW9kYWxfZm9vdGVyXzEiLCJCU01vZGFsRm9vdGVyIiwibWVzc2FnZV9tb2RhbF9wcmVzZXRfMSIsIk1lc3NhZ2VNb2RhbFByZXNldCIsIk1lc3NhZ2VNb2RhbFByZXNldEJ1aWxkZXIiLCJhbmd1bGFyMl9tb2RhbF8xIiwib25lX2J1dHRvbl9wcmVzZXRfMSIsIk9uZUJ1dHRvblByZXNldCIsIk9uZUJ1dHRvblByZXNldEJ1aWxkZXIiLCJ0d29fYnV0dG9uX3ByZXNldF8xIiwiVHdvQnV0dG9uUHJlc2V0IiwiVHdvQnV0dG9uUHJlc2V0QnVpbGRlciIsIm1vZGFsXzEiLCJCU01vZGFsIiwiYm9vdHN0cmFwX21vZHVsZV8xIiwiQm9vdHN0cmFwTW9kYWxNb2R1bGUiLCIxNjQiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJkIiwiYyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJpIiwiZGVmaW5lUHJvcGVydHkiLCJfX21ldGFkYXRhIiwibWV0YWRhdGEiLCJjb3JlXzEiLCJWRVhEaWFsb2dCdXR0b25zIiwib25CdXR0b25DbGljayIsIkV2ZW50RW1pdHRlciIsInByb3RvdHlwZSIsIm9uQ2xpY2siLCJidG4iLCIkZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJlbWl0IiwiSW5wdXQiLCJPdXRwdXQiLCJDb21wb25lbnQiLCJzZWxlY3RvciIsImVuY2Fwc3VsYXRpb24iLCJWaWV3RW5jYXBzdWxhdGlvbiIsIk5vbmUiLCJ0ZW1wbGF0ZSIsIkRpYWxvZ0Zvcm1Nb2RhbCIsImRpYWxvZyIsIl9jb21waWxlQ29uZmlnIiwiX2NyIiwiY29udGV4dCIsIm5nQWZ0ZXJWaWV3SW5pdCIsInNldFRpbWVvdXQiLCJjb250ZW50UmVmIiwiY29udGVudCIsIl92aWV3Q29udGFpbmVyIiwiYmluZGluZ3MiLCJWaWV3Q2hpbGQiLCJyZWFkIiwiVmlld0NvbnRhaW5lclJlZiIsIl9hIiwiX2IiLCJfYyIsIl9kIiwiQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiRm9ybURyb3BJbiIsIjE2NSIsIjE2NiIsImNvbW1vbl8xIiwiU2hhcmVkTW9kdWxlIiwiZm9yUm9vdCIsIm5nTW9kdWxlIiwicHJvdmlkZXJzIiwiTmdNb2R1bGUiLCJpbXBvcnRzIiwiQ29tbW9uTW9kdWxlIiwiZGVjbGFyYXRpb25zIiwiRGVtb0hlYWQiLCIyNDAiLCJfX2V4dGVuZHMiLCJiIiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsImNvbXBvbmVudCIsIl9zdXBlciIsImFwcGx5IiwiVHlwZSIsIjI0MSIsIm9uRm9vdGVyQnV0dG9uQ2xpY2siLCJnZXQiLCJ0aXRsZUh0bWwiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiMjQyIiwiMjQzIiwiaGVhZGVyQ2xhc3MiLCJib2R5Q2xhc3MiLCJmb290ZXJDbGFzcyIsIkRFRkFVTFRfU0VUVEVSUyIsImRlZmF1bHRWYWx1ZXMiLCJpbml0aWFsU2V0dGVycyIsImJhc2VUeXBlIiwidW5kZWZpbmVkIiwiY2FsbCIsImJ1dHRvbnMiLCJzZXRBc3NpZ25BbGlhcyIsImFkZEJ1dHRvbiIsImNzcyIsImNhcHRpb24iLCJjc3NDbGFzcyIsInByaXZhdGVLZXkiLCJwdXNoIiwiMjQ0IiwiSlNOYXRpdmVNb2RhbCIsIkpTTmF0aXZlTW9kYWxDb250ZXh0IiwiSlNOYXRpdmVNb2RhbENvbnRleHRCdWlsZGVyIiwianNfbmF0aXZlX21vZGFsX3JlbmRlcmVyXzEiLCJKU05hdGl2ZU1vZGFsUmVuZGVyZXIiLCJqc19uYXRpdmVfcHJlc2V0XzEiLCJKU05hdGl2ZVByZXNldEJ1aWxkZXIiLCJqc19uYXRpdmVfbW9kdWxlXzEiLCJKU05hdGl2ZU1vZGFsTW9kdWxlIiwiMjQ1IiwiMjQ2IiwiZG9tX21vZGFsX3JlbmRlcmVyXzEiLCJvdXRzaWRlX2V2ZW50X3BsdWdpbl8xIiwiRE9NT3V0c2lkZUV2ZW50UGx1Z2luIiwiMjQ3IiwiMjQ4IiwiMzgwIiwiY2ZyIiwidHlwZSIsInZjciIsInJlc29sdmVDb21wb25lbnRGYWN0b3J5IiwiZ2V0SW5qZWN0b3IiLCJ2aWV3Q29udGFpbmVyIiwiY3R4SW5qZWN0b3IiLCJwYXJlbnRJbmplY3RvciIsIlJlZmxlY3RpdmVJbmplY3RvciIsImZyb21SZXNvbHZlZFByb3ZpZGVycyIsInZhbHVlIiwiMzgxIiwidmFsaWRhdGVNZXRob2ROYW1lIiwibmFtZSIsIkVycm9yIiwiZ2V0QXNzaWduZWRQcm9wZXJ0eU5hbWVzIiwic3ViamVjdCIsIlJFU0VSVkVEX1JFR0VYIiwidGVzdCIsInN1YnN0ciIsIlBSSVZBVEVfUFJFRklYIiwib2JqZWN0RGVmaW5lUHJvcGVydHlWYWx1ZSIsInByb3BlcnR5TmFtZSIsIndyaXRhYmxlIiwiYXBwbHlEZWZhdWx0VmFsdWVzIiwiaW5zdGFuY2UiLCJmb3JFYWNoIiwic2V0QXNzaWduTWV0aG9kIiwid3JpdGVPbmNlIiwic3JjUHJvcGVydHlOYW1lIiwiaGFyZCIsInNyY0tleV8xIiwiRmx1ZW50QXNzaWduRmFjdG9yeSIsImZsdWVudEFzc2lnbiIsIl9mbHVlbnRBc3NpZ24iLCJGbHVlbnRBc3NpZ24iLCJzZXRNZXRob2QiLCJkZWZhdWx0VmFsdWUiLCJfX2ZsdWVudCRiYXNlX18iLCJjb21wb3NlIiwiY29tcG9zZVdpdGgiLCJ0b0pTT04iLCJyZWR1Y2UiLCJwcm9wRGVzYyIsIjM4MiIsIlN1YmplY3RfMSIsIl9yZXN1bHREZWZlcnJlZCIsIl9vbkRlc3Ryb3kiLCJTdWJqZWN0Iiwib25EZXN0cm95IiwiYXNPYnNlcnZhYmxlIiwiY2xvc2UiLCJyZXN1bHQiLCJfY2xvc2UiLCJkZXN0cm95IiwiX2ZpcmVIb29rIiwidGhlbiIsImRpc21pc3MiLCJfZGlzbWlzcyIsIm5leHQiLCJjb21wbGV0ZSIsImZuIiwiMzgzIiwiZmx1ZW50X2Fzc2lnbl8xIiwiaXNCbG9ja2luZyIsImtleWJvYXJkIiwibm9ybWFsaXplIiwiSW5qZWN0YWJsZSIsIkZ1bmN0aW9uIiwiMzg0IiwiZGlhbG9nUmVmQ291bnQiLCJmYWRlU3RhdGUiLCJocyIsInBzIiwic3oiLCJwdCIsImJvZHkiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbkVsZW1lbnQiLCJzdWJzY3JpYmUiLCJjYW5EZXN0cm95IiwibmdPbkRlc3Ryb3kiLCJyZW1vdmUiLCJob3N0IiwiW3N0eWxlLnBvc2l0aW9uXSIsIltzdHlsZS5oZWlnaHRdIiwiW3N0eWxlLndpZHRoXSIsIltzdHlsZS50b3BdIiwiW3N0eWxlLmxlZnRdIiwiW3N0eWxlLnJpZ2h0XSIsIltzdHlsZS5ib3R0b21dIiwiYW5pbWF0aW9ucyIsInRyaWdnZXIiLCJ0cmFuc2l0aW9uIiwiYW5pbWF0ZSIsImtleWZyYW1lcyIsInN0eWxlIiwib3BhY2l0eSIsInN0YXRlIiwiMzg1IiwiZWwiLCJfbW9kYWwiLCJwb3NpdGlvbiIsIm5hdGl2ZUVsZW1lbnQiLCJmb2N1cyIsIm9uQ2xpY2tPdXRzaWRlIiwiaXNUb3BNb3N0IiwiZG9jdW1lbnRLZXlwcmVzcyIsImV2ZW50IiwidGFiaW5kZXgiLCJyb2xlIiwiY2xhc3MiLCIoYm9keTprZXlkb3duKSIsInRyYW5zZm9ybSIsIm9mZnNldCIsIkVsZW1lbnRSZWYiLCJfZSIsIl9mIiwiMzg2IiwiZGlhbG9nQ2xhc3MiLCJzaG93Q2xvc2UiLCIzODciLCJTdHJpbmciLCIzODgiLCJtb2RhbCIsIm9rQnRuIiwib2tCdG5DbGFzcyIsIiQkYmVmb3JlT3BlbiIsImNtcCIsIjM4OSIsImNhbmNlbEJ0biIsImNhbmNlbEJ0bkNsYXNzIiwiMzkwIiwicmVuZGVyIiwiZGlhbG9nVHlwZSIsImFsZXJ0Iiwid2luZG93IiwibWVzc2FnZSIsInByb21wdCIsInByb21wdERlZmF1bHQiLCJjb25maXJtIiwiMzkxIiwiMzkyIiwib3BlbiIsIjM5MyIsIlZleE1vZGFsQmFja2Ryb3AiLCJtb2RhbF9jb250ZW50XzEiLCJWZXhNb2RhbENvbnRlbnQiLCJWRVhCdWlsdEluVGhlbWVzIiwiVkVYTW9kYWxDb250ZXh0IiwiVkVYTW9kYWxDb250ZXh0QnVpbGRlciIsImRyb3Bpbl9wcmVzZXRfMSIsIkRyb3BJblByZXNldCIsIkRyb3BJblByZXNldEJ1aWxkZXIiLCJkaWFsb2dfZm9ybV9tb2RhbF8xIiwiVkVYQnV0dG9uQ2xpY2tFdmVudCIsIlZFWEJ1dHRvbkNvbmZpZyIsIlZFWEJ1dHRvbkhhbmRsZXIiLCJkaWFsb2dfcHJlc2V0XzEiLCJEaWFsb2dQcmVzZXQiLCJEaWFsb2dQcmVzZXRCdWlsZGVyIiwidmV4X21vZHVsZV8xIiwiVmV4TW9kYWxNb2R1bGUiLCIzOTQiLCJjbGFzc05hbWUiLCJbY2xhc3MuaW4tZWxlbWVudF0iLCJzdHlsZVVybHMiLCIzOTUiLCJkbGdDb250YWluZXIiLCIzOTYiLCJvdmVybGF5Q2xhc3NOYW1lIiwiY29udGVudENsYXNzTmFtZSIsImNsb3NlQ2xhc3NOYW1lIiwib3ZlcmxheUNsb3Nlc09uQ2xpY2siLCIzOTciLCJkZWZhdWx0UmVzdWx0IiwiYWRkT2tCdXR0b24iLCJ0ZXh0IiwiYWRkQ2FuY2VsQnV0dG9uIiwiMzk4IiwiZHJvcEluVHlwZSIsIjM5OSIsImNtcFJlZiIsImVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImxvY2F0aW9uIiwiNDAwIiwiYm9vdHN0cmFwXzEiLCJjdXN0b21fbW9kYWxfc2FtcGxlXzEiLCJwcmVzZXRzIiwiQm9vdHN0cmFwRGVtb1BhZ2UiLCJtb2RhbENvbW1hbmRzIiwiZmFjdG9yeSIsImNhc2NhZGluZyIsImRlbW9IZWFkIiwidmNDb21tYW5kcyIsIkFkZGl0aW9uQ2FsY3VsYXRlV2luZG93IiwiQWRkaXRpb25DYWxjdWxhdGVXaW5kb3dEYXRhIiwidGVtcGxhdGVVcmwiLCI0MDEiLCJudW0xIiwibnVtMiIsIndyb25nQW5zd2VyIiwib25LZXlVcCIsImJlZm9yZURpc21pc3MiLCJiZWZvcmVDbG9zZSIsInN0eWxlcyIsIjQwMiIsIkJvb3RzdHJhcERlbW8iLCJkZWZhdWx0Vmlld0NvbnRhaW5lciIsImdldFByb3ZpZGVycyIsIjQwMyIsIkhvbWUiLCJ0aXRsZSIsInRlbXBsYXRlUmVmIiwibXlUZW1wbGF0ZSIsImluamVjdFZDIiwiVGVtcGxhdGVSZWYiLCJJbkFwcE1vZGFsTW9kdWxlIiwiNDA0IiwicHJvdmlkZSIsInVzZUNsYXNzIiwidXNlVmFsdWUiLCJJbkFwcE1vZGFsQmFja2Ryb3AiLCJJbkFwcE1vZGFsQ29udGV4dEJ1aWxkZXIiLCJtb2RhbF8yIiwibW9kYWxfY29udGV4dF8yIiwiSW5BcHBNb2RhbENvbnRleHQiLCJlbnRyeUNvbXBvbmVudHMiLCI0MDUiLCI0MDYiLCJqc19uYXRpdmVfMSIsIkpTTmF0aXZlRGVtbyIsImRyb3BpbiIsIjQwNyIsIkxvZ2luRGlhbG9nIiwiNDA4IiwidmV4XzEiLCJsb2dpbl9kaWFsb2dfMSIsIlZleERlbW8iLCJ0aGVtZSIsIm5vQnV0dG9ucyIsImN1c3RvbUJ1dHRvbnMiLCI1NTciLCJwbGF0Zm9ybV9icm93c2VyXzEiLCJFVkVOVF9NQU5BR0VSX1BMVUdJTlMiLCJtdWx0aSIsIjU1OCIsIkRpYWxvZ1JlZlN0YWNrIiwiX3N0YWNrIiwiZGlhbG9nUmVmIiwiaWR4IiwicHVzaE1hbmFnZWQiLCJwb3AiLCJzcGxpY2UiLCJpbmRleCIsIjU1OSIsIjU2MCIsIjU2MSIsIjU2MiIsIjU2MyIsIm5vcm1hbGl6ZURyb3BJbkZhY3RvcnkiLCJkcm9wSW5GYWN0b3J5IiwiZGlmIiwidW5zdXBwb3J0ZWREcm9wSW4iLCJVbnN1cHBvcnRlZERyb3BJbkZhY3RvcnkiLCJfX3BhcmFtIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsImRpYWxvZ19yZWZfc3RhY2tfMSIsIl9tb2RhbFJlbmRlcmVyIiwiX2JhY2tkcm9wIiwiX2Ryb3BJbiIsImNvbXBvbmVudFR5cGUiLCJpbnNpZGUiLCJjb21waWxlQ29uZmlnIiwic3RhY2tQb3NpdGlvbiIsIk9wdGlvbmFsIiwiNTY0IiwiYnViYmxlTm9uQW5jZXN0b3JIYW5kbGVyRmFjdG9yeSIsImhhbmRsZXIiLCJjdXJyZW50IiwicGFyZW50Tm9kZSIsImV2ZW50TWFwIiwiY2xpY2tPdXRzaWRlIiwibW91c2Vkb3duT3V0c2lkZSIsIm1vdXNldXBPdXRzaWRlIiwibW91c2Vtb3ZlT3V0c2lkZSIsInN1cHBvcnRzIiwiZXZlbnROYW1lIiwiem9uZSIsIm1hbmFnZXIiLCJnZXRab25lIiwib25jZU9uT3V0c2lkZSIsImxpc3RlbmVyIiwiZXZ0IiwicnVuR3VhcmRlZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJydW5PdXRzaWRlQW5ndWxhciIsImFkZEdsb2JhbEV2ZW50TGlzdGVuZXIiLCI1NjUiLCJzaGFyZWRfbW9kdWxlXzEiLCJib290c3RyYXBfZGVtb19tb2R1bGVfMSIsInZleF9kZW1vX21vZHVsZV8xIiwianNfbmF0aXZlX2RlbW9fbW9kdWxlXzEiLCJhcHBfMSIsImhvbWVfMSIsImFwcF9yb3V0ZXNfMSIsIkJyb3dzZXJNb2R1bGUiLCJyb3V0aW5nIiwiQm9vdHN0cmFwRGVtb01vZHVsZSIsIlZleERlbW9Nb2R1bGUiLCJKU05hdGl2ZURlbW9Nb2R1bGUiLCJBcHAiLCJib290c3RyYXAiLCJMb2NhdGlvblN0cmF0ZWd5IiwiSGFzaExvY2F0aW9uU3RyYXRlZ3kiLCI1NjYiLCJyb3V0ZXJfMSIsInJvdXRlcyIsInBhdGgiLCJyZWRpcmVjdFRvIiwidGVybWluYWwiLCJSb3V0ZXJNb2R1bGUiLCI1NjciLCI1NjgiLCJib290c3RyYXBfZGVtb19yb3V0ZXNfMSIsImJvb3RzdHJhcF9kZW1vXzEiLCJib290c3RyYXBfZGVtb19wYWdlXzEiLCI1NjkiLCJmb3JDaGlsZCIsImNoaWxkcmVuIiwiNTcwIiwic2l6ZSIsInJldCIsInNoaWZ0IiwiNTcxIiwiZHJvcEluQ2xpY2siLCJzb3VyY2UiLCJwcm9jZXNzRGlhbG9nIiwicmVzdWx0UHJvbWlzZSIsIkVtdWxhdGVkIiwiNTcyIiwiZGlyZWN0aXZlcyIsIk5nVGVtcGxhdGVPdXRsZXQiLCI1NzMiLCJqc19uYXRpdmVfZGVtb19yb3V0ZXNfMSIsImpzX25hdGl2ZV9kZW1vXzEiLCI1NzQiLCI1NzUiLCI1NzYiLCJzaG93Q2xvc2VCdXR0b24iLCJwbGFjZWhvbGRlciIsIjU3NyIsImZvcm1zXzEiLCJ2ZXhfZGVtb19yb3V0ZXNfMSIsInZleF9kZW1vXzEiLCJGb3Jtc01vZHVsZSIsIjU3OCJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsSUFFUkMsRUFDQSxTQUFTQyxFQUFRQyxFQUFTQyxHQUUvQixZQ0lELFNBQUFDLEtBQ0UsTUFBSUMsR0FDVUMsUUFBUUMsT0FBTyxPQUUzQkYsR0FBZ0IsRUFDVEcsRUFBQUMseUJBQXlCQyxnQkFBZ0JDLEVBQUFDLFdBQXpDSixTQUNFLFNBQUFLLEdBQU8sTUFBQUMsU0FBUUMsTUFBTUYsTUFJbEMsUUFBQUcsS0FDRSxNQUFPWCxHQW5CVCxHQUFBRyxHQUFBTCxFQUF1QyxLQUd2Q1EsRUFBQVIsRUFBMEIsS0FHdEJFLEdBQWdCLENBRUpILEdBQUFFLEtBQUlBLEVBVUpGLEVBQUFjLGVBQWNBLEVBSTlCQyxTQUFTQyxpQkFBaUIsbUJBQW9CZCxJRE94Q2UsRUFDQSxTQUFTbEIsRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxTQUFTaUIsR0FBU0MsR0FDZCxJQUFLLEdBQUlDLEtBQUtELEdBQVFuQixFQUFRcUIsZUFBZUQsS0FBSXBCLEVBQVFvQixHQUFLRCxFQUFFQyxJRWhDckVGLEVBQUFqQixFQUFjLEtBQ2QsSUFBQXFCLEdBQUFyQixFQUFnQyxJQUF2QkQsR0FBQXVCLGdCQUFBRCxFQUFBQyxlQUNULElBQUFDLEdBQUF2QixFQUFnRCxJQUF2Q0QsR0FBQXlCLE9BQUFELEVBQUFDLE9BQVF6QixFQUFBMEIsV0FBQUYsRUFBQUUsV0FBWTFCLEVBQUEyQixZQUFBSCxFQUFBRyxXQUU3QixJQUFBQyxHQUFBM0IsRUFBMEIsSUFBakJELEdBQUE2QixVQUFBRCxFQUFBQyxTQUVULElBQUFDLEdBQUE3QixFQU9PLElBTkxELEdBQUErQixhQUFBRCxFQUFBQyxhQUNBL0IsRUFBQWdDLG1CQUFBRixFQUFBRSxtQkFDQWhDLEVBQUFpQyx1QkFBQUgsRUFBQUcsdUJBQ0FqQyxFQUFBa0MsZUFBQUosRUFBQUksZUFDQWxDLEVBQUFtQyxtQkFBQUwsRUFBQUssbUJBQ0FuQyxFQUFBb0MsY0FBQU4sRUFBQU0sYUFHRixJQUFBQyxHQUFBcEMsRUFBd0MsSUFBL0JELEdBQUFzQyxNQUFBRCxFQUFBQyxNQUFPdEMsRUFBQXVDLGlCQUFBRixFQUFBRSxnQkFFaEIsSUFBQUMsR0FBQXZDLEVBS08sSUFKTEQsR0FBQXlDLGVBQUFELEVBQUFDLGVBQ0F6QyxFQUFBMEMsYUFBQUYsRUFBQUUsYUFDQTFDLEVBQUEyQyxvQkFBQUgsRUFBQUcsb0JBQ0EzQyxFQUFBNEMsK0JBQUFKLEVBQUFJLDhCQUdGLElBQUFDLEdBQUE1QyxFQUEwRCxJQUFqREQsR0FBQThDLGlCQUFBRCxFQUFBQyxpQkFBa0I5QyxFQUFBK0Msd0JBQUFGLEVBQUFFLHVCQUczQixJQUFBQyxHQUFBL0MsRUFBNEIsSUFBbkJELEdBQUFpRCxZQUFBRCxFQUFBQyxhRndDSEMsSUFDQSxTQUFTbkQsRUFBUUMsR0FFdEIsWUduRUQsU0FBQXlCLEdBQTBCMEIsRUFBU0MsR0FDakMsR0FBSWpDLEtBQ0osS0FBSyxHQUFJa0MsS0FBUUYsR0FDWEEsRUFBRzlCLGVBQWVnQyxLQUNkbEMsRUFBR2tDLEdBQWNGLEVBQUlFLEdBSS9CLEtBQUssR0FBSUEsS0FBUUQsR0FDWEEsRUFBRy9CLGVBQWVnQyxLQUNkbEMsRUFBR2tDLEdBQWNELEVBQUlDLEdBSS9CLE9BQU9sQyxHQVNULFFBQUFPLEdBQThCNEIsRUFBYUMsR0FDekMsTUFBT0QsR0FDSkUsT0FBT0QsRUFBS0UsT0FBTyxTQUFBQyxHQUFLLE1BQUFKLEdBQUtLLFFBQVFELFdBUzFDLFFBQUEvQixHQUE0QmlDLEVBQWlCQyxHQUMzQyxNQUFLQyxPQUFNQyxRQUFRRixHQUNaQSxFQUFPRixRQUFRQyxNQUR3QixPQUFYQyxFQXFCckMsUUFBQUcsR0FBOEJDLEdBQzVCLE1BQU9DLFFBQU9DLG9CQUFvQkYsR0FDL0JHLElBQUksU0FBQUMsR0FBSyxNQUFHQSxHQUFDLElBQUlKLEVBQUlJLEtBQ3JCQyxLQUFLLEtBcUJWLFFBQUFDLE1BaEZnQnZFLEVBQUF5QixPQUFNQSxFQXVCTnpCLEVBQUEwQixXQUFVQSxFQVdWMUIsRUFBQTJCLFlBQVdBLEVBc0JYM0IsRUFBQWdFLGNBQWFBLENBVzdCLElBQUFRLEdBQUEsV0FLRSxRQUFBQSxLQUxGLEdBQUFDLEdBQUFDLElBTUlBLE1BQUtDLFFBQVUsR0FBSXZFLFNBQVEsU0FBQ3dFLEVBQUtDLEdBQy9CSixFQUFLSyxRQUFVRixFQUNmSCxFQUFLcEUsT0FBU3dFLElBR3BCLE1BQUFMLEtBWGF4RSxHQUFBd0UsaUJBQWdCQSxFQWFieEUsRUFBQXVFLEtBQUlBLEdIMkVkUSxJQUNBLFNBQVNoRixFQUFRQyxFQUFTQyxHQUUvQixZSXBLRCxJQUFBdUMsR0FBQXZDLEVBQTBFLElBQWpFRCxHQUFBZ0YsbUJBQUF4QyxFQUFBd0MsbUJBQW9CaEYsRUFBQWlGLGVBQUF6QyxFQUFBeUMsZUFBZ0JqRixFQUFBa0Ysc0JBQUExQyxFQUFBMEMscUJBQzdDLElBQUFDLEdBQUFsRixFQUFnQyxJQUF2QkQsR0FBQW9GLGdCQUFBRCxFQUFBQyxlQUNULElBQUFDLEdBQUFwRixFQUFpQyxJQUF4QkQsR0FBQXNGLGlCQUFBRCxFQUFBQyxnQkFDVCxJQUFBQyxHQUFBdEYsRUFBK0IsSUFBdEJELEdBQUF3RixlQUFBRCxFQUFBQyxjQUNULElBQUFDLEdBQUF4RixFQUE4QixJQUFyQkQsR0FBQTBGLGNBQUFELEVBQUFDLGFBRVQsSUFBQUMsR0FBQTFGLEVBR08sSUFGSEQsR0FBQTRGLG1CQUFBRCxFQUFBQyxtQkFDQTVGLEVBQUE2RiwwQkFBQUYsRUFBQUUseUJBR0osSUFBQUMsR0FBQTdGLEVBQTBELEVBQWpERCxHQUFBOEMsaUJBQUFnRCxFQUFBaEQsaUJBQWtCOUMsRUFBQStDLHdCQUFBK0MsRUFBQS9DLHVCQUMzQixJQUFBZ0QsR0FBQTlGLEVBQXdELElBQS9DRCxHQUFBZ0csZ0JBQUFELEVBQUFDLGdCQUFpQmhHLEVBQUFpRyx1QkFBQUYsRUFBQUUsc0JBQzFCLElBQUFDLEdBQUFqRyxFQUF3RCxJQUEvQ0QsR0FBQW1HLGdCQUFBRCxFQUFBQyxnQkFBaUJuRyxFQUFBb0csdUJBQUFGLEVBQUFFLHNCQUMxQixJQUFBQyxHQUFBcEcsRUFBK0IsSUFBdEJELEdBQUFzRyxRQUFBRCxFQUFBQyxRQUFTdEcsRUFBQXNDLE1BQUErRCxFQUFBL0QsS0FFbEIsSUFBQWlFLEdBQUF0RyxFQUFxQyxJQUE1QkQsR0FBQXdHLHFCQUFBRCxFQUFBQyxzQkpzTEhDLElBQ0EsU0FBUzFHLEVBQVFDLEVBQVNDLEdBRS9CLFlBQ0EsSUFBSXlHLEdBQWNoQyxNQUFRQSxLQUFLZ0MsWUFBZSxTQUFVQyxFQUFZQyxFQUFRQyxFQUFLQyxHQUM3RSxHQUEySEMsR0FBdkhDLEVBQUlDLFVBQVVDLE9BQVFDLEVBQUlILEVBQUksRUFBSUosRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU81QyxPQUFPa0QseUJBQXlCUixFQUFRQyxHQUFPQyxDQUNySCxJQUF1QixnQkFBWk8sVUFBb0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkgsRUFBSUUsUUFBUUMsU0FBU1gsRUFBWUMsRUFBUUMsRUFBS0MsT0FDcEgsS0FBSyxHQUFJUyxHQUFJWixFQUFXTyxPQUFTLEVBQUdLLEdBQUssRUFBR0EsS0FBU1IsRUFBSUosRUFBV1ksTUFBSUosR0FBS0gsRUFBSSxFQUFJRCxFQUFFSSxHQUFLSCxFQUFJLEVBQUlELEVBQUVILEVBQVFDLEVBQUtNLEdBQUtKLEVBQUVILEVBQVFDLEtBQVNNLEVBQ2hKLE9BQU9ILEdBQUksR0FBS0csR0FBS2pELE9BQU9zRCxlQUFlWixFQUFRQyxFQUFLTSxHQUFJQSxHQUU1RE0sRUFBYy9DLE1BQVFBLEtBQUsrQyxZQUFlLFNBQVVwRCxFQUFHWCxHQUN2RCxHQUF1QixnQkFBWjJELFVBQW9ELGtCQUFyQkEsU0FBUUssU0FBeUIsTUFBT0wsU0FBUUssU0FBU3JELEVBQUdYLElLak4zR2lFLEVBQUExSCxFQVVPLEdBRVA2RixFQUFBN0YsRUFLTyxHQW9DUDJILEVBQUEsbUJBQUFBLEtBV21CbEQsS0FBQW1ELGNBQWdCLEdBQUlGLEdBQUFHLGFBTXZDLE1BSkVGLEdBQUFHLFVBQUFDLFFBQUEsU0FBUUMsRUFBVUMsR0FDaEJBLEVBQU9DLGtCQUNQekQsS0FBS21ELGNBQWNPLE1BQU1ILE1BQUtDLFlBVmhDeEIsR0FBQ2lCLEVBQUFVLFFMNEtNWixFQUFXLGNBQWUzRCxRQUMzQjhELEVBQWlCRyxVQUFXLFVBQVcsUUt2SzdDckIsR0FBQ2lCLEVBQUFXLFNMMEtNYixFQUFXLGNBQWV2RCxTQUMzQjBELEVBQWlCRyxVQUFXLGdCQUFpQixRS2hNckRILEVBQUFsQixHQUFDaUIsRUFBQVksV0FDQ0MsU0FBVSxxQkFDVkMsY0FBZWQsRUFBQWUsa0JBQWtCQyxLQUNqQ0MsU0FBVSxtTkxvTUhuQixFQUFXLHlCQUNaRyxLSzlMSzVILEdBQUE0SCxpQkFBZ0JBLENBZ0M3QixJQUFBaUIsR0FBQSxXQUlFLFFBQUFBLEdBQW1CQyxFQUNDQyxFQUNBQyxHQUZEdEUsS0FBQW9FLFNBQ0NwRSxLQUFBcUUsaUJBQ0FyRSxLQUFBc0UsTUFDbEJ0RSxLQUFLdUUsUUFBVUgsRUFBT0csUUFzQjFCLE1BbkJFSixHQUFBZCxVQUFBbUIsZ0JBQUEsY0FBQXpFLEdBQUFDLElBT0V5RSxZQUFZLFdBQ1IxRSxFQUFLcUUsT0FBT00sV0FBYXRELEVBQUF2RSxnQkFDdkJrRCxFQUFLdUUsSUFDTHZFLEVBQUt3RSxRQUFRSSxRQUNiNUUsRUFBSzZFLGVBQ0w3RSxFQUFLc0UsZUFBZVEsYUFJNUJWLEVBQUFkLFVBQUFGLGNBQUEsU0FBY0ssR0FDWkEsRUFBT0QsSUFBSUQsUUFBUXRELEtBQU13RCxFQUFPQSxTQXpCbEN4QixHQUFDaUIsRUFBQTZCLFVBQVUsZUFBZ0JDLEtBQU05QixFQUFBK0IsbUJMNEwxQmpDLEVBQVcsY0FBNEcsbUJBQXBGa0MsRUFBd0MsbUJBQTVCaEMsR0FBTytCLGtCQUFvQy9CLEVBQU8rQixtQkFBb0NDLEdBQU96RixTQUM3STJFLEVBQWdCZCxVQUFXLGlCQUFrQixRS3hNckRjLEVBQUFuQyxHQUFDaUIsRUFBQVksV0FDQ0MsU0FBVSxlQUNWQyxjQUFlZCxFQUFBZSxrQkFBa0JDLEtBQ2pDQyxTQUFVLDZPTDRNSG5CLEVBQVcscUJBQXlILG1CQUExRm1DLEVBQTJDLG1CQUEvQjlELEdBQWlCakUsV0FBNkJpRSxFQUFpQmpFLFlBQTZCK0gsR0FBTzFGLE9BQTZILG1CQUE1RzJGLEVBQW9ELG1CQUF4Qy9ELEdBQWlCM0Qsb0JBQXNDMkQsRUFBaUIzRCxxQkFBc0MwSCxHQUFPM0YsT0FBcUgsbUJBQXBHNEYsRUFBZ0QsbUJBQXBDbkMsR0FBT29DLDBCQUE0Q3BDLEVBQU9vQywyQkFBNENELEdBQU81RixVQUN0YjJFLEVBRUgsSUFBSWMsR0FBSUMsRUFBSUMsRUFBSUMsSUt6TVI5SixHQUFBNkksZ0JBQWVBLENBNEM1QixJQUFBbUIsR0FBQSxXQUdFLFFBQUFBLEdBQW1CbEIsR0FBQXBFLEtBQUFvRSxTQUNqQnBFLEtBQUt1RSxRQUFVSCxFQUFPRyxRQUUxQixNQW5CQWUsR0FBQXRELEdBQUNpQixFQUFBWSxXQUNDQyxTQUFVLGlCQUNWQyxjQUFlZCxFQUFBZSxrQkFBa0JDLEtBQ2pDQyxTQUFVLHVaTHFMSG5CLEVBQVcscUJBQXlILG1CQUExRmtDLEVBQTJDLG1CQUEvQjdELEdBQWlCakUsV0FBNkJpRSxFQUFpQmpFLFlBQTZCOEgsR0FBT3pGLFVBQzFKOEYsRUFFSCxJQUFJTCxLSzlLSTNKLEdBQUFnSyxXQUFVQSxHTHFMakJDLElBQ0EsU0FBU2xLLEVBQVFDLEVBQVNDLEdBRS9CLFlNelRELElBQUE2RixHQUFBN0YsRUFBaUMsRUFTcEJELEdBQUFzQyxNQUFRd0QsRUFBQXhELE9OdVRmNEgsSUFDQSxTQUFTbkssRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxJQUFJeUcsR0FBY2hDLE1BQVFBLEtBQUtnQyxZQUFlLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBTzVDLE9BQU9rRCx5QkFBeUJSLEVBQVFDLEdBQU9DLENBQ3JILElBQXVCLGdCQUFaTyxVQUFvRCxrQkFBckJBLFNBQVFDLFNBQXlCSCxFQUFJRSxRQUFRQyxTQUFTWCxFQUFZQyxFQUFRQyxFQUFLQyxPQUNwSCxLQUFLLEdBQUlTLEdBQUlaLEVBQVdPLE9BQVMsRUFBR0ssR0FBSyxFQUFHQSxLQUFTUixFQUFJSixFQUFXWSxNQUFJSixHQUFLSCxFQUFJLEVBQUlELEVBQUVJLEdBQUtILEVBQUksRUFBSUQsRUFBRUgsRUFBUUMsRUFBS00sR0FBS0osRUFBRUgsRUFBUUMsS0FBU00sRUFDaEosT0FBT0gsR0FBSSxHQUFLRyxHQUFLakQsT0FBT3NELGVBQWVaLEVBQVFDLEVBQUtNLEdBQUlBLEdBRTVETSxFQUFjL0MsTUFBUUEsS0FBSytDLFlBQWUsU0FBVXBELEVBQUdYLEdBQ3ZELEdBQXVCLGdCQUFaMkQsVUFBb0Qsa0JBQXJCQSxTQUFRSyxTQUF5QixNQUFPTCxTQUFRSyxTQUFTckQsRUFBR1gsSU8zVTNHaUUsRUFBQTFILEVBQThDLEdBQzlDa0ssRUFBQWxLLEVBQTZCLElBRTdCb0MsRUFBQXBDLEVBQXlCLEtBUXpCbUssRUFBQSxtQkFBQUEsTUFRQSxNQVBTQSxHQUFBQyxRQUFQLFdBQ0UsT0FDRUMsU0FBVUYsRUFDVkcsZUFUTkgsRUFBQTFELEdBQUNpQixFQUFBNkMsVUFDQ0MsU0FBV04sRUFBQU8sY0FDWEMsY0FBZ0J0SSxFQUFBdUksVUFDaEI1SyxTQUFXcUMsRUFBQXVJLFlQc1ZKbkQsRUFBVyx5QkFDWjJDLEtPclZLcEssR0FBQW9LLGFBQVlBLEdQNlZuQlMsSUFDQSxTQUFTOUssRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxJQUFJNkssR0FBYXBHLE1BQVFBLEtBQUtvRyxXQUFjLFNBQVUvRCxFQUFHZ0UsR0FFckQsUUFBU0MsS0FBT3RHLEtBQUt1RyxZQUFjbEUsRUFEbkMsSUFBSyxHQUFJM0YsS0FBSzJKLEdBQU9BLEVBQUUxSixlQUFlRCxLQUFJMkYsRUFBRTNGLEdBQUsySixFQUFFM0osR0FFbkQyRixHQUFFZ0IsVUFBa0IsT0FBTmdELEVBQWE3RyxPQUFPZ0gsT0FBT0gsSUFBTUMsRUFBR2pELFVBQVlnRCxFQUFFaEQsVUFBVyxHQUFJaUQsS1EvV3BGckQsRUFBQTFILEVBSU8sSUFNUCxTQUFZOEIsR0FDUkEsSUFBQSxpQkFDQUEsSUFBQSxtQkFDQUEsSUFBQSxzQkFIUS9CLEVBQUErQixlQUFBL0IsRUFBQStCLGlCQUFaLElBc0JBSSxJQXRCWW5DLEVBQUErQixhQXNCWixXQUNJLFFBQUFJLEdBQW1CZ0osRUFBd0I1QixHQUF4QjdFLEtBQUF5RyxZQUF3QnpHLEtBQUE2RSxXQUMvQyxNQUFBcEgsTUFGYW5DLEdBQUFtQyxtQkFBa0JBLENBSS9CLElBQUFDLEdBQUEsbUJBQUFBLE1BTUEsTUFBQUEsS0FOc0JwQyxHQUFBb0MsY0FBYUEsQ0FRbkMsSUFBQUgsR0FBQSxTQUFBbUosR0FBQSxRQUFBbkosS0FBcURtSixFQUFBQyxNQUFBM0csS0FBQXVDLFdBQU0sTUFBTjZELEdBQUE3SSxFQUFBbUosR0FBTW5KLEdBQU4wRixFQUFBMkQsS0FBL0J0TCxHQUFBaUMsdUJBQXNCQSxDQUU1QyxJQUFBRCxHQUFBLG1CQUFBQSxNQUlBLE1BQUFBLEtBSmFoQyxHQUFBZ0MsbUJBQWtCQSxHUjBXekJ1SixJQUNBLFNBQVN4TCxFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUl5RyxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJU25hM0dpRSxFQUFBMUgsRUFBNkMsR0FFN0M2RixFQUFBN0YsRUFBMEMsR0FvRDFDdUYsRUFBQSxXQUdJLFFBQUFBLEdBQW1Cc0QsR0FBQXBFLEtBQUFvRSxTQUNmcEUsS0FBS3VFLFFBQVVILEVBQU9HLFFBVTlCLE1BUEl6RCxHQUFBdUMsVUFBQXlELG9CQUFBLFNBQW9CdEQsR0FDaEJBLEVBQU9ELElBQUlELFFBQVF0RCxLQUFNd0QsRUFBT0EsU0FHcENoRSxPQUFBc0QsZUFBSWhDLEVBQUF1QyxVQUFBLGFUaVlDMEQsSVNqWUwsV0FDSSxNQUFPL0csTUFBS3VFLFFBQVF5QyxVQUFZLEVBQUksR1RtWW5DQyxZQUFZLEVBQ1pDLGNBQWMsSVNqYXZCcEcsRUFBQWtCLEdBQUNpQixFQUFBWSxXQUNHQyxTQUFVLGdCQUNWQyxjQUFlZCxFQUFBZSxrQkFBa0JDLEtBQ2pDQyxTQUNBLDRxQlRxYUtuQixFQUFXLHFCQUF5SCxtQkFBMUZrQyxFQUEyQyxtQkFBL0I3RCxHQUFpQmpFLFdBQTZCaUUsRUFBaUJqRSxZQUE2QjhILEdBQU96RixVQUMxSnNCLEVBRUgsSUFBSW1FLEtTM1pJM0osR0FBQXdGLGVBQWNBLEdUa2FyQnFHLElBQ0EsU0FBUzlMLEVBQVFDLEVBQVNDLEdBRS9CLFlVM2RELElBQUE2RixHQUFBN0YsRUFBaUMsRUFVcEJELEdBQUFzQyxNQUFRd0QsRUFBQXhELE9Wd2Rmd0osSUFDQSxTQUFTL0wsRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxJQUFJNkssR0FBYXBHLE1BQVFBLEtBQUtvRyxXQUFjLFNBQVUvRCxFQUFHZ0UsR0FFckQsUUFBU0MsS0FBT3RHLEtBQUt1RyxZQUFjbEUsRUFEbkMsSUFBSyxHQUFJM0YsS0FBSzJKLEdBQU9BLEVBQUUxSixlQUFlRCxLQUFJMkYsRUFBRTNGLEdBQUsySixFQUFFM0osR0FFbkQyRixHQUFFZ0IsVUFBa0IsT0FBTmdELEVBQWE3RyxPQUFPZ0gsT0FBT0gsSUFBTUMsRUFBR2pELFVBQVlnRCxFQUFFaEQsVUFBVyxHQUFJaUQsS1d6ZXBGbEYsRUFBQTdGLEVBTU8sR0FFUHVDLEVBQUF2QyxFQUF1RCxLQUN2RHNGLEVBQUF0RixFQUErQixLQUd6QndDLEdBQ0owSSxVQUFXNUYsRUFBQUMsZUFDWHVHLFlBQWEsZUFDYkMsVUFBVyxhQUNYQyxZQUFhLGdCQUdUQyxHQUNKLGNBQ0EsUUFDQSxZQUNBLFlBQ0EsZUFpRUZyRyxFQUFBLFNBQUF1RixHQW1ERSxRQUFBdkYsR0FBWXNHLEVBQ0FDLEVBQ0FDLEdBRkEsU0FBQUYsTUFBQUcsUUFDQSxTQUFBRixNQUFBRSxRQUNBLFNBQUFELE1BQUFDLFFBQ1ZsQixFQUFBbUIsS0FBQTdILEtBQ0VvQixFQUFBckUsT0FBWXFFLEVBQUFyRSxRQUFRK0ssWUFBYy9KLEdBQWlCMEosT0FDbkRyRyxFQUFBcEUsV0FBbUJ3SyxFQUFpQkUsT0FDcENDLEdBR0Z2RyxFQUFBMkcsZUFBZS9ILEtBQU0sT0FBUSxXQUFXLEdBZTVDLE1BMUVRb0csR0FBQWpGLEVBQUF1RixHQThETnZGLEVBQUFrQyxVQUFBMkUsVUFBQSxTQUFVQyxFQUFhQyxFQUFpQjVFLEdBQ3RDLEdBQUlDLElBQ0Y0RSxTQUFVRixFQUNWQyxRQUFTQSxFQUNUNUUsUUFBU0EsR0FHUG5CLEVBQU1mLEVBQUFnSCxXQUFXLFVBR3JCLE9BRkNwSSxNQUFLbUMsR0FBc0NrRyxLQUFLOUUsR0FFMUN2RCxNQUVYbUIsR0ExRVFyRCxFQUFBMEMsc0JBRGNsRixHQUFBNkYsMEJBQXlCQSxHWGljekNtSCxJQUNBLFNBQVNqTixFQUFRQyxFQUFTQyxHQUUvQixZWTNoQkQsSUFBQW9HLEdBQUFwRyxFQUFxQyxJQUE1QkQsR0FBQXNDLE1BQUErRCxFQUFBL0QsTUFBT3RDLEVBQUFpTixjQUFBNUcsRUFBQTRHLGFBQ2hCLElBQUF6SyxHQUFBdkMsRUFHTyxJQUZIRCxHQUFBa04scUJBQUExSyxFQUFBMEsscUJBQ0FsTixFQUFBbU4sNEJBQUEzSyxFQUFBMkssMkJBRUosSUFBQUMsR0FBQW5OLEVBQXNDLElBQTdCRCxHQUFBcU4sc0JBQUFELEVBQUFDLHFCQUNULElBQUFDLEdBQUFyTixFQUFzQyxJQUE3QkQsR0FBQXVOLHNCQUFBRCxFQUFBQyxxQkFFVCxJQUFBQyxHQUFBdk4sRUFBb0MsSUFBM0JELEdBQUF5TixvQkFBQUQsRUFBQUMscUJab2lCSEMsSUFDQSxTQUFTM04sRUFBUUMsRUFBU0MsR0FFL0IsWWFqakJELElBQUE2RixHQUFBN0YsRUFBaUMsRUFTcEJELEdBQUFzQyxNQUFRd0QsRUFBQXhELE9iK2lCZnFMLElBQ0EsU0FBUzVOLEVBQVFDLEVBQVNDLEdBRS9CLFljM2pCRCxJQUFBMk4sR0FBQTNOLEVBQWlDLElBQXhCRCxHQUFBdUMsaUJBQUFxTCxFQUFBckwsZ0JBQ1QsSUFBQThELEdBQUFwRyxFQUFzQixJQUFiRCxHQUFBc0MsTUFBQStELEVBQUEvRCxLQUNULElBQUF1TCxHQUFBNU4sRUFBc0MsSUFBN0JELEdBQUE4TixzQkFBQUQsRUFBQUMsdUJkb2tCSEMsSUFDQSxTQUFTaE8sRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxTQUFTaUIsR0FBU0MsR0FDZCxJQUFLLEdBQUlDLEtBQUtELEdBQVFuQixFQUFRcUIsZUFBZUQsS0FBSXBCLEVBQVFvQixHQUFLRCxFQUFFQyxJZTNrQnJFRixFQUFBakIsRUFBYyxPZmtsQlIrTixJQUNBLFNBQVNqTyxFQUFRQyxFQUFTQyxHQUUvQixZZ0JybEJELElBQUE2RixHQUFBN0YsRUFBbUMsRUFRdEJELEdBQUFzQyxNQUFRd0QsRUFBQXhELE9oQm9sQmYyTCxJQUNBLFNBQVNsTyxFQUFRQyxFQUFTQyxHQUUvQixZaUJ2bEJELFNBQUFzQixHQUFnQzJNLEVBQ1FDLEVBQ0FDLEVBQ0E3RSxHQUN0QyxNQUFPNkUsR0FBSTdNLGdCQUNUMk0sRUFBSUcsd0JBQXdCRixHQUM1QkMsRUFBSWxILE9BQ0pvSCxFQUFZRixFQUFLN0UsSUFJckIsUUFBQStFLEdBQXFCQyxFQUFpQ2hGLEdBQ3BELEdBQU1pRixHQUFjRCxFQUFjRSxjQUNsQyxPQUFPM0ssT0FBTUMsUUFBUXdGLElBQWFBLEVBQVNyQyxPQUFTLEVBQ2xEUyxFQUFBK0csbUJBQW1CQyxzQkFBc0JwRixFQUFVaUYsR0FBZUEsRUF0QnRFLEdBQUE3RyxHQUFBMUgsRUFNTyxFQUVTRCxHQUFBdUIsZ0JBQWVBLEVBa0IvQjJDLE9BQUFzRCxlQUFBeEgsRUFBQSxjQUFBNE8sT0FBQSxJakJpbEJDNU8sYWlCamxCY3VCLEdqQnNsQlRzTixJQUNBLFNBQVM5TyxFQUFRQyxHQUV0QixZa0IvbUJELFNBQUE4TyxHQUE0QkMsR0FDeEIsSUFBS0EsRUFDRCxLQUFNLElBQUlDLE9BQU0sd0RBQ2IsSUFBSUQsSUFBUXJLLE1BQ2YsS0FBTSxJQUFJc0ssT0FBTSxrQkFBa0JELEVBQUksc0JBUzlDLFFBQUFFLEdBQWtDQyxHQUM5QixNQUFPaEwsUUFBT0Msb0JBQW9CK0ssR0FDN0J6TCxPQUFPLFNBQUFzTCxHQUFRLE1BQUFJLEdBQWVDLEtBQUtMLEtBQ25DM0ssSUFBSSxTQUFBMkssR0FBUSxNQUFBQSxHQUFLTSxPQUFPLEtBR2pDLFFBQUF2QyxHQUEyQmlDLEdBQ3ZCLE1BQU9PLEdBQWlCUCxFQUc1QixRQUFBUSxHQUFtQ3RMLEVBQVV1TCxFQUFjWixHQUN2RDFLLE9BQU9zRCxlQUFldkQsRUFBS3VMLEdBQ3ZCNUQsY0FBYyxFQUNkRCxZQUFZLEVBQ1o4RCxVQUFVLEVBQ1ZiLFVBVVIsUUFBQWMsR0FBNEJDLEVBQWV4RCxHQUN2Q2pJLE9BQU9DLG9CQUFvQmdJLEdBQ3RCeUQsUUFBUSxTQUFBYixHQUFRLE1BQU1ZLEdBQVU3QyxFQUFXaUMsSUFBZTVDLEVBQWU0QyxLQXNCbEYsUUFBQWMsR0FBbUM1TCxFQUFRdUwsRUFBc0JNLEdBQWpFLEdBQUFyTCxHQUFBQyxJQUFpRSxVQUFBb0wsT0FBQSxHQUM3RGhCLEVBQW1CdkMsS0FBS3RJLEVBQUt1TCxFQUU3QixJQUFNM0ksR0FBTWlHLEVBQVcwQyxFQUN2QkQsR0FBMEJ0TCxFQUFLdUwsRUFBYyxTQUFDWixHQUMxQyxHQUFJa0IsR0FBYXJMLEVBQUtwRCxlQUFld0YsR0FDakMsS0FBTSxJQUFJbUksT0FBTSwrQkFBK0JRLEVBQVksb0JBRy9ELE9BREF2TCxHQUFJNEMsR0FBTytILEVBQ0ozSyxJQThCZixRQUFBd0ksR0FBa0N4SSxFQUFRdUwsRUFDUk8sRUFDQUMsR0FROUIsR0FSOEIsU0FBQUEsT0FBQSxHQUM5QmxCLEVBQW1CdkMsS0FBS3RJLEVBQUt1TCxHQUU3QkQsRUFBMEJ0TCxFQUFLdUwsRUFBYyxTQUFDWixHQUUxQyxNQURBM0ssR0FBSThMLEdBQWlCbkIsR0FDZDNLLElBR1ArTCxLQUFTLEVBQU0sQ0FDZixHQUFNbkosR0FBTWlHLEVBQVcwQyxHQUNqQlMsRUFBU25ELEVBQVdpRCxFQUUxQjdMLFFBQU9zRCxlQUFldkQsRUFBSzRDLEdBQ3ZCK0UsY0FBYyxFQUNkRCxZQUFZLEVBQ1pGLElBQUssV0FBTSxNQUFBeEgsR0FBSWdNLE9BekgzQixHQUFNWCxHQUFpQixLQUNqQkgsRUFBaUIsV0FxQlBuUCxHQUFBOE0sV0FBVUEsRUEyQ1Y5TSxFQUFBNlAsZ0JBQWVBLEVBdUNmN1AsRUFBQXlNLGVBQWNBLENBd0M5QixJQUFBeUQsR0FBQSxXQUdJLFFBQUFBLEdBQVlDLEdBQ1J6TCxLQUFLMEwsY0FDREQsWUFBd0JFLEdBQWVGLEVBQW9CLEdBQUlFLEdBd0IzRSxNQWZJSCxHQUFBbkksVUFBQXVJLFVBQUEsU0FBVXZCLEVBQWN3QixHQUtwQixNQUxvQixVQUFBQSxNQUFBakUsUUFDcEJ1RCxFQUFnQm5MLEtBQUswTCxjQUFlckIsR0FDZnpDLFNBQWpCaUUsR0FDTTdMLEtBQUswTCxjQUFlckIsR0FBTXdCLEdBRTdCN0wsTUFPWFIsT0FBQXNELGVBQUkwSSxFQUFBbkksVUFBQSxnQmxCMGxCQzBELElrQjFsQkwsV0FDSSxNQUFPL0csTUFBSzBMLGVsQjRsQlh6RSxZQUFZLEVBQ1pDLGNBQWMsSWtCM2xCdkJzRSxJQTdCYWxRLEdBQUFrUSxvQkFBbUJBLENBNkNoQyxJQUFBRyxHQUFBLFdBZ0NJLFFBQUFBLEdBQVlsRSxFQUNBQyxFQUNBQyxHQWxDaEIsR0FBQTVILEdBQUFDLElBZ0NnQixVQUFBeUgsTUFBQUcsUUFDQSxTQUFBRixNQUFBRSxRQUNBLFNBQUFELE1BQUFDLFFBQ0p4SSxNQUFNQyxRQUFRb0ksR0FDZEEsRUFBY3lELFFBQVEsU0FBQTdJLEdBQUssTUFBQTJJLEdBQW1CakwsRUFBTXNDLEtBQzdDb0YsR0FDUHVELEVBQW1CaEwsS0FBTXlILEdBR3pCckksTUFBTUMsUUFBUXFJLElBRWRBLEVBQWV3RCxRQUFRLFNBQUFiLEdBQVEsTUFBQWMsR0FBZ0JwTCxFQUFNc0ssS0FHckQxQyxJQUNBM0gsS0FBSzhMLGdCQUFrQm5FLEdBa0JuQyxNQXhEV2dFLEdBQUFJLFFBQVAsU0FBa0J0RSxFQUNBQyxHQUVkLE1BSGMsVUFBQUQsTUFBQUcsUUFDQSxTQUFBRixNQUFBRSxRQUVGK0QsRUFBYUssWUFDckIsR0FBSUwsR0FBZ0JsRSxFQUFlQyxLQVNwQ2lFLEVBQUFLLFlBQVAsU0FBc0JQLEdBQ2xCLE1BQVksSUFBSUQsR0FBOEJDLElBNEJsREUsRUFBQXRJLFVBQUE0SSxPQUFBLGNBQUFsTSxHQUFBQyxJQUNJLE9BQU91SyxHQUF5QnZLLE1BQzNCa00sT0FBTyxTQUFDM00sRUFBUThLLEdBQ2IsR0FBTWxJLEdBQU1pRyxFQUFXaUMsR0FFbkI4QixFQUFXM00sT0FBT2tELHlCQUF5QjNDLEVBQU1vQyxFQU1yRCxPQUxJZ0ssR0FDQTNNLE9BQU9zRCxlQUFldkQsRUFBSzhLLEVBQU04QixHQUUzQjVNLEVBQUs4SyxHQUFjdEssRUFBTW9DLEdBRTVCNUMsR0FDUlMsS0FBSzhMLGdCQUFrQixHQUFJOUwsTUFBSzhMLHFCQUUvQ0gsSUFqRWFyUSxHQUFBcVEsYUFBWUEsR2xCZ3FCbkJTLElBQ0EsU0FBUy9RLEVBQVFDLEVBQVNDLEdBRS9CLFltQi8xQkQsSUFBQThRLEdBQUE5USxFQUF3QixJQUV4QnVCLEVBQUF2QixFQUFpQyxLQU9qQzRCLEVBQUEsV0FzQkUsUUFBQUEsR0FBbUJvSCxHQUFBdkUsS0FBQXVFLFVBSFh2RSxLQUFBc00sZ0JBQXlDLEdBQUl4UCxHQUFBZ0QsaUJBQzdDRSxLQUFBdU0sV0FBNEIsR0FBSUYsR0FBQUcsUUFHdEN4TSxLQUFLeU0sVUFBWXpNLEtBQUt1TSxXQUFXRyxlQW9EckMsTUE3Q0VsTixRQUFBc0QsZUFBSTNGLEVBQUFrRyxVQUFBLFVuQjAwQkcwRCxJbUIxMEJQLFdBQ0UsTUFBTy9HLE1BQUtzTSxnQkFBZ0JyTSxTbkI0MEJ2QmdILFlBQVksRUFDWkMsY0FBYyxJbUJ2MEJyQi9KLEVBQUFrRyxVQUFBc0osTUFBQSxTQUFNQyxHQUFOLEdBQUE3TSxHQUFBQyxJQUFNLFVBQUE0TSxNQUFBLEtBQ0osSUFBTUMsR0FBUyxXQUNiOU0sRUFBSytNLFVBQ0wvTSxFQUFLdU0sZ0JBQWdCbE0sUUFBUXdNLEdBRS9CNU0sTUFBSytNLFVBQW1CLGVBQ3JCQyxLQUFLLFNBQUE5QyxHQUFTLE1BQUFBLE1BQVUsR0FBUTJDLE1BRG5DN00sU0FFUzZNLElBVVgxUCxFQUFBa0csVUFBQTRKLFFBQUEsY0FBQWxOLEdBQUFDLEtBQ1FrTixFQUFXLFdBQ2ZuTixFQUFLK00sVUFDTC9NLEVBQUt1TSxnQkFBZ0IzUSxTQUV2QnFFLE1BQUsrTSxVQUFtQixpQkFDckJDLEtBQUssU0FBQTlDLEdBQVMsTUFBQUEsTUFBVSxHQUFRZ0QsTUFEbkNsTixTQUVTa04sSUFHWC9QLEVBQUFrRyxVQUFBeUosUUFBQSxXQUNFOU0sS0FBS3VNLFdBQVdZLEtBQUssTUFDckJuTixLQUFLdU0sV0FBV2EsWUFHVmpRLEVBQUFrRyxVQUFBMEosVUFBUixTQUFxQjFDLEdBQ25CLEdBQU1ZLEdBQWlDakwsS0FBSzBFLFlBQWMxRSxLQUFLMEUsV0FBV3VHLFNBQ3hFb0MsRUFBZXBDLEdBQXNDLGtCQUFuQkEsR0FBU1osSUFBd0JZLEVBQVNaLEVBRTlFLE9BQU8zTyxTQUFRMEUsVUFBUWlOLEdBQUtBLEVBQUd4RixLQUFLb0QsS0FFeEM5TixJQTNFYTdCLEdBQUE2QixVQUFTQSxHbkI0NUJoQm1RLElBQ0EsU0FBU2pTLEVBQVFDLEVBQVNDLEdBRS9CLFlBQ0EsSUFBSTZLLEdBQWFwRyxNQUFRQSxLQUFLb0csV0FBYyxTQUFVL0QsRUFBR2dFLEdBRXJELFFBQVNDLEtBQU90RyxLQUFLdUcsWUFBY2xFLEVBRG5DLElBQUssR0FBSTNGLEtBQUsySixHQUFPQSxFQUFFMUosZUFBZUQsS0FBSTJGLEVBQUUzRixHQUFLMkosRUFBRTNKLEdBRW5EMkYsR0FBRWdCLFVBQWtCLE9BQU5nRCxFQUFhN0csT0FBT2dILE9BQU9ILElBQU1DLEVBQUdqRCxVQUFZZ0QsRUFBRWhELFVBQVcsR0FBSWlELEtBRS9FdEUsRUFBY2hDLE1BQVFBLEtBQUtnQyxZQUFlLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBTzVDLE9BQU9rRCx5QkFBeUJSLEVBQVFDLEdBQU9DLENBQ3JILElBQXVCLGdCQUFaTyxVQUFvRCxrQkFBckJBLFNBQVFDLFNBQXlCSCxFQUFJRSxRQUFRQyxTQUFTWCxFQUFZQyxFQUFRQyxFQUFLQyxPQUNwSCxLQUFLLEdBQUlTLEdBQUlaLEVBQVdPLE9BQVMsRUFBR0ssR0FBSyxFQUFHQSxLQUFTUixFQUFJSixFQUFXWSxNQUFJSixHQUFLSCxFQUFJLEVBQUlELEVBQUVJLEdBQUtILEVBQUksRUFBSUQsRUFBRUgsRUFBUUMsRUFBS00sR0FBS0osRUFBRUgsRUFBUUMsS0FBU00sRUFDaEosT0FBT0gsR0FBSSxHQUFLRyxHQUFLakQsT0FBT3NELGVBQWVaLEVBQVFDLEVBQUtNLEdBQUlBLEdBRTVETSxFQUFjL0MsTUFBUUEsS0FBSytDLFlBQWUsU0FBVXBELEVBQUdYLEdBQ3ZELEdBQXVCLGdCQUFaMkQsVUFBb0Qsa0JBQXJCQSxTQUFRSyxTQUF5QixNQUFPTCxTQUFRSyxTQUFTckQsRUFBR1gsSW9CdjdCM0dpRSxFQUFBMUgsRUFBNkMsR0FFN0NnUyxFQUFBaFMsRUFBaUQsS0FDakR1QixFQUFBdkIsRUFBbUMsSUFHdEJELEdBQUF5QyxnQkFDVHlQLFlBQVksRUFDWkMsVUFBVyxJQUNYeFEsWUFBYSxTQUFxQmlDLEdBQzlCLE1BQXVCYyxNQUFLeU4sU0FBVXhPLFFBQVFDLE9BSXRELElBQU1zSSxJQUNGLGFBQ0EsV0FDQSxXQUdKeEosRUFBQSxtQkFBQUEsTUFtQ0EsTUFaSUEsR0FBQXFGLFVBQUFxSyxVQUFBLFdBQ1ExTixLQUFLd04sY0FBZSxJQUNwQnhOLEtBQUt3TixZQUFhLEdBRUEsT0FBbEJ4TixLQUFLeU4sU0FDTHpOLEtBQUt5TixZQUMyQixnQkFBbEJ6TixNQUFLeU4sU0FDbkJ6TixLQUFLeU4sVUFBb0J6TixLQUFLeU4sVUFDdEJyTyxNQUFNQyxRQUF1QlcsS0FBS3lOLFlBQzFDek4sS0FBS3lOLFNBQVduUyxFQUFBeUMsZUFBZTBQLFdBRzNDelAsSUFuQ2ExQyxHQUFBMEMsYUFBWUEsQ0EwQ3pCLElBQUFDLEdBQUEsU0FBQXlJLEdBdUJJLFFBQUF6SSxHQUNJd0osRUFDQUMsRUFDQUMsR0FGQSxTQUFBRixNQUFBRyxRQUNBLFNBQUFGLE1BQUFFLFFBQ0EsU0FBQUQsTUFBQUMsUUFFQWxCLEVBQUFtQixLQUFBN0gsS0FDSWxELEVBQUFDLE9BQVl6QixFQUFBeUMsZUFBZ0IwSixPQUM1QjNLLEVBQUFFLFdBQW1Cd0ssRUFBaUJFLE9BQ3BDQyxHQUdaLE1BbENpRXZCLEdBQUFuSSxFQUFBeUksR0FEakV6SSxFQUFBK0QsR0FBQ2lCLEVBQUEwSyxhcEI0NkJRNUssRUFBVyxxQkFBc0J2RCxPQUFRSixNQUFPd08sWUFDakQzUCxJb0I1NkJ5RHNQLEVBQUE1QixhQUFwRHJRLEdBQUEyQyxvQkFBbUJBLEdwQm83QjFCNFAsSUFDQSxTQUFTeFMsRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxJQUFJeUcsR0FBY2hDLE1BQVFBLEtBQUtnQyxZQUFlLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBTzVDLE9BQU9rRCx5QkFBeUJSLEVBQVFDLEdBQU9DLENBQ3JILElBQXVCLGdCQUFaTyxVQUFvRCxrQkFBckJBLFNBQVFDLFNBQXlCSCxFQUFJRSxRQUFRQyxTQUFTWCxFQUFZQyxFQUFRQyxFQUFLQyxPQUNwSCxLQUFLLEdBQUlTLEdBQUlaLEVBQVdPLE9BQVMsRUFBR0ssR0FBSyxFQUFHQSxLQUFTUixFQUFJSixFQUFXWSxNQUFJSixHQUFLSCxFQUFJLEVBQUlELEVBQUVJLEdBQUtILEVBQUksRUFBSUQsRUFBRUgsRUFBUUMsRUFBS00sR0FBS0osRUFBRUgsRUFBUUMsS0FBU00sRUFDaEosT0FBT0gsR0FBSSxHQUFLRyxHQUFLakQsT0FBT3NELGVBQWVaLEVBQVFDLEVBQUtNLEdBQUlBLEdBRTVETSxFQUFjL0MsTUFBUUEsS0FBSytDLFlBQWUsU0FBVXBELEVBQUdYLEdBQ3ZELEdBQXVCLGdCQUFaMkQsVUFBb0Qsa0JBQXJCQSxTQUFRSyxTQUF5QixNQUFPTCxTQUFRSyxTQUFTckQsRUFBR1gsSXFCNy9CM0dpRSxFQUFBMUgsRUFVTyxHQUVQNkYsRUFBQTdGLEVBQTBCLEdBR3RCdVMsRUFBaUIsRUF5Q3JCcE4sRUFBQSxXQUtFLFFBQUFBLEdBQVkwRCxHQUxkLEdBQUFyRSxHQUFBQyxJQUNFQSxNQUFBK04sVUFBMEIsS0FFbEIvTixLQUFBZ08sSUFBTUMsR0FBSSxLQUFNQyxHQUFJLEtBQU1DLEdBQUksTUFHcENMLElBQ0F6UixTQUFTK1IsS0FBS0MsVUFBVUMsSUFBSSxjQUV4QmxLLEVBQU9tSyxZQUNUdk8sS0FBS2dPLEdBQUdDLEdBQUssV0FDYmpPLEtBQUtnTyxHQUFHRSxHQUFLLE9BQ2JsTyxLQUFLZ08sR0FBR0csR0FBSyxLQUdmL0osRUFBT3FJLFVBQVUrQixVQUFVLFdBQU0sTUFBQXpPLEdBQUtnTyxVQUFZLFFBb0J0RCxNQVhFck4sR0FBQTJDLFVBQUFvTCxXQUFBLFdBQ0UsTUFBTyxJQUFJL1MsU0FBYyxTQUFBMEUsR0FDdkJxRSxXQUFXLFdBQU0sTUFBQXJFLE1BQVcsUUFJaENNLEVBQUEyQyxVQUFBcUwsWUFBQSxXQUMyQixNQUFuQlosR0FDSnpSLFNBQVMrUixLQUFLQyxVQUFVTSxPQUFPLGVBcEVyQ2pPLEVBQUFzQixHQUFDaUIsRUFBQVksV0FDQ0MsU0FBVSxpQkFDVjhLLE1BQ0VDLG1CQUFvQixRQUNwQkMsaUJBQWtCLFFBQ2xCQyxnQkFBaUIsUUFDakJDLGNBQWUsUUFDZkMsZUFBZ0IsUUFDaEJDLGdCQUFpQixRQUNqQkMsaUJBQWtCLFNBRXBCQyxZQUNFbk0sRUFBQW9NLFFBQVEsUUFDTnBNLEVBQUFxTSxXQUFXLGNBQ1RyTSxFQUFBc00sUUFBUSxlQUFnQnRNLEVBQUF1TSxXQUN0QnZNLEVBQUF3TSxPQUFPQyxRQUFTLElBQ2hCek0sRUFBQXdNLE9BQU9DLFFBQVMsVUFHcEJ6TSxFQUFBME0sTUFBTSxNQUFRMU0sRUFBQXdNLE9BQVFDLFFBQVMsS0FDL0J6TSxFQUFBcU0sV0FBVyxZQUNUck0sRUFBQXNNLFFBQVEsZUFBZ0J0TSxFQUFBdU0sV0FDdEJ2TSxFQUFBd00sT0FBT0MsUUFBUyxLQUNoQnpNLEVBQUF3TSxPQUFPQyxRQUFTLFFBRWxCek0sRUFBQXNNLFFBQVEsZUFBZ0J0TSxFQUFBdU0sV0FDdEJ2TSxFQUFBd00sT0FBT0MsUUFBUyxLQUNoQnpNLEVBQUF3TSxPQUFPQyxRQUFTLFlBS3hCM0wsY0FBZWQsRUFBQWUsa0JBQWtCQyxLQUNqQ0MsU0FBVSw0SHJCa2hDSG5CLEVBQVcscUJBQXlILG1CQUExRmtDLEVBQTJDLG1CQUEvQjdELEdBQWlCakUsV0FBNkJpRSxFQUFpQmpFLFlBQTZCOEgsR0FBT3pGLFVBQzFKa0IsRUFFSCxJQUFJdUUsS3FCbGhDSTNKLEdBQUFvRixnQkFBZUEsR3JCeWhDdEJrUCxJQUNBLFNBQVN2VSxFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUl5RyxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJc0I1bEMzR2lFLEVBQUExSCxFQWNPLEdBRVA2RixFQUFBN0YsRUFLTyxHQUVQb0csRUFBQXBHLEVBQXNCLEtBcUR0QnFGLEVBQUEsV0FPRSxRQUFBQSxHQUFtQndELEVBQ0N5TCxFQUNBeEwsRUFDQXlMLEVBQ0F4TCxHQVh0QixHQUFBdkUsR0FBQUMsSUFPcUJBLE1BQUFvRSxTQUNDcEUsS0FBQTZQLEtBQ0E3UCxLQUFBcUUsaUJBQ0FyRSxLQUFBOFAsU0FDQTlQLEtBQUFzRSxNQVJwQnRFLEtBQUErTixVQUEwQixLQVNuQjNKLEVBQU9tSyxVQUdWdk8sS0FBSytQLFNBQVcsV0FGaEIvUCxLQUFLK1AsU0FBVyxLQUlsQjNMLEVBQU9xSSxVQUFVK0IsVUFBVSxXQUFNLE1BQUF6TyxHQUFLZ08sVUFBWSxRQXFDdEQsTUFsQ0VuTixHQUFBeUMsVUFBQW1CLGdCQUFBLGNBQUF6RSxHQUFBQyxJQUNNQSxNQUFLNlAsR0FBR0csZUFDVmhRLEtBQUs2UCxHQUFHRyxjQUFjQyxRQVN4QnhMLFdBQVksV0FDVjFFLEVBQUtxRSxPQUFPTSxXQUFhdEQsRUFBQXZFLGdCQUN2QmtELEVBQUt1RSxJQUNMdkUsRUFBS3NFLGVBQWVvQyxVQUNwQjFHLEVBQUs2RSxlQUNMN0UsRUFBS3NFLGVBQWVRLGFBSTFCakUsRUFBQXlDLFVBQUE2TSxlQUFBLFdBQ01sUSxLQUFLOFAsT0FBT0ssVUFBVW5RLEtBQUtvRSxVQUFZcEUsS0FBS29FLE9BQU9HLFFBQVFpSixZQUM3RHhOLEtBQUtvRSxPQUFPNkksV0FHaEJyTSxFQUFBeUMsVUFBQStNLGlCQUFBLFNBQWlCQyxHQUVWclEsS0FBSzhQLE9BQU9LLFVBQVVuUSxLQUFLb0UsU0FHNUJoRCxFQUFBbkUsWUFBWW9ULEVBQU1uUixRQUFjYyxLQUFLb0UsT0FBT0csUUFBUWtKLFdBQ3REek4sS0FBS29FLE9BQU82SSxXQTlDaEJqTCxHQUFDaUIsRUFBQTZCLFVBQVUsZUFBZ0JDLEtBQU05QixFQUFBK0IsbUJ0QmlrQzFCakMsRUFBVyxjQUE0RyxtQkFBcEZrQyxFQUF3QyxtQkFBNUJoQyxHQUFPK0Isa0JBQW9DL0IsRUFBTytCLG1CQUFvQ0MsR0FBT3pGLFNBQzdJb0IsRUFBaUJ5QyxVQUFXLGlCQUFrQixRc0J0bkN0RHpDLEVBQUFvQixHQUFDaUIsRUFBQVksV0FDQ0MsU0FBVSxrQkFDVjhLLE1BQ0UwQixTQUFZLEtBQ1pDLEtBQVEsU0FDUkMsUUFBUyxRQUNUZixNQUFTLGlCQUNUWixtQkFBb0IsV0FDcEI0QixpQkFBa0IsNEJBRXBCckIsWUFDRW5NLEVBQUFvTSxRQUFRLFFBQ05wTSxFQUFBcU0sV0FBVyxjQUNUck0sRUFBQXNNLFFBQVEsZUFBZ0J0TSxFQUFBdU0sV0FDdEJ2TSxFQUFBd00sT0FBUUMsUUFBUyxFQUFHZ0IsVUFBVyx1QkFDL0J6TixFQUFBd00sT0FBUUMsUUFBUyxFQUFHZ0IsVUFBVywwQkFFakN6TixFQUFBc00sUUFBUSxlQUFnQnRNLEVBQUF1TSxXQUN0QnZNLEVBQUF3TSxPQUFRQyxRQUFTLEVBQUdnQixVQUFXLHFCQUFzQkMsT0FBUSxJQUM3RDFOLEVBQUF3TSxPQUFRQyxRQUFTLEVBQUdnQixVQUFXLHVCQUF3QkMsT0FBUSxLQUMvRDFOLEVBQUF3TSxPQUFRQyxRQUFTLEVBQUdnQixVQUFXLGtCQUFtQkMsT0FBUSxTQUc5RDFOLEVBQUEwTSxNQUFNLE1BQVExTSxFQUFBd00sT0FBUUMsUUFBUyxFQUFHZ0IsVUFBVyx3QkFDN0N6TixFQUFBcU0sV0FBVyxhQUNUck0sRUFBQXNNLFFBQVEsZUFBZ0J0TSxFQUFBdU0sV0FDdEJ2TSxFQUFBd00sT0FBUUMsUUFBUyxFQUFHZ0IsVUFBVyxvQkFDL0J6TixFQUFBd00sT0FBUUMsUUFBUyxFQUFHZ0IsVUFBVyxpQ0FLdkMzTSxjQUFlZCxFQUFBZSxrQkFBa0JDLEtBRWpDQyxTQUFVLHlkdEIwbkNIbkIsRUFBVyxxQkFBeUgsbUJBQTFGbUMsRUFBMkMsbUJBQS9COUQsR0FBaUJqRSxXQUE2QmlFLEVBQWlCakUsWUFBNkIrSCxHQUFPMUYsT0FBeUYsbUJBQXhFMkYsRUFBa0MsbUJBQXRCbEMsR0FBTzJOLFlBQThCM04sRUFBTzJOLGFBQThCekwsR0FBTzNGLE9BQTZILG1CQUE1RzRGLEVBQW9ELG1CQUF4Q2hFLEdBQWlCM0Qsb0JBQXNDMkQsRUFBaUIzRCxxQkFBc0MySCxHQUFPNUYsT0FBaUYsbUJBQWhFcVIsRUFBOEIsbUJBQWxCbFAsR0FBUS9ELE9BQXlCK0QsRUFBUS9ELFFBQXlCaVQsR0FBT3JSLE9BQXFILG1CQUFwR3NSLEVBQWdELG1CQUFwQzdOLEdBQU9vQywwQkFBNENwQyxFQUFPb0MsMkJBQTRDeUwsR0FBT3RSLFVBQzFvQm9CLEVBRUgsSUFBSXFFLEdBQUlDLEVBQUlDLEVBQUlDLEVBQUl5TCxFQUFJQyxJc0JobkNoQnhWLEdBQUFzRixpQkFBZ0JBLEd0QnVuQ3ZCbVEsSUFDQSxTQUFTMVYsRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxJQUFJNkssR0FBYXBHLE1BQVFBLEtBQUtvRyxXQUFjLFNBQVUvRCxFQUFHZ0UsR0FFckQsUUFBU0MsS0FBT3RHLEtBQUt1RyxZQUFjbEUsRUFEbkMsSUFBSyxHQUFJM0YsS0FBSzJKLEdBQU9BLEVBQUUxSixlQUFlRCxLQUFJMkYsRUFBRTNGLEdBQUsySixFQUFFM0osR0FFbkQyRixHQUFFZ0IsVUFBa0IsT0FBTmdELEVBQWE3RyxPQUFPZ0gsT0FBT0gsSUFBTUMsRUFBR2pELFVBQVlnRCxFQUFFaEQsVUFBVyxHQUFJaUQsS3VCMXNDcEZsRixFQUFBN0YsRUFNTyxHQUVEd0MsR0FDSmlULFlBQWEsZUFDYkMsV0FBVyxHQUdQekosR0FDSixjQUNBLE9BQ0EsYUFNRmpILEVBQUEsU0FBQW1HLEdBQUEsUUFBQW5HLEtBQW9DbUcsRUFBQUMsTUFBQTNHLEtBQUF1QyxXQTRCcEMsTUE1Qm9DNkQsR0FBQTdGLEVBQUFtRyxHQXFCbENuRyxFQUFBOEMsVUFBQXFLLFVBQUEsV0FDTzFOLEtBQUtnUixjQUNSaFIsS0FBS2dSLFlBQWNqVCxFQUFlaVQsYUFHcEN0SyxFQUFBckQsVUFBTXFLLFVBQVM3RixLQUFBN0gsT0FFbkJPLEdBNUJvQ2EsRUFBQWhELGlCQUF2QjlDLEdBQUFpRixlQUFjQSxDQStCM0IsSUFBQUMsR0FBQSxTQUFBa0csR0FvQkUsUUFBQWxHLEdBQVlpSCxFQUNBQyxFQUNBQyxHQUZBLFNBQUFGLE1BQUFHLFFBQ0EsU0FBQUYsTUFBQUUsUUFDQSxTQUFBRCxNQUFBQyxRQUNWbEIsRUFBQW1CLEtBQUE3SCxLQUNFb0IsRUFBQXJFLE9BQVlnQixFQUFnQjBKLE9BQzVCckcsRUFBQXBFLFdBQW1Cd0ssRUFBaUJFLE9BQ3BDQyxHQUFpQnBILEdBR3ZCLE1BN0JxRTZGLEdBQUE1RixFQUFBa0csR0E2QnJFbEcsR0E3QnFFWSxFQUFBL0Msd0JBQXhEL0MsR0FBQWtGLHNCQUFxQkEsR3ZCK3JDNUIwUSxJQUNBLFNBQVM3VixFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUl5RyxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJd0IvdkMzR2lFLEVBQUExSCxFQUEwRSxHQXFCMUV5RixFQUFBLFdBaUJJLFFBQUFBLEtBRmlCaEIsS0FBQW1ELGNBQWdCLEdBQUlGLEdBQUFHLGFBUXpDLE1BSklwQyxHQUFBcUMsVUFBQUMsUUFBQSxTQUFRQyxFQUFVQyxHQUNkQSxFQUFPQyxrQkFDUHpELEtBQUttRCxjQUFjTyxNQUFNSCxNQUFLQyxZQWpCbEN4QixHQUFDaUIsRUFBQVUsUXhCMHZDSVosRUFBVyxjQUFlb08sU0FDM0JuUSxFQUFjcUMsVUFBVyxjQUFlLFF3QnR2QzVDckIsR0FBQ2lCLEVBQUFVLFF4Qnl2Q0laLEVBQVcsY0FBZTNELFFBQzNCNEIsRUFBY3FDLFVBQVcsVUFBVyxRd0JwdkN4Q3JCLEdBQUNpQixFQUFBVyxTeEJ1dkNJYixFQUFXLGNBQWV2RCxTQUMzQndCLEVBQWNxQyxVQUFXLGdCQUFpQixRd0JqeENsRHJDLEVBQUFnQixHQUFDaUIsRUFBQVksV0FDR0MsU0FBVSxlQUNWQyxjQUFlZCxFQUFBZSxrQkFBa0JDLEtBQ2pDQyxTQUNKLCtMeEJveENTbkIsRUFBVyx5QkFDWi9CLEt3Qi93Q0sxRixHQUFBMEYsY0FBYUEsR3hCdXhDcEJvUSxJQUNBLFNBQVMvVixFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUk2SyxHQUFhcEcsTUFBUUEsS0FBS29HLFdBQWMsU0FBVS9ELEVBQUdnRSxHQUVyRCxRQUFTQyxLQUFPdEcsS0FBS3VHLFlBQWNsRSxFQURuQyxJQUFLLEdBQUkzRixLQUFLMkosR0FBT0EsRUFBRTFKLGVBQWVELEtBQUkyRixFQUFFM0YsR0FBSzJKLEVBQUUzSixHQUVuRDJGLEdBQUVnQixVQUFrQixPQUFOZ0QsRUFBYTdHLE9BQU9nSCxPQUFPSCxJQUFNQyxFQUFHakQsVUFBWWdELEVBQUVoRCxVQUFXLEdBQUlpRCxLeUJsekNwRmxGLEVBQUE3RixFQUFrRCxHQUVsRDBGLEVBQUExRixFQUE4RCxLQW9COURnRyxFQUFBLFNBQUFtRixHQUlFLFFBQUFuRixHQUFZOFAsRUFBYzVKLEdBQUEsU0FBQUEsTUFBQUcsUUFDeEJsQixFQUFBbUIsS0FBQTdILEtBQU1vQixFQUFBckUsUUFDSnNVLE1BQU9BLEVBQ1BDLE1BQU8sS0FDUEMsV0FBWSxtQkFDWDlKLFFBQ0QsUUFDQSxlQVlOLE1BdkI0Q3JCLEdBQUE3RSxFQUFBbUYsR0FlMUNuRixFQUFBOEIsVUFBQW1PLGFBQUEsU0FBYXJTLEdBTVgsTUFMQWEsTUFBS2dJLFVBQ0g3SSxFQUFPb1MsV0FDUHBTLEVBQU9tUyxNQUNQLFNBQUNHLEVBQXFCak8sR0FBdUIsTUFBQWlPLEdBQUlyTixPQUFPdUksT0FBTSxLQUV6RGpHLEVBQUFyRCxVQUFNbU8sYUFBWTNKLEtBQUE3SCxLQUFDYixJQUU5Qm9DLEdBdkI0Q04sRUFBQUUsMEJBQS9CN0YsR0FBQWlHLHVCQUFzQkEsR3pCMnpDN0JtUSxJQUNBLFNBQVNyVyxFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUk2SyxHQUFhcEcsTUFBUUEsS0FBS29HLFdBQWMsU0FBVS9ELEVBQUdnRSxHQUVyRCxRQUFTQyxLQUFPdEcsS0FBS3VHLFlBQWNsRSxFQURuQyxJQUFLLEdBQUkzRixLQUFLMkosR0FBT0EsRUFBRTFKLGVBQWVELEtBQUkyRixFQUFFM0YsR0FBSzJKLEVBQUUzSixHQUVuRDJGLEdBQUVnQixVQUFrQixPQUFOZ0QsRUFBYTdHLE9BQU9nSCxPQUFPSCxJQUFNQyxFQUFHakQsVUFBWWdELEVBQUVoRCxVQUFXLEdBQUlpRCxLMEJ4MUNwRmxGLEVBQUE3RixFQUdPLEdBR1AwRixFQUFBMUYsRUFBMEMsS0FxQjFDbUcsRUFBQSxTQUFBZ0YsR0FNRSxRQUFBaEYsR0FBWTJQLEVBQWM1SixHQUFBLFNBQUFBLE1BQUFHLFFBQ3hCbEIsRUFBQW1CLEtBQUE3SCxLQUFNb0IsRUFBQXJFLFFBQ0pzVSxNQUFPQSxFQUNQQyxNQUFPLEtBQ1BDLFdBQVksa0JBQ1pJLFVBQVcsU0FDWEMsZUFBZ0IsbUJBQ2ZuSyxRQUNELFFBQ0EsYUFDQSxZQUNBLG1CQWtCTixNQW5DNENyQixHQUFBMUUsRUFBQWdGLEdBcUIxQ2hGLEVBQUEyQixVQUFBbU8sYUFBQSxTQUFhclMsR0FZWCxNQVhBYSxNQUFLZ0ksVUFDSDdJLEVBQU9vUyxXQUNQcFMsRUFBT21TLE1BQ1AsU0FBQ0csRUFBcUJqTyxHQUF1QixNQUFBaU8sR0FBSXJOLE9BQU91SSxPQUFNLEtBRTdEM0UsVUFDQzdJLEVBQU95UyxlQUNQelMsRUFBT3dTLFVBQ1AsU0FBQ0YsRUFBcUJqTyxHQUF1QixNQUFBaU8sR0FBSXJOLE9BQU82SSxZQUdyRHZHLEVBQUFyRCxVQUFNbU8sYUFBWTNKLEtBQUE3SCxLQUFDYixJQUU5QnVDLEdBbkM0Q1QsRUFBQUUsMEJBQS9CN0YsR0FBQW9HLHVCQUFzQkEsRzFCaTJDN0JtUSxJQUNBLFNBQVN4VyxFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUl5RyxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJMkJ4NEMzR2lFLEVBQUExSCxFQUtPLEdBRVA2RixFQUFBN0YsRUFJTyxHQUtQb04sRUFBQSxtQkFBQUEsTUFnQ0EsTUE5QkVBLEdBQUF0RixVQUFBeU8sT0FBQSxTQUFPckksRUFDQUksRUFDQWhGLEVBQ0FULEdBRUwsR0FBSXdJLEVBQ0osUUFBUXhJLEVBQU9HLFFBQVF3TixZQUNyQixJQUFLM1EsR0FBQS9ELGFBQWEyVSxNQUNoQkMsT0FBT0QsTUFBTTVOLEVBQU9HLFFBQVEyTixTQUM1QnRGLEdBQVMsQ0FDVCxNQUNGLEtBQUt4TCxHQUFBL0QsYUFBYThVLE9BQ2hCdkYsRUFBU3FGLE9BQU9FLE9BQU8vTixFQUFPRyxRQUFRMk4sUUFBUzlOLEVBQU9HLFFBQVE2TixjQUM5RCxNQUNGLEtBQUtoUixHQUFBL0QsYUFBYWdWLFFBQ2hCekYsRUFBU3FGLE9BQU9JLFFBQVFqTyxFQUFPRyxRQUFRMk4sU0FhM0MsTUFUQTlOLEdBQU8wSSxRQUFVLGFBR2JGLEtBQVcsRUFDYnhJLEVBQU82SSxVQUVQN0ksRUFBT3VJLE1BQU1DLEdBR1J4SSxHQS9CWHVFLEVBQUEzRyxHQUFDaUIsRUFBQTBLLGEzQjA1Q1E1SyxFQUFXLHlCQUNaNEYsSzJCMTVDS3JOLEdBQUFxTixzQkFBcUJBLEczQms2QzVCMkosSUFDQSxTQUFTalgsRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxJQUFJNkssR0FBYXBHLE1BQVFBLEtBQUtvRyxXQUFjLFNBQVUvRCxFQUFHZ0UsR0FFckQsUUFBU0MsS0FBT3RHLEtBQUt1RyxZQUFjbEUsRUFEbkMsSUFBSyxHQUFJM0YsS0FBSzJKLEdBQU9BLEVBQUUxSixlQUFlRCxLQUFJMkYsRUFBRTNGLEdBQUsySixFQUFFM0osR0FFbkQyRixHQUFFZ0IsVUFBa0IsT0FBTmdELEVBQWE3RyxPQUFPZ0gsT0FBT0gsSUFBTUMsRUFBR2pELFVBQVlnRCxFQUFFaEQsVUFBVyxHQUFJaUQsSzRCejdDcEZsRixFQUFBN0YsRUFNTyxHQUVEaU0sR0FDSixpQkFHRmdCLEVBQUEsU0FBQTlCLEdBQUEsUUFBQThCLEtBQTBDOUIsRUFBQUMsTUFBQTNHLEtBQUF1QyxXQVExQyxNQVIwQzZELEdBQUFvQyxFQUFBOUIsR0FJeEM4QixFQUFBbkYsVUFBQXFLLFVBQUEsV0FDTzFOLEtBQUtrUyxVQUFTbFMsS0FBS2tTLFFBQVUsSUFDVnRLLFNBQXBCNUgsS0FBSytSLGFBQTBCL1IsS0FBSytSLFdBQWEzUSxFQUFBL0QsYUFBYTJVLFFBRXRFeEosR0FSMENwSCxFQUFBaEQsaUJBQTdCOUMsR0FBQWtOLHFCQUFvQkEsQ0FXakMsSUFBQUMsR0FBQSxTQUFBL0IsR0FRRSxRQUFBK0IsR0FBWWhCLEVBQ0FDLEVBQ0FDLEdBRkEsU0FBQUYsTUFBQUcsUUFDQSxTQUFBRixNQUFBRSxRQUNBLFNBQUFELE1BQUFDLFFBQ1ZsQixFQUFBbUIsS0FBQTdILEtBQ0V5SCxNQUNBckcsRUFBQXBFLFdBQW1Cd0ssRUFBaUJFLE9BQ3BDQyxHQUFpQmEsR0FJdkIsTUFqQlFwQyxHQUFBcUMsRUFBQS9CLEdBaUJSK0IsR0FqQlFySCxFQUFBL0Msd0JBREsvQyxHQUFBbU4sNEJBQTJCQSxHNUJxOENsQzhKLElBQ0EsU0FBU2xYLEVBQVFDLEVBQVNDLEdBRS9CLFlBQ0EsSUFBSTZLLEdBQWFwRyxNQUFRQSxLQUFLb0csV0FBYyxTQUFVL0QsRUFBR2dFLEdBRXJELFFBQVNDLEtBQU90RyxLQUFLdUcsWUFBY2xFLEVBRG5DLElBQUssR0FBSTNGLEtBQUsySixHQUFPQSxFQUFFMUosZUFBZUQsS0FBSTJGLEVBQUUzRixHQUFLMkosRUFBRTNKLEdBRW5EMkYsR0FBRWdCLFVBQWtCLE9BQU5nRCxFQUFhN0csT0FBT2dILE9BQU9ILElBQU1DLEVBQUdqRCxVQUFZZ0QsRUFBRWhELFVBQVcsR0FBSWlELEs2QmorQ3BGM0UsRUFBQXBHLEVBQXNCLEtBRXRCdUMsRUFBQXZDLEVBR08sS0FFUHNOLEVBQUEsU0FBQW5DLEdBRUksUUFBQW1DLEdBQVl3SSxFQUFjVSxHQUN0QnJMLEVBQUFtQixLQUFBN0gsTUFBWXFSLFFBQU9VLGVBMEIzQixNQTdCMkMzTCxHQUFBeUMsRUFBQW5DLEdBVTdCbUMsRUFBQXhGLFVBQUFtTyxhQUFWLFNBQXVCclMsR0FDbkIsVUFRSjBKLEVBQUF4RixVQUFBbVAsS0FBQSxTQUFLM0ksR0FDRCxHQUFJMUssR0FBK0JhLEtBQUtpTSxRQUV4QyxNQUFPOU0sRUFBT2tTLGdCQUFpQjFQLEdBQUEvRCxPQUMzQixNQUFZbEMsU0FBUUMsT0FBTyxHQUFJMk8sT0FBTSwrQ0FHekMsSUFBSXpGLEdBQXdDLGtCQUF0QjdFLE1BQUt3UixjQUErQnhSLEtBQUt3UixhQUFhclMsRUFDNUUsT0FBT0EsR0FBT2tTLE1BQU1tQixNQUFVLEVBQU1yVCxFQUFRMEYsR0FBZSxJQUVuRWdFLEdBN0IyQy9LLEVBQUEySyw0QkFBOUJuTixHQUFBdU4sc0JBQXFCQSxHN0I4L0M1QjRKLElBQ0EsU0FBU3BYLEVBQVFDLEVBQVNDLEdBRS9CLFk4QjFnREQsSUFBQW9HLEdBQUFwRyxFQUFzQixJQUFiRCxHQUFBc0MsTUFBQStELEVBQUEvRCxLQUNULElBQUE2QyxHQUFBbEYsRUFBaUMsSUFBeEJELEdBQUFvWCxpQkFBQWpTLEVBQUFpUyxnQkFDVCxJQUFBQyxHQUFBcFgsRUFBZ0MsSUFBdkJELEdBQUFzWCxnQkFBQUQsRUFBQUMsZUFDVCxJQUFBOVUsR0FBQXZDLEVBQTBFLElBQWpFRCxHQUFBdVgsaUJBQUEvVSxFQUFBK1UsaUJBQWtCdlgsRUFBQXdYLGdCQUFBaFYsRUFBQWdWLGdCQUFpQnhYLEVBQUF5WCx1QkFBQWpWLEVBQUFpVixzQkFDNUMsSUFBQUMsR0FBQXpYLEVBQWtELElBQXpDRCxHQUFBMlgsYUFBQUQsRUFBQUMsYUFBYzNYLEVBQUE0WCxvQkFBQUYsRUFBQUUsbUJBQ3ZCLElBQUFDLEdBQUE1WCxFQU9PLElBTkxELEdBQUE2SSxnQkFBQWdQLEVBQUFoUCxnQkFDQTdJLEVBQUFnSyxXQUFBNk4sRUFBQTdOLFdBQ0FoSyxFQUFBOFgsb0JBQUFELEVBQUFDLG9CQUNBOVgsRUFBQStYLGdCQUFBRixFQUFBRSxnQkFDQS9YLEVBQUFnWSxpQkFBQUgsRUFBQUcsaUJBQ0FoWSxFQUFBNEgsaUJBQUFpUSxFQUFBalEsZ0JBRUYsSUFBQXFRLEdBQUFoWSxFQUFrRCxJQUF6Q0QsR0FBQWtZLGFBQUFELEVBQUFDLGFBQWNsWSxFQUFBbVksb0JBQUFGLEVBQUFFLG1CQUd2QixJQUFBQyxHQUFBblksRUFBK0IsSUFBdEJELEdBQUFxWSxlQUFBRCxFQUFBQyxnQjlCd2hESEMsSUFDQSxTQUFTdlksRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxJQUFJeUcsR0FBY2hDLE1BQVFBLEtBQUtnQyxZQUFlLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBTzVDLE9BQU9rRCx5QkFBeUJSLEVBQVFDLEdBQU9DLENBQ3JILElBQXVCLGdCQUFaTyxVQUFvRCxrQkFBckJBLFNBQVFDLFNBQXlCSCxFQUFJRSxRQUFRQyxTQUFTWCxFQUFZQyxFQUFRQyxFQUFLQyxPQUNwSCxLQUFLLEdBQUlTLEdBQUlaLEVBQVdPLE9BQVMsRUFBR0ssR0FBSyxFQUFHQSxLQUFTUixFQUFJSixFQUFXWSxNQUFJSixHQUFLSCxFQUFJLEVBQUlELEVBQUVJLEdBQUtILEVBQUksRUFBSUQsRUFBRUgsRUFBUUMsRUFBS00sR0FBS0osRUFBRUgsRUFBUUMsS0FBU00sRUFDaEosT0FBT0gsR0FBSSxHQUFLRyxHQUFLakQsT0FBT3NELGVBQWVaLEVBQVFDLEVBQUtNLEdBQUlBLEdBRTVETSxFQUFjL0MsTUFBUUEsS0FBSytDLFlBQWUsU0FBVXBELEVBQUdYLEdBQ3ZELEdBQXVCLGdCQUFaMkQsVUFBb0Qsa0JBQXJCQSxTQUFRSyxTQUF5QixNQUFPTCxTQUFRSyxTQUFTckQsRUFBR1gsSStCbmpEM0dpRSxFQUFBMUgsRUFJTyxHQUNQNkYsRUFBQTdGLEVBQXVDLEdBQ3ZDb0csRUFBQXBHLEVBQXNCLEtBR2xCdVMsRUFBaUIsRUE0QnJCNEUsRUFBQSxXQUdJLFFBQUFBLEdBQ1l0TyxFQUNBMEwsR0FEQTlQLEtBQUFvRSxTQUNBcEUsS0FBQThQLFNBSko5UCxLQUFBZ08sTUFLSkYsSUFDQXpSLFNBQVMrUixLQUFLQyxVQUFVQyxJQUFJLFlBRXhCbEssRUFBT21LLFlBQ1B2TyxLQUFLZ08sR0FBR0MsR0FBSyxXQUNiak8sS0FBS2dPLEdBQUdFLEdBQUssT0FDYmxPLEtBQUtnTyxHQUFHRyxHQUFLLEdBc0J6QixNQWxCSTNPLFFBQUFzRCxlQUFJNFAsRUFBQXJQLFVBQUEsWS9CcWhEQzBELEkrQnJoREwsV0FDSSxNQUFPLGlCQUFpQi9HLEtBQUtvRSxPQUFPRyxRQUFRc1AsVy9CdWhEM0M1TSxZQUFZLEVBQ1pDLGNBQWMsSStCcmhEbkJ3TCxFQUFBclAsVUFBQXFMLFlBQUEsV0FDNkIsTUFBbkJaLEdBQ0Z6UixTQUFTK1IsS0FBS0MsVUFBVU0sT0FBTyxhQUl2QytELEVBQUFyUCxVQUFBK00saUJBQUEsU0FBaUJDLEdBRVJyUSxLQUFLOFAsT0FBT0ssVUFBVW5RLEtBQUtvRSxTQUU1QmhELEVBQUFuRSxZQUFZb1QsRUFBTW5SLFFBQWNjLEtBQUtvRSxPQUFPRyxRQUFRa0osV0FDcER6TixLQUFLb0UsT0FBTzZJLFdBdER4QnlGLEVBQUExUSxHQUFDaUIsRUFBQVksV0FDR0MsU0FBVSxpQkFDVjhLLE1BQ0lrRixxQkFBc0IsbUJBQ3RCakYsbUJBQW9CLFFBQ3BCQyxpQkFBa0IsUUFDbEJDLGdCQUFpQixRQUNqQkMsY0FBZSxRQUNmQyxlQUFnQixRQUNoQkMsZ0JBQWlCLFFBQ2pCQyxpQkFBa0IsUUFDbEJzQixpQkFBa0IsNEJBRXRCc0QsV0FDSSw0REFFSmhRLGNBQWVkLEVBQUFlLGtCQUFrQkMsS0FDakNDLFNBQ0oseUkvQmlsRFNuQixFQUFXLHFCQUF5SCxtQkFBMUZrQyxFQUEyQyxtQkFBL0I3RCxHQUFpQmpFLFdBQTZCaUUsRUFBaUJqRSxZQUE2QjhILEdBQU96RixPQUFpRixtQkFBaEUwRixFQUE4QixtQkFBbEJ2RCxHQUFRL0QsT0FBeUIrRCxFQUFRL0QsUUFBeUJzSCxHQUFPMUYsVUFDaFFrVCxFQUVILElBQUl6TixHQUFJQyxJK0Iva0RBNUosR0FBQW9YLGlCQUFnQkEsRy9Cc2xEdkJzQixJQUNBLFNBQVMzWSxFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUl5RyxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJZ0N0b0QzR2lFLEVBQUExSCxFQVFPLEdBRVA2RixFQUFBN0YsRUFBK0QsR0FFL0RvRyxFQUFBcEcsRUFBc0IsS0FpQnRCcVgsRUFBQSxXQUtFLFFBQUFBLEdBQW1CeE8sRUFDQzBMLEVBQ0F6TCxFQUNBQyxHQUhEdEUsS0FBQW9FLFNBQ0NwRSxLQUFBOFAsU0FDQTlQLEtBQUFxRSxpQkFDQXJFLEtBQUFzRSxNQUNsQnRFLEtBQUt1RSxRQUFVSCxFQUFPRyxRQTRCMUIsTUF6QkVxTyxHQUFBdlAsVUFBQW1CLGdCQUFBLGNBQUF6RSxHQUFBQyxJQUNNQSxNQUFLaVUsYUFBYWpFLGVBQ3BCaFEsS0FBS2lVLGFBQWFqRSxjQUFjQyxRQVNsQ3hMLFdBQVksV0FDVjFFLEVBQUtxRSxPQUFPTSxXQUFhdEQsRUFBQXZFLGdCQUN2QmtELEVBQUt1RSxJQUNMdkUsRUFBS3NFLGVBQWVvQyxVQUNwQjFHLEVBQUs2RSxlQUNMN0UsRUFBS3NFLGVBQWVRLGFBSTFCK04sRUFBQXZQLFVBQUE2TSxlQUFBLFdBRU1sUSxLQUFLOFAsT0FBT0ssVUFBVW5RLEtBQUtvRSxVQUFZcEUsS0FBS29FLE9BQU9HLFFBQVFpSixZQUM3RHhOLEtBQUtvRSxPQUFPNkksV0FqQ2hCakwsR0FBQ2lCLEVBQUE2QixVQUFVLGdCaEM2b0RKL0IsRUFBVyxjQUFnRyxtQkFBeEVrQyxFQUFrQyxtQkFBdEJoQyxHQUFPMk4sWUFBOEIzTixFQUFPMk4sYUFBOEIzTCxHQUFPekYsU0FDaklvVCxFQUFnQnZQLFVBQVcsZUFBZ0IsUWdDN29EakRyQixHQUFDaUIsRUFBQTZCLFVBQVUsZUFBZ0JDLEtBQU05QixFQUFBK0IsbUJoQ2dwRDFCakMsRUFBVyxjQUE0RyxtQkFBcEZtQyxFQUF3QyxtQkFBNUJqQyxHQUFPK0Isa0JBQW9DL0IsRUFBTytCLG1CQUFvQ0UsR0FBTzFGLFNBQzdJb1QsRUFBZ0J2UCxVQUFXLGlCQUFrQixRZ0MvcERyRHVQLEVBQUE1USxHQUFDaUIsRUFBQVksV0FDQ0MsU0FBVSxnQkFDVkksU0FBVSxpVUFPVkgsY0FBZWQsRUFBQWUsa0JBQWtCQyxPaEM2cEQxQmxCLEVBQVcscUJBQXlILG1CQUExRm9DLEVBQTJDLG1CQUEvQi9ELEdBQWlCakUsV0FBNkJpRSxFQUFpQmpFLFlBQTZCZ0ksR0FBTzNGLE9BQWlGLG1CQUFoRTRGLEVBQThCLG1CQUFsQnpELEdBQVEvRCxPQUF5QitELEVBQVEvRCxRQUF5QndILEdBQU81RixPQUE2SCxtQkFBNUdxUixFQUFvRCxtQkFBeEN6UCxHQUFpQjNELG9CQUFzQzJELEVBQWlCM0QscUJBQXNDb1QsR0FBT3JSLE9BQXFILG1CQUFwR3NSLEVBQWdELG1CQUFwQzdOLEdBQU9vQywwQkFBNENwQyxFQUFPb0MsMkJBQTRDeUwsR0FBT3RSLFVBQzVoQm9ULEVBRUgsSUFBSTNOLEdBQUlDLEVBQUlDLEVBQUlDLEVBQUl5TCxFQUFJQyxJZ0M5cERoQnhWLEdBQUFzWCxnQkFBZUEsR2hDcXFEdEJzQixJQUNBLFNBQVM3WSxFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUk2SyxHQUFhcEcsTUFBUUEsS0FBS29HLFdBQWMsU0FBVS9ELEVBQUdnRSxHQUVyRCxRQUFTQyxLQUFPdEcsS0FBS3VHLFlBQWNsRSxFQURuQyxJQUFLLEdBQUkzRixLQUFLMkosR0FBT0EsRUFBRTFKLGVBQWVELEtBQUkyRixFQUFFM0YsR0FBSzJKLEVBQUUzSjtBQUVuRDJGLEVBQUVnQixVQUFrQixPQUFOZ0QsRUFBYTdHLE9BQU9nSCxPQUFPSCxJQUFNQyxFQUFHakQsVUFBWWdELEVBQUVoRCxVQUFXLEdBQUlpRCxLaUN6c0RwRmxGLEVBQUE3RixFQU9PLEdBR0R3QyxHQUNKOFYsVUFBNkIsVUFDN0JNLGlCQUFrQixjQUNsQkMsaUJBQWtCLGNBQ2xCQyxlQUFnQixhQUdaN00sR0FDSixZQUNBLG1CQUNBLG1CQUNBLGlCQUNBLG1CQU1Gc0wsRUFBQSxTQUFBcE0sR0FBQSxRQUFBb00sS0FBcUNwTSxFQUFBQyxNQUFBM0csS0FBQXVDLFdBV3JDLE1BWHFDNkQsR0FBQTBNLEVBQUFwTSxHQVdyQ29NLEdBWHFDMVIsRUFBQWhELGlCQUF4QjlDLEdBQUF3WCxnQkFBZUEsQ0FhNUIsSUFBQUMsR0FBQSxTQUFBck0sR0FZRSxRQUFBcU0sR0FBWXRMLEVBQ0FDLEVBQ0FDLEdBRkEsU0FBQUYsTUFBQUcsUUFDQSxTQUFBRixNQUFBRSxRQUNBLFNBQUFELE1BQUFDLFFBQ1ZsQixFQUFBbUIsS0FBQTdILEtBQ0VvQixFQUFBckUsT0FBWWdCLEVBQWdCMEosT0FDNUJyRyxFQUFBcEUsV0FBbUJ3SyxFQUFpQkUsT0FDcENDLEdBQWlCbUwsR0FZdkIsTUE5QnVFMU0sR0FBQTJNLEVBQUFyTSxHQTBCckVxTSxFQUFBMVAsVUFBQWlSLHFCQUFBLFNBQXFCcEssR0FFbkIsTUFEQWxLLE1BQUtvQixFQUFBZ0gsV0FBVyxnQkFBa0I4QixFQUMzQmxLLE1BRVgrUyxHQTlCdUUzUixFQUFBL0Msd0JBQTFEL0MsR0FBQXlYLHVCQUFzQkEsR2pDZ3REN0J3QixJQUNBLFNBQVNsWixFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUk2SyxHQUFhcEcsTUFBUUEsS0FBS29HLFdBQWMsU0FBVS9ELEVBQUdnRSxHQUVyRCxRQUFTQyxLQUFPdEcsS0FBS3VHLFlBQWNsRSxFQURuQyxJQUFLLEdBQUkzRixLQUFLMkosR0FBT0EsRUFBRTFKLGVBQWVELEtBQUkyRixFQUFFM0YsR0FBSzJKLEVBQUUzSixHQUVuRDJGLEdBQUVnQixVQUFrQixPQUFOZ0QsRUFBYTdHLE9BQU9nSCxPQUFPSCxJQUFNQyxFQUFHakQsVUFBWWdELEVBQUVoRCxVQUFXLEdBQUlpRCxLa0MvdkRwRmxGLEVBQUE3RixFQUtPLEdBQ1B1QyxFQUFBdkMsRUFBd0QsS0FFeEQ0WCxFQUFBNVgsRUFJTyxLQUdEaU0sR0FDSixXQU1GZ00sRUFBQSxTQUFBOU0sR0FBQSxRQUFBOE0sS0FBa0M5TSxFQUFBQyxNQUFBM0csS0FBQXVDLFdBSWxDLE1BSmtDNkQsR0FBQW9OLEVBQUE5TSxHQUlsQzhNLEdBSmtDMVYsRUFBQWdWLGdCQUFyQnhYLEdBQUFrWSxhQUFZQSxDQVd6QixJQUFBQyxHQUFBLFNBQUEvTSxHQU9FLFFBQUErTSxHQUFZcEMsRUFDQTVKLEVBQ0FDLEVBQ0FDLEdBRkEsU0FBQUYsTUFBQUcsUUFDQSxTQUFBRixNQUFBRSxRQUNBLFNBQUFELE1BQUFDLFFBQ1ZsQixFQUFBbUIsS0FBQTdILEtBQ0VvQixFQUFBckUsUUFBYXNVLFFBQU81SyxVQUFBME0sRUFBQWhQLGdCQUFXMkQsV0FBYTBNLGVBQWUsR0FBTy9NLE9BQ2xFckcsRUFBQXBFLFdBQW1Cd0ssRUFBaUJFLE9BQ3BDQyxHQUFpQjZMLEdBa0N2QixNQS9DUXBOLEdBQUFxTixFQUFBL00sR0FpQk4rTSxFQUFBcFEsVUFBQTJFLFVBQUEsU0FBVUMsRUFBYUMsRUFBaUI1RSxHQUN0QyxHQUFJQyxJQUNGNEUsU0FBVUYsRUFDVkMsUUFBU0EsRUFDVDVFLFFBQVNBLEdBR1BuQixFQUFNZixFQUFBZ0gsV0FBVyxVQUdyQixPQUZDcEksTUFBS21DLEdBQTJCa0csS0FBSzlFLEdBRS9CdkQsTUFHVHlULEVBQUFwUSxVQUFBb1IsWUFBQSxTQUFZQyxHQU1WLE1BTlUsVUFBQUEsTUFBQSxNQUNWMVUsS0FBS2dJLFVBQ0gsd0RBQ0EwTSxFQUNBLFNBQUNqRCxFQUFnQmpPLEdBQXVCLE1BQUFpTyxHQUFJck4sT0FBT3VJLE1BQU04RSxFQUFJck4sT0FBT0csUUFBUWlRLGlCQUV2RXhVLE1BR1R5VCxFQUFBcFEsVUFBQXNSLGdCQUFBLFNBQWdCRCxHQU1kLE1BTmMsVUFBQUEsTUFBQSxVQUNkMVUsS0FBS2dJLFVBQ0gseURBQ0EwTSxFQUNBLFNBQUNqRCxFQUFnQmpPLEdBQXVCLE1BQUFpTyxHQUFJck4sT0FBTzZJLFlBRTlDak4sTUFFWHlULEdBL0NRM1YsRUFBQWlWLHVCQURLelgsR0FBQW1ZLG9CQUFtQkEsR2xDMHhEMUJtQixJQUNBLFNBQVN2WixFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUk2SyxHQUFhcEcsTUFBUUEsS0FBS29HLFdBQWMsU0FBVS9ELEVBQUdnRSxHQUVyRCxRQUFTQyxLQUFPdEcsS0FBS3VHLFlBQWNsRSxFQURuQyxJQUFLLEdBQUkzRixLQUFLMkosR0FBT0EsRUFBRTFKLGVBQWVELEtBQUkyRixFQUFFM0YsR0FBSzJKLEVBQUUzSixHQUVuRDJGLEdBQUVnQixVQUFrQixPQUFOZ0QsRUFBYTdHLE9BQU9nSCxPQUFPSCxJQUFNQyxFQUFHakQsVUFBWWdELEVBQUVoRCxVQUFXLEdBQUlpRCxLbUNsMERwRmxGLEVBQUE3RixFQUlPLEdBRVA0WCxFQUFBNVgsRUFBb0UsS0FDcEVnWSxFQUFBaFksRUFBa0QsS0FFNUN3QyxHQUNKMEksVUFBQTBNLEVBQUFoUCxnQkFDQVEsUUFBQXdPLEVBQUE3TixXQUNBZ00sTUFBTyxLQUNQSyxVQUFXLFVBR1BuSyxHQUNKLFFBQ0EsWUFDQSxjQUNBLG1CQU1GeUwsRUFBQSxTQUFBdk0sR0FBQSxRQUFBdU0sS0FBa0N2TSxFQUFBQyxNQUFBM0csS0FBQXVDLFdBZ0NsQyxNQWhDa0M2RCxHQUFBNk0sRUFBQXZNLEdBNkJoQ2xILE9BQUFzRCxlQUFJbVEsRUFBQTVQLFVBQUEsYW5DcXlERzBELEltQ3J5RFAsV0FDRSxNQUFPL0csTUFBSzZVLGFBQWV6VCxFQUFBL0QsYUFBYThVLFFuQ3V5RG5DbEwsWUFBWSxFQUNaQyxjQUFjLEltQ3R5RHZCK0wsR0FoQ2tDTSxFQUFBQyxhQUFyQmxZLEdBQUEyWCxhQUFZQSxDQXFDekIsSUFBQUMsR0FBQSxTQUFBeE0sR0F1QkUsUUFBQXdNLEdBQVk3QixFQUFjd0QsRUFBMEJwTixHQUFBLFNBQUFBLE1BQUFHLFFBQ2xEbEIsRUFBQW1CLEtBQUE3SCxLQUNFcVIsRUFDQWpRLEVBQUFyRSxPQUFZcUUsRUFBQXJFLFFBQVFzVSxRQUFPd0QsY0FBYTlXLEdBQWlCMEosT0FDekRELEVBQ0F5TCxHQW9CTixNQWhEeUM3TSxHQUFBOE0sRUFBQXhNLEdBZ0N2Q3dNLEVBQUE3UCxVQUFBbU8sYUFBQSxTQUFhclMsR0FLWCxPQUpJQSxFQUFPbVMsT0FDVHRSLEtBQUt5VSxZQUFZdFYsRUFBT21TLE9BR2xCblMsRUFBTzBWLFlBQ2IsSUFBS3pULEdBQUEvRCxhQUFhOFUsT0FDaEJoVCxFQUFPcVYsY0FBZ0I1TSxNQUN6QixLQUFLeEcsR0FBQS9ELGFBQWFnVixRQUNabFQsRUFBT3dTLFdBQ1QzUixLQUFLMlUsZ0JBQWdCeFYsRUFBT3dTLFdBSWxDLE1BQU9qTCxHQUFBckQsVUFBTW1PLGFBQVkzSixLQUFBN0gsS0FBQ2IsSUFFOUIrVCxHQWhEeUNLLEVBQUFFLG9CQUE1Qm5ZLEdBQUE0WCxvQkFBbUJBLEduQ3EwRDFCNEIsSUFDQSxTQUFTelosRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxJQUFJeUcsR0FBY2hDLE1BQVFBLEtBQUtnQyxZQUFlLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBTzVDLE9BQU9rRCx5QkFBeUJSLEVBQVFDLEdBQU9DLENBQ3JILElBQXVCLGdCQUFaTyxVQUFvRCxrQkFBckJBLFNBQVFDLFNBQXlCSCxFQUFJRSxRQUFRQyxTQUFTWCxFQUFZQyxFQUFRQyxFQUFLQyxPQUNwSCxLQUFLLEdBQUlTLEdBQUlaLEVBQVdPLE9BQVMsRUFBR0ssR0FBSyxFQUFHQSxLQUFTUixFQUFJSixFQUFXWSxNQUFJSixHQUFLSCxFQUFJLEVBQUlELEVBQUVJLEdBQUtILEVBQUksRUFBSUQsRUFBRUgsRUFBUUMsRUFBS00sR0FBS0osRUFBRUgsRUFBUUMsS0FBU00sRUFDaEosT0FBT0gsR0FBSSxHQUFLRyxHQUFLakQsT0FBT3NELGVBQWVaLEVBQVFDLEVBQUtNLEdBQUlBLEdBRTVETSxFQUFjL0MsTUFBUUEsS0FBSytDLFlBQWUsU0FBVXBELEVBQUdYLEdBQ3ZELEdBQXVCLGdCQUFaMkQsVUFBb0Qsa0JBQXJCQSxTQUFRSyxTQUF5QixNQUFPTCxTQUFRSyxTQUFTckQsRUFBR1gsSW9DaDVEM0dpRSxFQUFBMUgsRUFLTyxHQUVQcUIsRUFBQXJCLEVBQTRCLEtBSzVCc0MsRUFBQSxXQUNFLFFBQUFBLEdBQW9CeUcsR0FBQXRFLEtBQUFzRSxNQTJCdEIsTUF4QkV6RyxHQUFBd0YsVUFBQXlPLE9BQUEsU0FBT3JJLEVBQ0FJLEVBQ0FoRixFQUNBVCxHQUdMLEdBQU0yUSxHQUFTblksYUFBZ0JvRCxLQUFLc0UsSUFBS21GLEVBQU1JLEVBQWVoRixFQWdCOUQsT0FkSVQsR0FBT21LLFVBQ1QxRSxFQUFjbUwsUUFBUWhGLGNBQWNpRixZQUFZRixFQUFPRyxTQUFTbEYsZUFFaEUzVCxTQUFTK1IsS0FBSzZHLFlBQVlGLEVBQU9HLFNBQVNsRixlQUc1QzVMLEVBQU9xSSxVQUFVK0IsVUFBVyxXQUNnQixrQkFBL0J1RyxHQUFPOUosU0FBU3dELFdBQ3pCc0csRUFBTzlKLFNBQVN3RCxhQUFhekIsS0FBTyxXQUFNLE1BQUErSCxHQUFPakksWUFFakRpSSxFQUFPakksWUFJSjFJLEdBM0JYdkcsRUFBQW1FLEdBQUNpQixFQUFBMEssYXBDaTZEUTVLLEVBQVcscUJBQW1JLG1CQUFwR2tDLEVBQWdELG1CQUFwQ2hDLEdBQU9vQywwQkFBNENwQyxFQUFPb0MsMkJBQTRDSixHQUFPekYsVUFDcEszQixFQUVILElBQUlvSCxLb0NuNkRJM0osR0FBQXVDLGlCQUFnQkEsR3BDMDZEdkJzWCxJQUNBLFNBQVM5WixFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUl5RyxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJcUNqOEQzR2lFLEVBQUExSCxFQUFxQyxHQUVyQzZaLEVBQUE3WixFQU1PLEtBRVBvQyxFQUFBcEMsRUFBaUQsS0FDakQ4WixFQUFBOVosRUFBcUUsS0FDekQrWixFQUFPL1osRUFBTSxLQVF6QmdhLEVBQUEsV0FLRSxRQUFBQSxHQUFtQmxFLEdBTHJCLEdBQUF0UixHQUFBQyxJQUtxQkEsTUFBQXFSLFFBQ2pCclIsS0FBS3dWLGdCQUVEZCxLQUFNLGdCQUNOZSxRQUFTLFdBQU0sTUFBQUgsR0FBUXRELE1BQU1qUyxFQUFLc1IsT0FBT21CLFVBR3pDa0MsS0FBTSxpQkFDTmUsUUFBUyxXQUFNLE1BQUFILEdBQVFuRCxPQUFPcFMsRUFBS3NSLE9BQU9tQixVQUcxQ2tDLEtBQU0sa0JBQ05lLFFBQVMsV0FBTSxNQUFBSCxHQUFRakQsUUFBUXRTLEVBQUtzUixPQUFPbUIsVUFHM0NrQyxLQUFNLG9CQUNOZSxRQUFTLFdBQU0sTUFBQUgsR0FBUUksVUFBVTNWLEVBQUtzUixPQUFPbUIsVUFHN0NrQyxLQUFNLHFCQUNOZSxRQUFTLFdBQU0sTUFBQUgsR0FBUS9HLFVBQVV4TyxFQUFLc1IsT0FBT21CLEtBQUt6UyxFQUFLNFYsU0FBU0MsZUFHaEVsQixLQUFNLHVCQUNOZSxRQUFTLFdBQ1AsTUFBQTFWLEdBQUtzUixNQUFNbUIsS0FBSzZDLEVBQUFRLHdCQUF5QixHQUFJUixHQUFBUyw0QkFBNEIsRUFBRyxPQUl0RixNQS9CRTlULElBQUNpQixFQUFBNkIsVUFBVW5ILEVBQUF1SSxVckNvOURKbkQsRUFBVyxjQUE4RixtQkFBdEVrQyxFQUFpQyxtQkFBckJ0SCxHQUFRdUksVUFBNEJ2SSxFQUFRdUksV0FBNEJqQixHQUFPekYsU0FDL0grVixFQUFrQmxTLFVBQVcsV0FBWSxRcUM3OURqRGtTLEVBQUF2VCxHQUFDaUIsRUFBQVksV0FDQ0MsU0FBVSxzQkFDVmlRLFdBQVksdUVBQ1pnQyxZQUFhLDZFckNpK0ROaFQsRUFBVyxxQkFBdUcsbUJBQXhFbUMsRUFBa0MsbUJBQXRCa1EsR0FBWXhYLE9BQXlCd1gsRUFBWXhYLFFBQXlCc0gsR0FBTzFGLFVBQ3hJK1YsRUFFSCxJQUFJdFEsR0FBSUMsSXFDbCtEQTVKLEdBQUFpYSxrQkFBaUJBLEdyQ3krRHhCUyxJQUNBLFNBQVMzYSxFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUk2SyxHQUFhcEcsTUFBUUEsS0FBS29HLFdBQWMsU0FBVS9ELEVBQUdnRSxHQUVyRCxRQUFTQyxLQUFPdEcsS0FBS3VHLFlBQWNsRSxFQURuQyxJQUFLLEdBQUkzRixLQUFLMkosR0FBT0EsRUFBRTFKLGVBQWVELEtBQUkyRixFQUFFM0YsR0FBSzJKLEVBQUUzSixHQUVuRDJGLEdBQUVnQixVQUFrQixPQUFOZ0QsRUFBYTdHLE9BQU9nSCxPQUFPSCxJQUFNQyxFQUFHakQsVUFBWWdELEVBQUVoRCxVQUFXLEdBQUlpRCxLQUUvRXRFLEVBQWNoQyxNQUFRQSxLQUFLZ0MsWUFBZSxTQUFVQyxFQUFZQyxFQUFRQyxFQUFLQyxHQUM3RSxHQUEySEMsR0FBdkhDLEVBQUlDLFVBQVVDLE9BQVFDLEVBQUlILEVBQUksRUFBSUosRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU81QyxPQUFPa0QseUJBQXlCUixFQUFRQyxHQUFPQyxDQUNySCxJQUF1QixnQkFBWk8sVUFBb0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkgsRUFBSUUsUUFBUUMsU0FBU1gsRUFBWUMsRUFBUUMsRUFBS0MsT0FDcEgsS0FBSyxHQUFJUyxHQUFJWixFQUFXTyxPQUFTLEVBQUdLLEdBQUssRUFBR0EsS0FBU1IsRUFBSUosRUFBV1ksTUFBSUosR0FBS0gsRUFBSSxFQUFJRCxFQUFFSSxHQUFLSCxFQUFJLEVBQUlELEVBQUVILEVBQVFDLEVBQUtNLEdBQUtKLEVBQUVILEVBQVFDLEtBQVNNLEVBQ2hKLE9BQU9ILEdBQUksR0FBS0csR0FBS2pELE9BQU9zRCxlQUFlWixFQUFRQyxFQUFLTSxHQUFJQSxHQUU1RE0sRUFBYy9DLE1BQVFBLEtBQUsrQyxZQUFlLFNBQVVwRCxFQUFHWCxHQUN2RCxHQUF1QixnQkFBWjJELFVBQW9ELGtCQUFyQkEsU0FBUUssU0FBeUIsTUFBT0wsU0FBUUssU0FBU3JELEVBQUdYLElzQzdnRTNHaUUsRUFBQTFILEVBQTBCLEdBRTFCNkYsRUFBQTdGLEVBQTBDLEdBQzFDb0MsRUFBQXBDLEVBQStCLEtBRS9CdWEsRUFBQSxTQUFBcFAsR0FDRSxRQUFBb1AsR0FBbUJHLEVBQXFCQyxHQUN0Q3hQLEVBQUFtQixLQUFBN0gsTUFEaUJBLEtBQUFpVyxPQUFxQmpXLEtBQUFrVyxPQUcxQyxNQUppRDlQLEdBQUEwUCxFQUFBcFAsR0FJakRvUCxHQUppRG5ZLEVBQUE0QyxlQUFwQ2pGLEdBQUF3YSw0QkFBMkJBLENBK0N4QyxJQUFBRCxHQUFBLFdBS0UsUUFBQUEsR0FBbUJ6UixHQUFBcEUsS0FBQW9FLFNBQ2pCcEUsS0FBS3VFLFFBQVVILEVBQU9HLFFBQ3RCdkUsS0FBS21XLGFBQWMsRUFnQnZCLE1BYkVOLEdBQUF4UyxVQUFBK1MsUUFBQSxTQUFRbE0sR0FDTmxLLEtBQUttVyxZQUF1QixHQUFUak0sRUFDbkJsSyxLQUFLb0UsT0FBT3VJLFNBSWRrSixFQUFBeFMsVUFBQWdULGNBQUEsV0FDRSxPQUFPLEdBR1RSLEVBQUF4UyxVQUFBaVQsWUFBQSxXQUNFLE1BQU90VyxNQUFLbVcsYUEzRGhCTixFQUFBN1QsR0FBQ2lCLEVBQUFZLFdBQ0NDLFNBQVUsZ0JBQ1Z5UyxRQUFTLG1jQWlCWXJTLFNBQVUsazRCdENzaEV4Qm5CLEVBQVcscUJBQXlILG1CQUExRmtDLEVBQTJDLG1CQUEvQjdELEdBQWlCakUsV0FBNkJpRSxFQUFpQmpFLFlBQTZCOEgsR0FBT3pGLFVBQzFKcVcsRUFFSCxJQUFJNVEsS3NDdGdFSTNKLEdBQUF1YSx3QkFBdUJBLEd0QzZnRTlCVyxJQUNBLFNBQVNuYixFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUl5RyxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJdUM1a0UzR2lFLEVBQUExSCxFQUErRCxHQUMvRDZaLEVBQUE3WixFQUE0QyxLQVk1Q2tiLEVBQUEsV0FDRSxRQUFBQSxHQUFtQnBGLEVBQWN4SCxHQUFkN0osS0FBQXFSLFFBS2pCQSxFQUFNcUYscUJBQXVCN00sRUFFakMsTUFqQkE0TSxHQUFBelUsR0FBQ2lCLEVBQUFZLFdBQ0NDLFNBQVUsaUJBQ1ZJLFNBQVUsa0NBSVYyQixVQUFXdVAsRUFBQXRULHFCQUFxQjZVLGVBQ2hDNVMsY0FBZWQsRUFBQWUsa0JBQWtCQyxPdkN3bEUxQmxCLEVBQVcscUJBQXVHLG1CQUF4RWtDLEVBQWtDLG1CQUF0Qm1RLEdBQVl4WCxPQUF5QndYLEVBQVl4WCxRQUF5QnFILEdBQU96RixPQUFxRyxtQkFBcEYwRixFQUF3QyxtQkFBNUJqQyxHQUFPK0Isa0JBQW9DL0IsRUFBTytCLG1CQUFvQ0UsR0FBTzFGLFVBQ2xRaVgsRUFFSCxJQUFJeFIsR0FBSUMsSXVDemxFQTVKLEdBQUFtYixjQUFhQSxHdkNnbUVwQkcsSUFDQSxTQUFTdmIsRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxJQUFJeUcsR0FBY2hDLE1BQVFBLEtBQUtnQyxZQUFlLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBTzVDLE9BQU9rRCx5QkFBeUJSLEVBQVFDLEdBQU9DLENBQ3JILElBQXVCLGdCQUFaTyxVQUFvRCxrQkFBckJBLFNBQVFDLFNBQXlCSCxFQUFJRSxRQUFRQyxTQUFTWCxFQUFZQyxFQUFRQyxFQUFLQyxPQUNwSCxLQUFLLEdBQUlTLEdBQUlaLEVBQVdPLE9BQVMsRUFBR0ssR0FBSyxFQUFHQSxLQUFTUixFQUFJSixFQUFXWSxNQUFJSixHQUFLSCxFQUFJLEVBQUlELEVBQUVJLEdBQUtILEVBQUksRUFBSUQsRUFBRUgsRUFBUUMsRUFBS00sR0FBS0osRUFBRUgsRUFBUUMsS0FBU00sRUFDaEosT0FBT0gsR0FBSSxHQUFLRyxHQUFLakQsT0FBT3NELGVBQWVaLEVBQVFDLEVBQUtNLEdBQUlBLEdBRTVETSxFQUFjL0MsTUFBUUEsS0FBSytDLFlBQWUsU0FBVXBELEVBQUdYLEdBQ3ZELEdBQXVCLGdCQUFaMkQsVUFBb0Qsa0JBQXJCQSxTQUFRSyxTQUF5QixNQUFPTCxTQUFRSyxTQUFTckQsRUFBR1gsSXdDeG5FM0dpRSxFQUFBMUgsRUFBc0YsR0FFdEZvQyxFQUFBcEMsRUFBd0MsS0FReENzYixFQUFBLFdBSUksUUFBQUEsR0FBb0J4RixHQUFBclIsS0FBQXFSLFFBU3hCLE1BUEl3RixHQUFBeFQsVUFBQW1CLGdCQUFBLFdBQ0l4RSxLQUFLcVIsTUFBTVcsUUFDTjhFLE1BQU0sbUJBQ05DLFlBQVkvVyxLQUFLZ1gsWUFDakJ4RSxLQUFLeFMsS0FBS2lYLFdBVG5CalYsR0FBQ2lCLEVBQUE2QixVQUFVLGVBQWdCQyxLQUFNOUIsRUFBQStCLG1CeEM2bkU1QmpDLEVBQVcsY0FBNEcsbUJBQXBGa0MsRUFBd0MsbUJBQTVCaEMsR0FBTytCLGtCQUFvQy9CLEVBQU8rQixtQkFBb0NDLEdBQU96RixTQUM3SXFYLEVBQUt4VCxVQUFXLFdBQVksUXdDN25FaENyQixHQUFDaUIsRUFBQTZCLFVBQVUsY0FBZUMsS0FBTTlCLEVBQUFpVSxjeENnb0UzQm5VLEVBQVcsY0FBa0csbUJBQTFFbUMsRUFBbUMsbUJBQXZCakMsR0FBT2lVLGFBQStCalUsRUFBT2lVLGNBQStCaFMsR0FBTzFGLFNBQ25JcVgsRUFBS3hULFVBQVcsYUFBYyxRd0N6b0V0Q3dULEVBQUE3VSxHQUFDaUIsRUFBQVksV0FDR0MsU0FBVSxPQUNWK0IsVUFBV2xJLEVBQUF3WixpQkFBaUJSLGVBQzVCWixZQUFhLDhCQUNiaFMsY0FBZWQsRUFBQWUsa0JBQWtCQyxPeEM2b0U1QmxCLEVBQVcscUJBQStGLG1CQUFoRW9DLEVBQThCLG1CQUFsQnhILEdBQVFDLE9BQXlCRCxFQUFRQyxRQUF5QnVILEdBQU8zRixVQUNoSXFYLEVBRUgsSUFBSTVSLEdBQUlDLEVBQUlDLEl3QzlvRUo3SixHQUFBdWIsS0FBSUEsR3hDcXBFWE8sSUFDQSxTQUFTL2IsRUFBUUMsRUFBU0MsR0FFL0IsWXlDanBFRCxTQUFBb2IsS0FDRSxRQUNJVSxRQUFTalcsRUFBQXhELE1BQVcwWixTQUFVM1YsRUFBQS9ELFFBQzlCeVosUUFBUzFWLEVBQUEvRCxNQUFPMFosU0FBVTNWLEVBQUEvRCxRQUMxQnlaLFFBQVNqVyxFQUFBN0QsdUJBQXdCZ2EsU0FBVTlXLEVBQUErVyxxQkFDM0NILFFBQVNqVyxFQUFBOUQsbUJBQW9CaWEsVUFDN0J2RixNQUFPLFNBQUFYLEdBQVMsVUFBSXZULEdBQUEyWix5QkFBeUJwRyxJQUM3Q2MsT0FBUXZLLE9BQ1J5SyxRQUFTekssVXpDMG9FZCxHQUFJNUYsR0FBY2hDLE1BQVFBLEtBQUtnQyxZQUFlLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBTzVDLE9BQU9rRCx5QkFBeUJSLEVBQVFDLEdBQU9DLENBQ3JILElBQXVCLGdCQUFaTyxVQUFvRCxrQkFBckJBLFNBQVFDLFNBQXlCSCxFQUFJRSxRQUFRQyxTQUFTWCxFQUFZQyxFQUFRQyxFQUFLQyxPQUNwSCxLQUFLLEdBQUlTLEdBQUlaLEVBQVdPLE9BQVMsRUFBR0ssR0FBSyxFQUFHQSxLQUFTUixFQUFJSixFQUFXWSxNQUFJSixHQUFLSCxFQUFJLEVBQUlELEVBQUVJLEdBQUtILEVBQUksRUFBSUQsRUFBRUgsRUFBUUMsRUFBS00sR0FBS0osRUFBRUgsRUFBUUMsS0FBU00sRUFDaEosT0FBT0gsR0FBSSxHQUFLRyxHQUFLakQsT0FBT3NELGVBQWVaLEVBQVFDLEVBQUtNLEdBQUlBLEdBRTVETSxFQUFjL0MsTUFBUUEsS0FBSytDLFlBQWUsU0FBVXBELEVBQUdYLEdBQ3ZELEdBQXVCLGdCQUFaMkQsVUFBb0Qsa0JBQXJCQSxTQUFRSyxTQUF5QixNQUFPTCxTQUFRSyxTQUFTckQsRUFBR1gsSXlDMXFFM0dpRSxFQUFBMUgsRUFBeUIsR0FDekJrSyxFQUFBbEssRUFBNkIsSUFFN0JvRyxFQUFBcEcsRUFBc0IsS0FDdEJrRixFQUFBbEYsRUFBbUMsS0FDbkN1QyxFQUFBdkMsRUFBeUMsS0FFekM2RixFQUFBN0YsRUFJTyxHQUdQbWMsRUFBQW5jLEVBQXNCLElBQWJELEdBQUFzQyxNQUFBOFosRUFBQTlaLEtBQ1QsSUFBQStaLEdBQUFwYyxFQUE0RCxJQUFuREQsR0FBQXNjLGtCQUFBRCxFQUFBQyxrQkFBbUJ0YyxFQUFBbWMseUJBQUFFLEVBQUFGLHdCQXlCNUIsSUFBQU4sR0FBQSxtQkFBQUEsTUFJQSxNQUhTQSxHQUFBUixhQUFQLFdBQ0UsTUFBT0EsTUFaWFEsRUFBQW5WLEdBQUNpQixFQUFBNkMsVUFDQ0MsU0FBVU4sRUFBQU8sY0FDVkMsY0FDRXhGLEVBQUErVyxvQkFFRjNSLFVBQVc4USxJQUNYa0IsaUJBQ0VwWCxFQUFBK1csc0J6QytxRUt6VSxFQUFXLHlCQUNab1UsS3lDN3FFSzdiLEdBQUE2YixpQkFBZ0JBLEd6Q3FyRXZCVyxJQUNBLFNBQVN6YyxFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUk2SyxHQUFhcEcsTUFBUUEsS0FBS29HLFdBQWMsU0FBVS9ELEVBQUdnRSxHQUVyRCxRQUFTQyxLQUFPdEcsS0FBS3VHLFlBQWNsRSxFQURuQyxJQUFLLEdBQUkzRixLQUFLMkosR0FBT0EsRUFBRTFKLGVBQWVELEtBQUkyRixFQUFFM0YsR0FBSzJKLEVBQUUzSixHQUVuRDJGLEdBQUVnQixVQUFrQixPQUFOZ0QsRUFBYTdHLE9BQU9nSCxPQUFPSCxJQUFNQyxFQUFHakQsVUFBWWdELEVBQUVoRCxVQUFXLEdBQUlpRCxLMENudUVwRmxGLEVBQUE3RixFQUtPLEdBR1BxYyxFQUFBLFNBQUFsUixHQUFBLFFBQUFrUixLQUF1Q2xSLEVBQUFDLE1BQUEzRyxLQUFBdUMsV0FPdkMsTUFQdUM2RCxHQUFBd1IsRUFBQWxSLEdBSW5Da1IsRUFBQXZVLFVBQUFxSyxVQUFBLFdBQ1MxTixLQUFLa1MsVUFBU2xTLEtBQUtrUyxRQUFVLEtBRTFDMEYsR0FQdUN4VyxFQUFBaEQsaUJBQTFCOUMsR0FBQXNjLGtCQUFpQkEsQ0FVOUIsSUFBQUgsR0FBQSxTQUFBL1EsR0FJSSxRQUFBK1EsR0FDSXBHLEdBRUEzSyxFQUFBbUIsS0FBQTdILE1BQ1dxUixVQUNOLFFBQVMsZUFDTHVHLEdBSWpCLE1BZDhDeFIsR0FBQXFSLEVBQUEvUSxHQWM5QytRLEdBZDhDclcsRUFBQS9DLHdCQUFqQy9DLEdBQUFtYyx5QkFBd0JBLEcxQzR1RS9CTSxJQUNBLFNBQVMxYyxFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUl5RyxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJMkMxd0UzR2lFLEVBQUExSCxFQUE2QyxHQUU3Q3ljLEVBQUF6YyxFQUEyQyxLQUUvQitaLEVBQU8vWixFQUFNLEtBV3pCMGMsRUFBQSxXQUdJLFFBQUFBLEdBQW1CNUcsR0FIdkIsR0FBQXRSLEdBQUFDLElBR3VCQSxNQUFBcVIsUUFDZnJSLEtBQUt3VixlQUFpQixRQUFTLFNBQVUsV0FBVzlWLElBQUksU0FBQXdZLEdBQ3BELE9BQ0l4RCxLQUFTd0QsRUFBTSxXQUNmekMsUUFBUyxXQUFNLE1BQUFILEdBQVE0QyxHQUFRblksRUFBS3NSLE9BQU9tQixXQUkzRCxNQXBCQXlGLEdBQUFqVyxHQUFDaUIsRUFBQVksV0FDR0MsU0FBVSxpQkFDVmlTLFlBQWEsa0RBSWJsUSxVQUFXbVMsRUFBQWpQLG9CQUFvQjROLGVBQy9CNVMsY0FBZWQsRUFBQWUsa0JBQWtCQyxPM0N1eEU1QmxCLEVBQVcscUJBQXVHLG1CQUF4RWtDLEVBQWtDLG1CQUF0QitTLEdBQVlwYSxPQUF5Qm9hLEVBQVlwYSxRQUF5QnFILEdBQU96RixVQUN4SXlZLEVBRUgsSUFBSWhULEsyQ3h4RUkzSixHQUFBMmMsYUFBWUEsRzNDK3hFbkJFLElBQ0EsU0FBUzljLEVBQVFDLEVBQVNDLEdBRS9CLFlBQ0EsSUFBSXlHLEdBQWNoQyxNQUFRQSxLQUFLZ0MsWUFBZSxTQUFVQyxFQUFZQyxFQUFRQyxFQUFLQyxHQUM3RSxHQUEySEMsR0FBdkhDLEVBQUlDLFVBQVVDLE9BQVFDLEVBQUlILEVBQUksRUFBSUosRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU81QyxPQUFPa0QseUJBQXlCUixFQUFRQyxHQUFPQyxDQUNySCxJQUF1QixnQkFBWk8sVUFBb0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkgsRUFBSUUsUUFBUUMsU0FBU1gsRUFBWUMsRUFBUUMsRUFBS0MsT0FDcEgsS0FBSyxHQUFJUyxHQUFJWixFQUFXTyxPQUFTLEVBQUdLLEdBQUssRUFBR0EsS0FBU1IsRUFBSUosRUFBV1ksTUFBSUosR0FBS0gsRUFBSSxFQUFJRCxFQUFFSSxHQUFLSCxFQUFJLEVBQUlELEVBQUVILEVBQVFDLEVBQUtNLEdBQUtKLEVBQUVILEVBQVFDLEtBQVNNLEVBQ2hKLE9BQU9ILEdBQUksR0FBS0csR0FBS2pELE9BQU9zRCxlQUFlWixFQUFRQyxFQUFLTSxHQUFJQSxHQUU1RE0sRUFBYy9DLE1BQVFBLEtBQUsrQyxZQUFlLFNBQVVwRCxFQUFHWCxHQUN2RCxHQUF1QixnQkFBWjJELFVBQW9ELGtCQUFyQkEsU0FBUUssU0FBeUIsTUFBT0wsU0FBUUssU0FBU3JELEVBQUdYLEk0Q3p6RTNHaUUsRUFBQTFILEVBR08sR0FFUDZGLEVBQUE3RixFQUEwQyxHQW1CMUM2YyxFQUFBLFdBR0UsUUFBQUEsR0FBbUJoVSxHQUFBcEUsS0FBQW9FLFNBQ2pCcEUsS0FBS3VFLFFBQVVILEVBQU9HLFFBRTFCLE1BbkJBNlQsR0FBQXBXLEdBQUNpQixFQUFBWSxXQUNDQyxTQUFVLGVBQ1ZDLGNBQWVkLEVBQUFlLGtCQUFrQkMsS0FDakNDLFNBQVUsNlY1QzB6RUhuQixFQUFXLHFCQUF5SCxtQkFBMUZrQyxFQUEyQyxtQkFBL0I3RCxHQUFpQmpFLFdBQTZCaUUsRUFBaUJqRSxZQUE2QjhILEdBQU96RixVQUMxSjRZLEVBRUgsSUFBSW5ULEs0Q256RUkzSixHQUFBOGMsWUFBV0EsRzVDMHpFbEJDLElBQ0EsU0FBU2hkLEVBQVFDLEVBQVNDLEdBRS9CLFlBQ0EsSUFBSXlHLEdBQWNoQyxNQUFRQSxLQUFLZ0MsWUFBZSxTQUFVQyxFQUFZQyxFQUFRQyxFQUFLQyxHQUM3RSxHQUEySEMsR0FBdkhDLEVBQUlDLFVBQVVDLE9BQVFDLEVBQUlILEVBQUksRUFBSUosRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU81QyxPQUFPa0QseUJBQXlCUixFQUFRQyxHQUFPQyxDQUNySCxJQUF1QixnQkFBWk8sVUFBb0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkgsRUFBSUUsUUFBUUMsU0FBU1gsRUFBWUMsRUFBUUMsRUFBS0MsT0FDcEgsS0FBSyxHQUFJUyxHQUFJWixFQUFXTyxPQUFTLEVBQUdLLEdBQUssRUFBR0EsS0FBU1IsRUFBSUosRUFBV1ksTUFBSUosR0FBS0gsRUFBSSxFQUFJRCxFQUFFSSxHQUFLSCxFQUFJLEVBQUlELEVBQUVILEVBQVFDLEVBQUtNLEdBQUtKLEVBQUVILEVBQVFDLEtBQVNNLEVBQ2hKLE9BQU9ILEdBQUksR0FBS0csR0FBS2pELE9BQU9zRCxlQUFlWixFQUFRQyxFQUFLTSxHQUFJQSxHQUU1RE0sRUFBYy9DLE1BQVFBLEtBQUsrQyxZQUFlLFNBQVVwRCxFQUFHWCxHQUN2RCxHQUF1QixnQkFBWjJELFVBQW9ELGtCQUFyQkEsU0FBUUssU0FBeUIsTUFBT0wsU0FBUUssU0FBU3JELEVBQUdYLEk2QzcxRTNHaUUsRUFBQTFILEVBQTBFLEdBRTFFK2MsRUFBQS9jLEVBT08sS0FFUG9DLEVBQUFwQyxFQUFpRCxLQUNyQytaLEVBQU8vWixFQUFNLEtBQ3pCZ2QsRUFBQWhkLEVBQTRCLEtBcUI1QmlkLEVBQUEsV0FLRSxRQUFBQSxHQUFtQm5ILEVBQWN4SCxHQUxuQyxHQUFBOUosR0FBQUMsSUFLcUJBLE1BQUFxUixRQUhuQnJSLEtBQUF5WSxNQUE0QyxVQVExQ3pZLEtBQUtxUixNQUFNcUYscUJBQXVCN00sRUFFbEM3SixLQUFLd1YsZ0JBRURkLEtBQU0sZ0JBQ05lLFFBQVMsV0FBTSxNQUFBSCxHQUFRdEQsTUFBTW5LLEtBQUs5SCxFQUFNQSxFQUFLc1IsT0FBT21CLFVBR3BEa0MsS0FBTSxpQkFDTmUsUUFBUyxXQUFNLE1BQUFILEdBQVFuRCxPQUFPdEssS0FBSzlILEVBQU1BLEVBQUtzUixPQUFPbUIsVUFHckRrQyxLQUFNLGtCQUNOZSxRQUFTLFdBQU0sTUFBQUgsR0FBUWpELFFBQVF4SyxLQUFLOUgsRUFBTUEsRUFBS3NSLE9BQU9tQixVQUd0RGtDLEtBQU0sb0JBQ05lLFFBQVMsV0FBTSxNQUFBSCxHQUFRSSxVQUFVN04sS0FBSzlILEVBQU1BLEVBQUtzUixPQUFPbUIsVUFHeERrQyxLQUFNLHFCQUNOZSxRQUFTLFdBQU0sTUFBQUgsR0FBUXRELE1BQU1uSyxLQUFLOUgsRUFBTUEsRUFBS3NSLE9BQU9tQixLQUFLelMsRUFBSzRWLFNBQVNDLGVBR3ZFbEIsS0FBTSx1QkFDTmUsUUFBUyxXQUNQLE1BQU8sSUFBSTZDLEdBQUE3RSxvQkFBa0MxVCxFQUFLc1IsT0FDL0N3QyxVQUFVOVQsRUFBSzBZLE9BQ2Y5VCxRQUFRNFQsRUFBQUgsYUFDUmxHLFFBQVEsZ0NBQ1J1QyxZQUFZLFFBQ1p6TSxVQUNDLDhDQUNBLFNBQ0EsU0FBQ3lKLEVBQXNCak8sR0FBdUIsTUFBQWlPLEdBQUlyTixPQUFPdUksTUFBTSxXQUVoRWdJLGdCQUFnQixTQUNoQm5DLFVBSUxrQyxLQUFNLGFBQ05lLFFBQVMsV0FBTSxNQUFBSCxHQUFRb0QsVUFBVTdRLEtBQUs5SCxFQUFNQSxFQUFLc1IsT0FBT21CLFVBR3hEa0MsS0FBTSxpQkFDTmUsUUFBUyxXQUFNLE1BQUFILEdBQVFxRCxjQUFjOVEsS0FBSzlILEVBQU1BLEVBQUtzUixPQUFPbUIsVUFJcEUsTUF6REV4USxJQUFDaUIsRUFBQTZCLFVBQVVuSCxFQUFBdUksVTdDdTNFSm5ELEVBQVcsY0FBOEYsbUJBQXRFa0MsRUFBaUMsbUJBQXJCdEgsR0FBUXVJLFVBQTRCdkksRUFBUXVJLFdBQTRCakIsR0FBT3pGLFNBQy9IZ1osRUFBUW5WLFVBQVcsV0FBWSxRNkM5NEV2Q21WLEVBQUF4VyxHQUFDaUIsRUFBQVksV0FDQ0MsU0FBVSxXQUNWaVEsV0FDRSxpQ0FDQSwrQ0FDQSwwQ0FDQSw2Q0FDQSxpREFDQSxtREFDQSwyQ0FDQSw0REFFRmdDLFlBQWEsc0NBSWJsUSxVQUFXeVMsRUFBQTNFLGVBQWVnRCxlQUMxQjVTLGNBQWVkLEVBQUFlLGtCQUFrQkMsTzdDazVFMUJsQixFQUFXLHFCQUEyRixtQkFBNURtQyxFQUE0QixtQkFBaEJvVCxHQUFNMWEsT0FBeUIwYSxFQUFNMWEsUUFBeUJzSCxHQUFPMUYsT0FBcUcsbUJBQXBGMkYsRUFBd0MsbUJBQTVCbEMsR0FBTytCLGtCQUFvQy9CLEVBQU8rQixtQkFBb0NHLEdBQU8zRixVQUN0UGdaLEVBRUgsSUFBSXZULEdBQUlDLEVBQUlDLEk2Q241RUo3SixHQUFBa2QsUUFBT0EsRzdDMDVFZEksSUFDQSxTQUFTdmQsRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxJQUFJeUcsR0FBY2hDLE1BQVFBLEtBQUtnQyxZQUFlLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBTzVDLE9BQU9rRCx5QkFBeUJSLEVBQVFDLEdBQU9DLENBQ3JILElBQXVCLGdCQUFaTyxVQUFvRCxrQkFBckJBLFNBQVFDLFNBQXlCSCxFQUFJRSxRQUFRQyxTQUFTWCxFQUFZQyxFQUFRQyxFQUFLQyxPQUNwSCxLQUFLLEdBQUlTLEdBQUlaLEVBQVdPLE9BQVMsRUFBR0ssR0FBSyxFQUFHQSxLQUFTUixFQUFJSixFQUFXWSxNQUFJSixHQUFLSCxFQUFJLEVBQUlELEVBQUVJLEdBQUtILEVBQUksRUFBSUQsRUFBRUgsRUFBUUMsRUFBS00sR0FBS0osRUFBRUgsRUFBUUMsS0FBU00sRUFDaEosT0FBT0gsR0FBSSxHQUFLRyxHQUFLakQsT0FBT3NELGVBQWVaLEVBQVFDLEVBQUtNLEdBQUlBLEdBRTVETSxFQUFjL0MsTUFBUUEsS0FBSytDLFlBQWUsU0FBVXBELEVBQUdYLEdBQ3ZELEdBQXVCLGdCQUFaMkQsVUFBb0Qsa0JBQXJCQSxTQUFRSyxTQUF5QixNQUFPTCxTQUFRSyxTQUFTckQsRUFBR1gsSThDdjhFM0dpRSxFQUFBMUgsRUFBOEMsR0FFOUNzZCxFQUFBdGQsRUFBc0MsSUFFdENvQyxFQUFBcEMsRUFBc0MsS0FDdEM2QixFQUFBN0IsRUFBOEIsS0FDOUIyTixFQUFBM04sRUFBaUMsS0FJakNnRCxFQUFBLG1CQUFBQSxNQVVBLE1BVFNBLEdBQUFvSCxRQUFQLFdBQ0UsT0FDRUMsU0FBVXJILEVBQ1ZzSCxZQUNJd1IsUUFBU2phLEVBQUFNLGNBQWU0WixTQUFVcE8sRUFBQXJMLG1CQUNsQ3daLFFBQVN3QixFQUFBQyxzQkFBdUJ4QixTQUFVM1osRUFBQXlMLHNCQUF1QjJQLE9BQU8sTUFSbEZ4YSxFQUFBeUQsR0FBQ2lCLEVBQUE2QyxhOUNvOUVRL0MsRUFBVyx5QkFDWnhFLEs4Q245RUtqRCxHQUFBaUQsWUFBV0EsRzlDMjlFbEJ5YSxJQUNBLFNBQVMzZCxFQUFRQyxHQUV0QixZK0NuK0VELElBQUEyZCxHQUFBLG1CQUFBQSxLQUNZalosS0FBQWtaLFVBMENaLE1BdkNJRCxHQUFBNVYsVUFBQWdGLEtBQUEsU0FBSzhRLEdBQ0QsR0FBSUMsR0FBTXBaLEtBQUtrWixPQUFPamEsUUFBUWthLEVBQzFCQyxTQUFZcFosS0FBS2taLE9BQU83USxLQUFLOFEsSUFRckNGLEVBQUE1VixVQUFBZ1csWUFBQSxTQUFZRixHQUNSblosS0FBS3FJLEtBQUs4USxJQUdkRixFQUFBNVYsVUFBQWlXLElBQUEsV0FDSXRaLEtBQUtrWixPQUFPSSxPQU9oQkwsRUFBQTVWLFVBQUFzTCxPQUFBLFNBQU93SyxHQUNILEdBQUlDLEdBQU1wWixLQUFLa1osT0FBT2phLFFBQVFrYSxFQUMxQkMsT0FBVXBaLEtBQUtrWixPQUFPSyxPQUFPSCxFQUFLLElBSTFDSCxFQUFBNVYsVUFBQW1XLE1BQUEsU0FBTUEsR0FDRixNQUFPeFosTUFBS2taLE9BQU9NLElBR3ZCUCxFQUFBNVYsVUFBQXBFLFFBQUEsU0FBUWthLEdBQ0osTUFBT25aLE1BQUtrWixPQUFPamEsUUFBUWthLElBRy9CM1osT0FBQXNELGVBQUltVyxFQUFBNVYsVUFBQSxVL0NtK0VDMEQsSStDbitFTCxXQUNJLE1BQU8vRyxNQUFLa1osT0FBTzFXLFEvQ3ErRWxCeUUsWUFBWSxFQUNaQyxjQUFjLEkrQ3ArRXZCK1IsSUEzQ2EzZCxHQUFBMmQsZUFBY0EsRy9Dd2hGckJRLElBQ0EsU0FBU3BlLEVBQVFDLEVBQVNDLEdBRS9CLFlBQ0EsSUFBSTZLLEdBQWFwRyxNQUFRQSxLQUFLb0csV0FBYyxTQUFVL0QsRUFBR2dFLEdBRXJELFFBQVNDLEtBQU90RyxLQUFLdUcsWUFBY2xFLEVBRG5DLElBQUssR0FBSTNGLEtBQUsySixHQUFPQSxFQUFFMUosZUFBZUQsS0FBSTJGLEVBQUUzRixHQUFLMkosRUFBRTNKLEdBRW5EMkYsR0FBRWdCLFVBQWtCLE9BQU5nRCxFQUFhN0csT0FBT2dILE9BQU9ILElBQU1DLEVBQUdqRCxVQUFZZ0QsRUFBRWhELFVBQVcsR0FBSWlELEtnRGhpRnBGM0ksRUFBQXBDLEVBQXNCLEtBRXRCdUMsRUFBQXZDLEVBQWtGLEtBQ2xGdUIsRUFBQXZCLEVBQTJCLEtBRXJCaU0sR0FDRixhQUdKcEosRUFBQSxTQUFBc0ksR0FBQSxRQUFBdEksS0FBc0NzSSxFQUFBQyxNQUFBM0csS0FBQXVDLFdBR3RDLE1BSHNDNkQsR0FBQWhJLEVBQUFzSSxHQUd0Q3RJLEdBSHNDTixFQUFBRSxhQUF6QjFDLEdBQUE4QyxpQkFBZ0JBLENBVTdCLElBQUFDLEdBQUEsU0FBQXFJLEdBVUksUUFBQXJJLEdBQ0lvSixFQUNBQyxFQUNBQyxHQUZBLFNBQUFGLE1BQUFHLFFBQ0EsU0FBQUYsTUFBQUUsUUFDQSxTQUFBRCxNQUFBQyxRQUVBbEIsRUFBQW1CLEtBQUE3SCxLQUNJeUgsTUFDQTNLLEVBQUFFLFdBQW1Cd0ssRUFBaUJFLE9BQ3BDQyxHQTJCWixNQTVDNER2QixHQUFBL0gsRUFBQXFJLEdBeUI5Q3JJLEVBQUFnRixVQUFBbU8sYUFBVixTQUF1QnJTLEdBQ25CLFVBUUpkLEVBQUFnRixVQUFBbVAsS0FBQSxTQUFLM0ksR0FDRCxHQUFJMUssR0FBWWEsS0FBS2lNLFFBRXJCLE1BQU85TSxFQUFPa1MsZ0JBQWlCMVQsR0FBQUMsT0FDM0IsTUFBWWxDLFNBQVFDLE9BQU8sR0FBSTJPLE9BQU0sK0NBR3pDLElBQUl6RixHQUF3QyxrQkFBdEI3RSxNQUFLd1IsY0FBK0J4UixLQUFLd1IsYUFBYXJTLEVBQzVFLE9BQU9BLEdBQU9rUyxNQUFNbUIsS0FBS3JULEVBQU9zSCxVQUFXdEgsRUFBUTBGLEVBQVVnRixJQUVyRXhMLEdBNUM0RFAsRUFBQUcsb0JBRHRDM0MsR0FBQStDLHdCQUF1QkEsR2hEcWtGdkNxYixJQUNBLFNBQVNyZSxFQUFRQyxFQUFTQyxHQUUvQixZaUQ1a0ZELFNBQUFvYixLQUNFLFFBQ0lVLFFBQVNqVyxFQUFBeEQsTUFBVzBaLFNBQVUzVixFQUFBL0QsUUFDOUJ5WixRQUFTMVYsRUFBQS9ELE1BQU8wWixTQUFVM1YsRUFBQS9ELFFBQzFCeVosUUFBU2pXLEVBQUE3RCx1QkFBd0JnYSxTQUFVOVcsRUFBQUMsa0JBQzNDMlcsUUFBU2pXLEVBQUE5RCxtQkFBb0JpYSxVQUM3QnZGLE1BQU8sU0FBQVgsR0FBUyxVQUFJaFEsR0FBQUUsdUJBQXVCOFAsR0FBYTdELFlBQVksS0FDcEUyRSxPQUFRLFNBQUFkLEdBQVMsVUFBSWhRLEdBQUFFLHVCQUF1QjhQLEdBQWE3RCxZQUFZLEVBQU1DLFNBQVUsUUFDckY0RSxRQUFTLFNBQUFoQixHQUFTLFVBQUk3UCxHQUFBRSx1QkFBdUIyUCxHQUFhN0QsWUFBWSxFQUFNQyxTQUFVLFdqRHFrRjNGLEdBQUl6TCxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJaUR2bUYzR2lFLEVBQUExSCxFQUF5QixHQUN6QmtLLEVBQUFsSyxFQUE2QixJQUU3Qm9HLEVBQUFwRyxFQUFzQixLQUN0QmtGLEVBQUFsRixFQUFnQyxLQUNoQ3NGLEVBQUF0RixFQUErQixLQUMvQm9GLEVBQUFwRixFQUFpQyxLQUNqQ3dGLEVBQUF4RixFQUE4QixLQUc5QjhGLEVBQUE5RixFQUF1QyxLQUN2Q2lHLEVBQUFqRyxFQUF1QyxLQUV2QzZGLEVBQUE3RixFQUlPLEdBNkJQdUcsRUFBQSxtQkFBQUEsTUFJQSxNQUhTQSxHQUFBNlUsYUFBUCxXQUNFLE1BQU9BLE1BaEJYN1UsRUFBQUUsR0FBQ2lCLEVBQUE2QyxVQUNDQyxTQUFXTixFQUFBTyxjQUNYQyxjQUNFeEYsRUFBQUMsZ0JBQ0FHLEVBQUFDLGVBQ0FILEVBQUFDLGlCQUNBRyxFQUFBQyxlQUVGNkUsVUFBVzhRLElBQ1hrQixpQkFDRXBYLEVBQUFDLGdCQUNBRyxFQUFBQyxrQmpEeW1GS2lDLEVBQVcseUJBQ1pqQixLaUR2bUZLeEcsR0FBQXdHLHFCQUFvQkEsR2pEK21GM0I2WCxJQUNBLFNBQVN0ZSxFQUFRQyxFQUFTQyxHQUUvQixZa0RscEZELFNBQUFvYixLQUNFLFFBQ0lVLFFBQVNqVyxFQUFBeEQsTUFBVzBaLFNBQVUzVixFQUFBL0QsUUFDOUJ5WixRQUFTMVYsRUFBQS9ELE1BQU8wWixTQUFVM1YsRUFBQS9ELFFBQzFCeVosUUFBU2pXLEVBQUExRCxjQUFlNFosU0FBVTVPLEVBQUFDLHdCQUNsQzBPLFFBQVNqVyxFQUFBN0QsdUJBQXdCZ2EsY0FDakNGLFFBQVNqVyxFQUFBOUQsbUJBQW9CaWEsVUFDN0J2RixNQUFPLFNBQUFYLEdBQVMsVUFBSXpJLEdBQUFDLHNCQUFzQndJLEVBQU9qUSxFQUFBL0QsYUFBYTJVLFFBQzlERyxPQUFRLFNBQUFkLEdBQVMsVUFBSXpJLEdBQUFDLHNCQUFzQndJLEVBQU9qUSxFQUFBL0QsYUFBYThVLFNBQy9ERSxRQUFTLFNBQUFoQixHQUFTLFVBQUl6SSxHQUFBQyxzQkFBc0J3SSxFQUFPalEsRUFBQS9ELGFBQWFnVixhbEQwb0ZyRSxHQUFJclEsR0FBY2hDLE1BQVFBLEtBQUtnQyxZQUFlLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBTzVDLE9BQU9rRCx5QkFBeUJSLEVBQVFDLEdBQU9DLENBQ3JILElBQXVCLGdCQUFaTyxVQUFvRCxrQkFBckJBLFNBQVFDLFNBQXlCSCxFQUFJRSxRQUFRQyxTQUFTWCxFQUFZQyxFQUFRQyxFQUFLQyxPQUNwSCxLQUFLLEdBQUlTLEdBQUlaLEVBQVdPLE9BQVMsRUFBR0ssR0FBSyxFQUFHQSxLQUFTUixFQUFJSixFQUFXWSxNQUFJSixHQUFLSCxFQUFJLEVBQUlELEVBQUVJLEdBQUtILEVBQUksRUFBSUQsRUFBRUgsRUFBUUMsRUFBS00sR0FBS0osRUFBRUgsRUFBUUMsS0FBU00sRUFDaEosT0FBT0gsR0FBSSxHQUFLRyxHQUFLakQsT0FBT3NELGVBQWVaLEVBQVFDLEVBQUtNLEdBQUlBLEdBRTVETSxFQUFjL0MsTUFBUUEsS0FBSytDLFlBQWUsU0FBVXBELEVBQUdYLEdBQ3ZELEdBQXVCLGdCQUFaMkQsVUFBb0Qsa0JBQXJCQSxTQUFRSyxTQUF5QixNQUFPTCxTQUFRSyxTQUFTckQsRUFBR1gsSWtEeHFGM0dpRSxFQUFBMUgsRUFBeUIsR0FFekJvRyxFQUFBcEcsRUFBc0IsS0FDdEJtTixFQUFBbk4sRUFBc0MsS0FDdENxTixFQUFBck4sRUFBc0MsS0FFdEM2RixFQUFBN0YsRUFNTyxHQW1CUHdOLEVBQUEsbUJBQUFBLE1BTUEsTUFKU0EsR0FBQTROLGFBQVAsV0FDRSxNQUFPQSxNQU5YNU4sRUFBQS9HLEdBQUNpQixFQUFBNkMsVUFDQ0QsVUFBVzhRLE1sRHlxRko1VCxFQUFXLHlCQUNaZ0csS2tEeHFGS3pOLEdBQUF5TixvQkFBbUJBLEdsRGdyRjFCNlEsSUFDQSxTQUFTdmUsRUFBUUMsRUFBU0MsR0FFL0IsWW1EaHNGRCxTQUFBb2IsS0FDRSxRQUNJVSxRQUFTalcsRUFBQXhELE1BQVcwWixTQUFVM1YsRUFBQS9ELFFBQzlCeVosUUFBUzFWLEVBQUEvRCxNQUFPMFosU0FBVTNWLEVBQUEvRCxRQUMxQnlaLFFBQVNqVyxFQUFBN0QsdUJBQXdCZ2EsU0FBVTlXLEVBQUFpUyxtQkFDM0MyRSxRQUFTalcsRUFBQTlELG1CQUFvQmlhLFVBQzdCdkYsTUFBTyxTQUFBWCxHQUFTLFVBQUkyQixHQUFBRSxvQkFBUTdCLEVBQU9qUSxFQUFBL0QsYUFBTzJVLE9BQWF4RSxZQUFZLEtBQ25FMkUsT0FBUSxTQUFBZCxHQUFTLFVBQUkyQixHQUFBRSxvQkFBUTdCLEVBQU9qUSxFQUFBL0QsYUFBTzhVLFFBQWMzRSxZQUFZLEVBQU1DLFNBQVUsUUFDckY0RSxRQUFTLFNBQUFoQixHQUFTLFVBQUkyQixHQUFBRSxvQkFBUTdCLEVBQU9qUSxFQUFBL0QsYUFBT2dWLFNBQWU3RSxZQUFZLEVBQU1DLFNBQVUsV25EeXJGNUYsR0FBSXpMLEdBQWNoQyxNQUFRQSxLQUFLZ0MsWUFBZSxTQUFVQyxFQUFZQyxFQUFRQyxFQUFLQyxHQUM3RSxHQUEySEMsR0FBdkhDLEVBQUlDLFVBQVVDLE9BQVFDLEVBQUlILEVBQUksRUFBSUosRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU81QyxPQUFPa0QseUJBQXlCUixFQUFRQyxHQUFPQyxDQUNySCxJQUF1QixnQkFBWk8sVUFBb0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkgsRUFBSUUsUUFBUUMsU0FBU1gsRUFBWUMsRUFBUUMsRUFBS0MsT0FDcEgsS0FBSyxHQUFJUyxHQUFJWixFQUFXTyxPQUFTLEVBQUdLLEdBQUssRUFBR0EsS0FBU1IsRUFBSUosRUFBV1ksTUFBSUosR0FBS0gsRUFBSSxFQUFJRCxFQUFFSSxHQUFLSCxFQUFJLEVBQUlELEVBQUVILEVBQVFDLEVBQUtNLEdBQUtKLEVBQUVILEVBQVFDLEtBQVNNLEVBQ2hKLE9BQU9ILEdBQUksR0FBS0csR0FBS2pELE9BQU9zRCxlQUFlWixFQUFRQyxFQUFLTSxHQUFJQSxHQUU1RE0sRUFBYy9DLE1BQVFBLEtBQUsrQyxZQUFlLFNBQVVwRCxFQUFHWCxHQUN2RCxHQUF1QixnQkFBWjJELFVBQW9ELGtCQUFyQkEsU0FBUUssU0FBeUIsTUFBT0wsU0FBUUssU0FBU3JELEVBQUdYLEltRDF0RjNHaUUsRUFBQTFILEVBQXlCLEdBQ3pCa0ssRUFBQWxLLEVBQTZCLElBRTdCb0csRUFBQXBHLEVBQXNCLEtBRXRCNkYsRUFBQTdGLEVBS08sR0FHUHlYLEVBQUF6WCxFQUErQyxLQUMvQ2tGLEVBQUFsRixFQUFpQyxLQUNqQ29YLEVBQUFwWCxFQUFnQyxLQUNoQzRYLEVBQUE1WCxFQUE4RCxLQStCOURvWSxFQUFBLG1CQUFBQSxNQU1BLE1BSlNBLEdBQUFnRCxhQUFQLFdBQ0UsTUFBT0EsTUFuQlhoRCxFQUFBM1IsR0FBQ2lCLEVBQUE2QyxVQUNDQyxTQUFXTixFQUFBTyxjQUNYQyxjQUNFeEYsRUFBQWlTLGlCQUNBQyxFQUFBQyxnQkFDQU8sRUFBQWhQLGdCQUNBZ1AsRUFBQTdOLFdBQ0E2TixFQUFBalEsa0JBRUYyQyxVQUFXOFEsSUFDWGtCLGlCQUNFcFgsRUFBQWlTLGlCQUNBUyxFQUFBaFAsZ0JBQ0FnUCxFQUFBN04sY25EMnRGS3ZDLEVBQVcseUJBQ1o0USxLbUR6dEZLclksR0FBQXFZLGVBQWNBLEduRGl1RnJCa0csSUFDQSxTQUFTeGUsRUFBUUMsRUFBU0MsR0FFL0IsWW9EcHZGRCxTQUFBdWUsR0FBZ0NDLEdBQzlCLE1BQUtBLElBQ0csUUFBUyxTQUFVLFdBQ3hCN04sT0FBTyxTQUFDOE4sRUFBSzdYLEdBRVosTUFEd0Isa0JBQWI2WCxHQUFJN1gsS0FBcUI2WCxFQUFJN1gsR0FBWThYLEdBQzdDRCxHQUNORCxHQUxzQkcsRXBEb3ZGNUIsR0FBSWxZLEdBQWNoQyxNQUFRQSxLQUFLZ0MsWUFBZSxTQUFVQyxFQUFZQyxFQUFRQyxFQUFLQyxHQUM3RSxHQUEySEMsR0FBdkhDLEVBQUlDLFVBQVVDLE9BQVFDLEVBQUlILEVBQUksRUFBSUosRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU81QyxPQUFPa0QseUJBQXlCUixFQUFRQyxHQUFPQyxDQUNySCxJQUF1QixnQkFBWk8sVUFBb0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkgsRUFBSUUsUUFBUUMsU0FBU1gsRUFBWUMsRUFBUUMsRUFBS0MsT0FDcEgsS0FBSyxHQUFJUyxHQUFJWixFQUFXTyxPQUFTLEVBQUdLLEdBQUssRUFBR0EsS0FBU1IsRUFBSUosRUFBV1ksTUFBSUosR0FBS0gsRUFBSSxFQUFJRCxFQUFFSSxHQUFLSCxFQUFJLEVBQUlELEVBQUVILEVBQVFDLEVBQUtNLEdBQUtKLEVBQUVILEVBQVFDLEtBQVNNLEVBQ2hKLE9BQU9ILEdBQUksR0FBS0csR0FBS2pELE9BQU9zRCxlQUFlWixFQUFRQyxFQUFLTSxHQUFJQSxHQUU1RE0sRUFBYy9DLE1BQVFBLEtBQUsrQyxZQUFlLFNBQVVwRCxFQUFHWCxHQUN2RCxHQUF1QixnQkFBWjJELFVBQW9ELGtCQUFyQkEsU0FBUUssU0FBeUIsTUFBT0wsU0FBUUssU0FBU3JELEVBQUdYLElBRXRHbWIsRUFBV25hLE1BQVFBLEtBQUttYSxTQUFZLFNBQVVDLEVBQVlDLEdBQzFELE1BQU8sVUFBVW5ZLEVBQVFDLEdBQU9rWSxFQUFVblksRUFBUUMsRUFBS2lZLEtvRDl4RjVEblgsRUFBQTFILEVBT08sR0FFUDZCLEVBQUE3QixFQUtPLEtBRVArZSxFQUFBL2UsRUFBK0IsS0FDL0IyQixFQUFBM0IsRUFBMEIsS0FHcEIyZCxFQUFTLEdBQUlvQixHQUFBckIsZUFDYmdCLEVBQXlCLFdBQzdCLEtBQU0sSUFBSTNQLE9BQU0seUJBR1o0UCxHQUNKbEksTUFBT2lJLEVBQ1A5SCxPQUFROEgsRUFDUjVILFFBQVM0SCxHQWFYcmMsRUFBQSxXQVVFLFFBQUFBLEdBQW9CMmMsRUFDQUMsRUFDSUMsR0FGSnphLEtBQUF1YSxpQkFDQXZhLEtBQUF3YSxZQUVsQnhhLEtBQUt5YSxRQUFVWCxFQUF1QlcsR0FvRjFDLE1BakZFN2MsR0FBQXlGLFVBQUEyTyxNQUFBLFdBQ0UsTUFBT2hTLE1BQUt5YSxRQUFRekksTUFBV2hTLE9BR2pDcEMsRUFBQXlGLFVBQUE4TyxPQUFBLFdBQ0UsTUFBT25TLE1BQUt5YSxRQUFRdEksT0FBWW5TLE9BR2xDcEMsRUFBQXlGLFVBQUFnUCxRQUFBLFdBQ0UsTUFBT3JTLE1BQUt5YSxRQUFRcEksUUFBYXJTLE9BaUI1QnBDLEVBQUF5RixVQUFBbVAsS0FBUCxTQUFZa0ksRUFDQW5XLEVBQ0FNLEVBQ0FnRixFQUNBOFEsR0FHVixHQU5VLFNBQUFwVyxNQUFBcUQsUUFDQSxTQUFBL0MsTUFBQStDLFFBQ0EsU0FBQWlDLE1BQUFqQyxRQUVWK1MsRUFBb0IvUyxTQUFYK1MsSUFBeUI5USxJQUFrQjhRLEdBRS9DOVEsRUFBZSxDQUNsQixJQUFLN0osS0FBSzBXLHFCQUNSLEtBQU0sSUFBSXBNLE9BQU0sZ0NBRWxCVCxHQUFnQjdKLEtBQUswVyxxQkFHbkJuUyxHQUNGQSxFQUFRbUosV0FHVixJQUFJdEosR0FBUyxHQUFJbEgsR0FBQUMsVUFBVW9ILE1BQzNCSCxHQUFPbUssVUFBWW9NLENBRW5CLElBQUlDLEdBQWdCLEdBQUl4ZCxHQUFBSyxtQkFBbUJpZCxFQUFlN1YsT0FHdER3QixFQUFJcEQsRUFBQStHLG1CQUFtQjVKLFVBQ3hCaVgsUUFBU3paLEVBQU8yWixTQUFVdlgsT0FDMUJxWCxRQUFTamEsRUFBQU0sY0FBZTZaLFNBQVV2WCxLQUFLdWEsaUJBQ3ZDbEQsUUFBU25hLEVBQUFDLFVBQVdvYSxTQUFVblQsSUFDOUJpVCxRQUFTamEsRUFBQUssbUJBQW9COFosU0FBVXFELElBTzFDLE9BSkE1YSxNQUFLdWEsZUFBZXpJLE9BQU85UixLQUFLd2EsVUFBVzNRLEVBQWV4RCxFQUFHakMsR0FDN0Q4VSxFQUFPRyxZQUFZalYsR0FDbkJBLEVBQU9xSSxVQUFVK0IsVUFBVyxXQUFNLE1BQUEwSyxHQUFPdkssT0FBT3ZLLEtBRXpDMUksUUFBUTBFLFFBQVFnRSxJQVN6QnhHLEVBQUF5RixVQUFBOE0sVUFBQSxTQUFVZ0osR0FDUixNQUFPRCxHQUFPamEsUUFBUWthLEtBQWVELEVBQU8xVyxPQUFTLEdBR3ZENUUsRUFBQXlGLFVBQUF3WCxjQUFBLFNBQWMxQixHQUNaLE1BQU9ELEdBQU9qYSxRQUFRa2EsSUFHeEIzWixPQUFBc0QsZUFBSWxGLEVBQUF5RixVQUFBLGVwRHN2RkcwRCxJb0R0dkZQLFdBQ0UsTUFBT21TLEdBQU8xVyxRcER3dkZUeUUsWUFBWSxFQUNaQyxjQUFjLElvRHoxRnZCdEosRUFBQW9FLEdBQUNpQixFQUFBMEssYXBENjFGUXdNLEVBQVEsRW9EaDFGRmxYLEVBQUE2WCxZcERpMUZOL1gsRUFBVyxxQkFBaUgsbUJBQWxGa0MsRUFBdUMsbUJBQTNCN0gsR0FBU00sZUFBaUNOLEVBQVNNLGdCQUFpQ3VILEdBQU96RixPQUFxSCxtQkFBcEcwRixFQUFnRCxtQkFBcEM5SCxHQUFTRyx3QkFBMENILEVBQVNHLHlCQUEwQzJILEdBQU8xRixPQUE2RyxtQkFBNUYyRixFQUE0QyxtQkFBaEMvSCxHQUFTRSxvQkFBc0NGLEVBQVNFLHFCQUFzQzZILEdBQU8zRixVQUM5WjVCLEVBRUgsSUFBSXFILEdBQUlDLEVBQUlDLElvRGgyRko3SixHQUFBc0MsTUFBS0EsR3BEdTJGWm1kLElBQ0EsU0FBUzFmLEVBQVFDLEVBQVNDLEdBSS9CLFlxRGg0RkQsU0FBQXlmLEdBQXlDaEcsRUFBc0JpRyxHQUMzRCxNQUFPLFVBQUM1SyxHQUNKLEdBQUk2SyxHQUFVN0ssRUFBTW5PLE1BQ3BCLEdBQ0ksSUFBSWdaLElBQVlsRyxFQUNaLGFBRUNrRyxFQUFRQyxhQUFnQkQsRUFBVUEsRUFBUUMsWUFFbkRGLEdBQVE1SyxJckR3M0ZmLEdBQUlyTyxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJcUQxNUYzR2lFLEVBQUExSCxFQUEyQixHQUUzQnVCLEVBQUF2QixFQUFxQixLQUVmNmYsR0FDRkMsYUFBYyxRQUNkQyxpQkFBa0IsWUFDbEJDLGVBQWdCLFVBQ2hCQyxpQkFBa0IsYUF3QnRCcFMsRUFBQSxXQUdJLFFBQUFBLEtBRVMvTSxVQUFpRCxrQkFBOUJBLFVBQVNDLG1CQUM3QjBELEtBQUsxRCxpQkFBbUJRLEVBQUErQyxNQThDcEMsTUExQ0l1SixHQUFBL0YsVUFBQW9ZLFNBQUEsU0FBU0MsR0FDTCxNQUFPTixHQUFTemUsZUFBZStlLElBR25DdFMsRUFBQS9GLFVBQUEvRyxpQkFBQSxTQUFpQjBZLEVBQXNCMEcsRUFBbUJULEdBQ3RELEdBQU1VLEdBQU8zYixLQUFLNGIsUUFBUUMsVUFPcEJDLEVBQWdCLFdBQ2xCLEdBQU1DLEdBQ0pmLEVBQWdDaEcsRUFBUyxTQUFBZ0gsR0FBTyxNQUFBTCxHQUFLTSxXQUFXLFdBQU0sTUFBQWhCLEdBQVFlLE1BSWhGLE9BREEzZixVQUFTQyxpQkFBaUI4ZSxFQUFTTSxHQUFZSyxHQUFVLEdBQ2xELFdBQU0sTUFBQTFmLFVBQVM2ZixvQkFBb0JkLEVBQVNNLEdBQVlLLEdBQVUsSUFjN0UsT0FBT0osR0FBS1Esa0JBQWtCLFdBQzFCLEdBQUk5TyxFQUVKLE9BREE1SSxZQUFXLFdBQU0sTUFBQTRJLEdBQUt5TyxLQUFpQixHQUNoQyxXQUFNLE1BQUF6TyxTQUlyQmpFLEVBQUEvRixVQUFBK1ksdUJBQUEsU0FBdUJsYSxFQUFnQndaLEVBQW1CVCxHQUN0RCxLQUFNLGlCQW5EZDdSLEVBQUFwSCxHQUFDaUIsRUFBQTBLLGFyRG84RlE1SyxFQUFXLHlCQUNacUcsS3FEcDhGSzlOLEdBQUE4TixzQkFBcUJBLEdyRDQ4RjVCaVQsSUFDQSxTQUFTaGhCLEVBQVFDLEVBQVNDLEdBRS9CLFlBQ0EsSUFBSXlHLEdBQWNoQyxNQUFRQSxLQUFLZ0MsWUFBZSxTQUFVQyxFQUFZQyxFQUFRQyxFQUFLQyxHQUM3RSxHQUEySEMsR0FBdkhDLEVBQUlDLFVBQVVDLE9BQVFDLEVBQUlILEVBQUksRUFBSUosRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU81QyxPQUFPa0QseUJBQXlCUixFQUFRQyxHQUFPQyxDQUNySCxJQUF1QixnQkFBWk8sVUFBb0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkgsRUFBSUUsUUFBUUMsU0FBU1gsRUFBWUMsRUFBUUMsRUFBS0MsT0FDcEgsS0FBSyxHQUFJUyxHQUFJWixFQUFXTyxPQUFTLEVBQUdLLEdBQUssRUFBR0EsS0FBU1IsRUFBSUosRUFBV1ksTUFBSUosR0FBS0gsRUFBSSxFQUFJRCxFQUFFSSxHQUFLSCxFQUFJLEVBQUlELEVBQUVILEVBQVFDLEVBQUtNLEdBQUtKLEVBQUVILEVBQVFDLEtBQVNNLEVBQ2hKLE9BQU9ILEdBQUksR0FBS0csR0FBS2pELE9BQU9zRCxlQUFlWixFQUFRQyxFQUFLTSxHQUFJQSxHQUU1RE0sRUFBYy9DLE1BQVFBLEtBQUsrQyxZQUFlLFNBQVVwRCxFQUFHWCxHQUN2RCxHQUF1QixnQkFBWjJELFVBQW9ELGtCQUFyQkEsU0FBUUssU0FBeUIsTUFBT0wsU0FBUUssU0FBU3JELEVBQUdYLElzRDEvRjNHaUUsRUFBQTFILEVBQThCLEdBQzlCa0ssRUFBQWxLLEVBQXVELElBRXZEc2QsRUFBQXRkLEVBQThCLElBQzlCNkYsRUFBQTdGLEVBQTRCLEdBRTVCK2dCLEVBQUEvZ0IsRUFBNkIsS0FDN0JnaEIsRUFBQWhoQixFQUFvQyxLQUNwQ2loQixFQUFBamhCLEVBQThCLEtBQzlCa2hCLEVBQUFsaEIsRUFBbUMsS0FFbkNtaEIsRUFBQW5oQixFQUFxQixLQUNyQm9oQixFQUFBcGhCLEVBQXFCLEtBQ3JCcWhCLEVBQUFyaEIsRUFBd0IsS0FDeEJvQyxFQUFBcEMsRUFBaUMsS0FtQmpDUyxFQUFBLG1CQUFBQSxNQUF5QixNQWpCekJBLEdBQUFnRyxHQUFDaUIsRUFBQTZDLFVBQ0NDLFNBQ0U4UyxFQUFBZ0UsY0FDQUQsRUFBQUUsUUFDQVIsRUFBQTVXLGFBQWFDLFVBQ2J2RSxFQUFBN0MsWUFBWW9ILFVBQ1o0VyxFQUFBUSxvQkFDQVAsRUFBQVEsY0FDQVAsRUFBQVEsbUJBQ0F0ZixFQUFBd1osa0JBRUZsUixjQUFnQnlXLEVBQUFRLElBQUtQLEVBQUE5RixNQUNyQnNHLFdBQWdCVCxFQUFBUSxLQUNoQnJYLFlBQ0l3UixRQUFTNVIsRUFBQTJYLGlCQUFrQjlGLFNBQVU3UixFQUFBNFgseUJ0RCsvRmxDdGEsRUFBVyx5QkFDWi9HLEtzRDcvRktWLEdBQUFVLFVBQVNBLEd0RHFnR2hCc2hCLElBQ0EsU0FBU2ppQixFQUFRQyxFQUFTQyxHQUUvQixZdUR4aUdELElBQUFnaUIsR0FBQWhpQixFQUFxQyxLQUVyQ29oQixFQUFBcGhCLEVBQXFCLElBRVJELEdBQUFraUIsU0FDVEMsS0FBTSxPQUFRaFgsVUFBV2tXLEVBQUE5RixPQUN6QjRHLEtBQU0sR0FBSUMsV0FBWSxPQUFRQyxVQUFVLElBRy9CcmlCLEVBQUF3aEIsUUFBK0JTLEVBQUFLLGFBQWFqWSxRQUFRckssRUFBQWtpQixTdkQyaUczREssSUFDQSxTQUFTeGlCLEVBQVFDLEVBQVNDLEdBRS9CLFlBQ0EsSUFBSXlHLEdBQWNoQyxNQUFRQSxLQUFLZ0MsWUFBZSxTQUFVQyxFQUFZQyxFQUFRQyxFQUFLQyxHQUM3RSxHQUEySEMsR0FBdkhDLEVBQUlDLFVBQVVDLE9BQVFDLEVBQUlILEVBQUksRUFBSUosRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU81QyxPQUFPa0QseUJBQXlCUixFQUFRQyxHQUFPQyxDQUNySCxJQUF1QixnQkFBWk8sVUFBb0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkgsRUFBSUUsUUFBUUMsU0FBU1gsRUFBWUMsRUFBUUMsRUFBS0MsT0FDcEgsS0FBSyxHQUFJUyxHQUFJWixFQUFXTyxPQUFTLEVBQUdLLEdBQUssRUFBR0EsS0FBU1IsRUFBSUosRUFBV1ksTUFBSUosR0FBS0gsRUFBSSxFQUFJRCxFQUFFSSxHQUFLSCxFQUFJLEVBQUlELEVBQUVILEVBQVFDLEVBQUtNLEdBQUtKLEVBQUVILEVBQVFDLEtBQVNNLEVBQ2hKLE9BQU9ILEdBQUksR0FBS0csR0FBS2pELE9BQU9zRCxlQUFlWixFQUFRQyxFQUFLTSxHQUFJQSxHQUU1RE0sRUFBYy9DLE1BQVFBLEtBQUsrQyxZQUFlLFNBQVVwRCxFQUFHWCxHQUN2RCxHQUF1QixnQkFBWjJELFVBQW9ELGtCQUFyQkEsU0FBUUssU0FBeUIsTUFBT0wsU0FBUUssU0FBU3JELEVBQUdYLEl3RGhrRzNHaUUsRUFBQTFILEVBQTZDLEdBZTdDMmhCLEVBQUEsV0FDRSxRQUFBQSxNQUVGLE1BWEFBLEdBQUFsYixHQUFDaUIsRUFBQVksV0FDQ0MsU0FBVSxNQUNWQyxjQUFlZCxFQUFBZSxrQkFBa0JDLEtBQ2pDOFAsV0FDRSxvQkFFRmdDLFlBQWEsc0J4RHNrR05oVCxFQUFXLHlCQUNabWEsS3dEcmtHSzVoQixHQUFBNGhCLElBQUdBLEd4RDZrR1ZZLElBQ0EsU0FBU3ppQixFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUl5RyxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJeUR2bUczR2lFLEVBQUExSCxFQUF5QixHQUV6QmtLLEVBQUFsSyxFQUE2QixJQUM3QjZaLEVBQUE3WixFQUFxQyxLQUNyQytnQixFQUFBL2dCLEVBQTZCLEtBRzdCd2lCLEVBQUF4aUIsRUFBd0IsS0FDeEJ5aUIsRUFBQXppQixFQUE4QixLQUM5QjBpQixFQUFBMWlCLEVBQWtDLEtBQ2xDOFosRUFBQTlaLEVBQXdDLEtBV3hDd2hCLEVBQUEsbUJBQUFBLE1BQW1DLE1BVG5DQSxHQUFBL2EsR0FBQ2lCLEVBQUE2QyxVQUNDQyxTQUFXTixFQUFBTyxhQUFjb1AsRUFBQXRULHFCQUFzQmljLEVBQUFqQixRQUFTUixFQUFBNVcsY0FDeERPLGNBQ0UrWCxFQUFBdkgsY0FDQXdILEVBQUExSSxrQkFDQUYsRUFBQVEseUJBRUZnQyxpQkFBbUJ4QyxFQUFBUSwyQnpEMm1HWjlTLEVBQVcseUJBQ1pnYSxLeUQxbUdLemhCLEdBQUF5aEIsb0JBQW1CQSxHekRrbkcxQm1CLElBQ0EsU0FBUzdpQixFQUFRQyxFQUFTQyxHQUUvQixZMER6b0dELElBQUFnaUIsR0FBQWhpQixFQUE2QixLQUU3QnlpQixFQUFBemlCLEVBQThCLEtBQzlCMGlCLEVBQUExaUIsRUFBa0MsSUFHckJELEdBQUF3aEIsUUFBK0JTLEVBQUFLLGFBQWFPLFdBQ3JEVixLQUFNLGlCQUFrQmhYLFVBQVd1WCxFQUFBdkgsY0FBZTJILFdBQzlDWCxLQUFNLEdBQUloWCxVQUFXd1gsRUFBQTFJLGtCQUFtQm9JLFVBQVUsUTFEK29HcERVLElBQ0EsU0FBU2hqQixFQUFRQyxHQUV0QixZMkRwcEdELFNBQUEwVyxHQUFzQlgsR0FDbEIsTUFBT0EsR0FBTVcsUUFDUnNNLEtBQUssTUFDTHJOLFdBQVUsR0FDVjZGLE1BQU0scUNBQ04xSSxLQUFLLHNhQWFkLFFBQUErRCxHQUF1QmQsR0FDbkIsTUFBT0EsR0FBTWMsU0FDUm1NLEtBQUssTUFDTHhILE1BQU0sc0NBQ04xSSxLQUFLLDJYQVlkLFFBQUFpRSxHQUF3QmhCLEdBQ3BCLE1BQU9BLEdBQU1nQixVQUNSaU0sS0FBSyxNQUNMdFgsVUFBVSw0TEFJVm9ILEtBQUs7Q0FZZCxRQUFBc0gsR0FBMEJyRSxHQUN0QixHQUFJaUUsS0FZSixPQVZBQSxHQUFRak4sS0FBSzJKLEVBQU1YLElBQ25CaUUsRUFBUWpOLEtBQUs4SixFQUFPZCxJQUNwQmlFLEVBQVFqTixLQUFLZ0ssRUFBUWhCLElBQ3JCaUUsRUFBUWpOLEtBQ0pnSixFQUFNYyxTQUNEbU0sS0FBSyxNQUNMeEgsTUFBTSxxQkFDTjFJLEtBQUssMEJBSVZvRSxLQUFNLFdBRUYsSUFEQSxHQUFJK0wsR0FBTWpKLEVBQVFrSixRQUFRaE0sT0FDbkI4QyxFQUFROVMsT0FBUyxHQUFHOFMsRUFBUWtKLFFBQVFoTSxNQUMzQyxPQUFPK0wsS0FLbkIsUUFBQWhRLEdBQTBCOEMsR0FDdEIsTUFBT0EsR0FBTWMsU0FDUm1NLEtBQUssTUFDTHhILE1BQU0sbUNBQ04xSSxLQUFLLGdDQS9FRTlTLEVBQUEwVyxNQUFLQSxFQWtCTDFXLEVBQUE2VyxPQUFNQSxFQWdCTjdXLEVBQUErVyxRQUFPQSxFQW1CUC9XLEVBQUFvYSxVQUFTQSxFQXNCVHBhLEVBQUFpVCxVQUFTQSxHM0Q4bkduQmtRLElBQ0EsU0FBU3BqQixFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUl5RyxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJNEQzdEczR2lFLEVBQUExSCxFQVFPLEdBOEJQMkssRUFBQSxtQkFBQUEsS0FNWWxHLEtBQUEwZSxZQUE4QyxHQUFJemIsR0FBQUcsYUFtQjlELE1BZkU4QyxHQUFBN0MsVUFBQUMsUUFBQSxTQUFRK00sRUFBYzlNLEdBQ3BCdkQsS0FBSzBlLFlBQVloYixNQUNmMk0sUUFDQXNPLE9BQVFwYixJQUVWdkQsS0FBSzRlLGNBQWNyYixFQUFJa1MsWUFHakJ2UCxFQUFBN0MsVUFBQXViLGNBQVIsU0FBc0J4YSxHQUF0QixHQUFBckUsR0FBQUMsSUFDRW9FLEdBQU80SSxLQUFLLFNBQUM2UixHQUNYLE1BQU9BLEdBQWNqUyxPQUFPSSxLQUFLLFNBQUNKLEdBQ2hDN00sRUFBSzZNLE9BQVNBLEdBQ2IsV0FBTSxNQUFBN00sR0FBSzZNLE9BQVMsaUJBcEIzQjVLLEdBQUNpQixFQUFBVSxRNUQyc0dNWixFQUFXLGNBQWVvTyxTQUMzQmpMLEVBQVM3QyxVQUFXLFFBQVMsUTREM3NHbkNyQixHQUFDaUIsRUFBQVUsUTVEOHNHTVosRUFBVyxjQUFlb08sU0FDM0JqTCxFQUFTN0MsVUFBVyxjQUFlLFE0RDlzR3pDckIsR0FBQ2lCLEVBQUFVLFE1RGl0R01aLEVBQVcsY0FBZTNELFFBQzNCOEcsRUFBUzdDLFVBQVcsZ0JBQWlCLFE0RGh0RzNDckIsR0FBQ2lCLEVBQUFXLFM1RG10R01iLEVBQVcsY0FBb0csbUJBQTVFa0MsRUFBb0MsbUJBQXhCaEMsR0FBT0csY0FBZ0NILEVBQU9HLGVBQWdDNkIsR0FBT3pGLFNBQ3JJMEcsRUFBUzdDLFVBQVcsY0FBZSxRNERudEd6Q3JCLEdBQUNpQixFQUFBNkIsVUFBVSxZQUFhQyxLQUFNOUIsRUFBQStCLG1CNURzdEd2QmpDLEVBQVcsY0FBNEcsbUJBQXBGbUMsRUFBd0MsbUJBQTVCakMsR0FBTytCLGtCQUFvQy9CLEVBQU8rQixtQkFBb0NFLEdBQU8xRixTQUM3STBHLEVBQVM3QyxVQUFXLGFBQWMsUTREL3VHMUM2QyxFQUFBbEUsR0FBQ2lCLEVBQUFZLFdBQ0NDLFNBQVUsWUFDVnlTLFFBQ0UseVBBV0ZSLFlBQWEsb0NBQ2JoUyxjQUFlZCxFQUFBZSxrQkFBa0I4YSxXNUQwdUcxQi9iLEVBQVcseUJBQ1ptRCxFQUVILElBQUlqQixHQUFJQyxJNEQzdUdBNUosR0FBQTRLLFNBQVFBLEc1RGt2R2Y2WSxJQUNBLFNBQVMxakIsRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxJQUFJeUcsR0FBY2hDLE1BQVFBLEtBQUtnQyxZQUFlLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBTzVDLE9BQU9rRCx5QkFBeUJSLEVBQVFDLEdBQU9DLENBQ3JILElBQXVCLGdCQUFaTyxVQUFvRCxrQkFBckJBLFNBQVFDLFNBQXlCSCxFQUFJRSxRQUFRQyxTQUFTWCxFQUFZQyxFQUFRQyxFQUFLQyxPQUNwSCxLQUFLLEdBQUlTLEdBQUlaLEVBQVdPLE9BQVMsRUFBR0ssR0FBSyxFQUFHQSxLQUFTUixFQUFJSixFQUFXWSxNQUFJSixHQUFLSCxFQUFJLEVBQUlELEVBQUVJLEdBQUtILEVBQUksRUFBSUQsRUFBRUgsRUFBUUMsRUFBS00sR0FBS0osRUFBRUgsRUFBUUMsS0FBU00sRUFDaEosT0FBT0gsR0FBSSxHQUFLRyxHQUFLakQsT0FBT3NELGVBQWVaLEVBQVFDLEVBQUtNLEdBQUlBLEdBRTVETSxFQUFjL0MsTUFBUUEsS0FBSytDLFlBQWUsU0FBVXBELEVBQUdYLEdBQ3ZELEdBQXVCLGdCQUFaMkQsVUFBb0Qsa0JBQXJCQSxTQUFRSyxTQUF5QixNQUFPTCxTQUFRSyxTQUFTckQsRUFBR1gsSTZEbnlHM0dpRSxFQUFBMUgsRUFBMEIsR0FDMUJrSyxFQUFBbEssRUFBaUMsSUFFakM2RixFQUFBN0YsRUFBMEIsR0FDMUJvRyxFQUFBcEcsRUFBc0IsS0E2RHRCaWMsRUFBQSxXQUVJLFFBQUFBLEdBQ1lwVCxFQUNBMEwsR0FEQTlQLEtBQUFvRSxTQUNBcEUsS0FBQThQLFNBRWhCLE1BL0RBMEgsR0FBQXhWLEdBQUNpQixFQUFBWSxXQUNHQyxTQUFVLGlCQUNWa2IsWUFBY3ZaLEVBQUF3WixrQkFDZDFJLFFBQVMscUlBU1Qsa3RCQWlDQXJTLFNBQ0oscVQ3RGd3R1NuQixFQUFXLHFCQUF5SCxtQkFBMUZrQyxFQUEyQyxtQkFBL0I3RCxHQUFpQmpFLFdBQTZCaUUsRUFBaUJqRSxZQUE2QjhILEdBQU96RixPQUFpRixtQkFBaEUwRixFQUE4QixtQkFBbEJ2RCxHQUFRL0QsT0FBeUIrRCxFQUFRL0QsUUFBeUJzSCxHQUFPMUYsVUFDaFFnWSxFQUVILElBQUl2UyxHQUFJQyxJNkR4dkdBNUosR0FBQWtjLG1CQUFrQkEsRzdEK3ZHekIwSCxJQUNBLFNBQVM3akIsRUFBUUMsRUFBU0MsR0FFL0IsWUFDQSxJQUFJeUcsR0FBY2hDLE1BQVFBLEtBQUtnQyxZQUFlLFNBQVVDLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBTzVDLE9BQU9rRCx5QkFBeUJSLEVBQVFDLEdBQU9DLENBQ3JILElBQXVCLGdCQUFaTyxVQUFvRCxrQkFBckJBLFNBQVFDLFNBQXlCSCxFQUFJRSxRQUFRQyxTQUFTWCxFQUFZQyxFQUFRQyxFQUFLQyxPQUNwSCxLQUFLLEdBQUlTLEdBQUlaLEVBQVdPLE9BQVMsRUFBR0ssR0FBSyxFQUFHQSxLQUFTUixFQUFJSixFQUFXWSxNQUFJSixHQUFLSCxFQUFJLEVBQUlELEVBQUVJLEdBQUtILEVBQUksRUFBSUQsRUFBRUgsRUFBUUMsRUFBS00sR0FBS0osRUFBRUgsRUFBUUMsS0FBU00sRUFDaEosT0FBT0gsR0FBSSxHQUFLRyxHQUFLakQsT0FBT3NELGVBQWVaLEVBQVFDLEVBQUtNLEdBQUlBLEdBRTVETSxFQUFjL0MsTUFBUUEsS0FBSytDLFlBQWUsU0FBVXBELEVBQUdYLEdBQ3ZELEdBQXVCLGdCQUFaMkQsVUFBb0Qsa0JBQXJCQSxTQUFRSyxTQUF5QixNQUFPTCxTQUFRSyxTQUFTckQsRUFBR1gsSThEMzBHM0dpRSxFQUFBMUgsRUFBeUIsR0FFekJrSyxFQUFBbEssRUFBNkIsSUFDN0IrZ0IsRUFBQS9nQixFQUE2QixLQUM3QnljLEVBQUF6YyxFQUFvQyxLQUVwQzRqQixFQUFBNWpCLEVBQXdCLEtBQ3hCNmpCLEVBQUE3akIsRUFBNkIsS0FNN0IwaEIsRUFBQSxtQkFBQUEsTUFBa0MsTUFKbENBLEdBQUFqYixHQUFDaUIsRUFBQTZDLFVBQ0NDLFNBQVdOLEVBQUFPLGFBQWNnUyxFQUFBalAsb0JBQXFCb1csRUFBQXJDLFFBQVNSLEVBQUE1VyxjQUN2RE8sY0FBZ0JtWixFQUFBbkgsZ0I5RGcxR1RsVixFQUFXLHlCQUNaa2EsSzhELzBHSzNoQixHQUFBMmhCLG1CQUFrQkEsRzlEdTFHekJvQyxJQUNBLFNBQVNoa0IsRUFBUUMsRUFBU0MsR0FFL0IsWStEdDJHRCxJQUFBZ2lCLEdBQUFoaUIsRUFBNkIsS0FFN0I2akIsRUFBQTdqQixFQUE2QixJQUVoQkQsR0FBQXdoQixRQUErQlMsRUFBQUssYUFBYU8sV0FDckRWLEtBQU0saUJBQWtCaFgsVUFBVzJZLEVBQUFuSCxpQi9EMjJHakNxSCxJQUNBLFNBQVNqa0IsRUFBUUMsRUFBU0MsR0FFL0IsWWdFejJHRCxTQUFBeVcsR0FBc0JYLEdBQ2xCLE1BQU9BLEdBQU1XLFFBQVFFLFFBQVEsMkJBR2pDLFFBQUFDLEdBQXVCZCxHQUNuQixNQUFPQSxHQUFNYyxTQUNSRCxRQUFRLDRCQUNSRSxjQUFjLDJCQUd2QixRQUFBQyxHQUF3QmhCLEdBQ3BCLE1BQU9BLEdBQU1nQixVQUFVSCxRQUFRLGNBaEJuQyxHQUFBOEYsR0FBQXpjLEVBR08sSUFGSEQsR0FBQWlOLGNBQUF5UCxFQUFBelAsY0FDQWpOLEVBQUF1TixzQkFBQW1QLEVBQUFuUCxzQkFHWXZOLEVBQUEwVyxNQUFLQSxFQUlMMVcsRUFBQTZXLE9BQU1BLEVBTU43VyxFQUFBK1csUUFBT0EsR2hFcTNHakJrTixJQUNBLFNBQVNsa0IsRUFBUUMsR0FFdEIsWWlFdjRHRCxTQUFBMFcsR0FBc0JYLEdBQ2xCLE1BQU9BLEdBQU1XLFFBQ1I2QixVQUFVN1QsS0FBS3lZLE9BQ2Z2RyxRQUFRLHFCQUNSc04saUJBQWdCLEdBR3pCLFFBQUFyTixHQUF1QmQsR0FDbkIsTUFBT0EsR0FBTWMsU0FDUjBCLFVBQVU3VCxLQUFLeVksT0FDZnZHLFFBQVEsd0JBQ1J1TixZQUFZLHlCQUdyQixRQUFBcE4sR0FBd0JoQixHQUNwQixNQUFPQSxHQUFNZ0IsVUFDUndCLFVBQVU3VCxLQUFLeVksT0FDZnZHLFFBQVEsY0FDUlosTUFBTSxPQUNOSyxVQUFVLE1BR25CLFFBQUErRyxHQUEwQnJILEdBQ3RCLE1BQU9BLEdBQU1XLFFBQ1I2QixVQUFVN1QsS0FBS3lZLE9BQ2YrRyxpQkFBZ0IsR0FDaEJoUyxZQUFXLEdBQ1gwRSxRQUFRLHVDQUNSWixNQUFNLE1BQ05LLFVBQVUsTUFJbkIsUUFBQWdILEdBQThCdEgsR0FDMUIsTUFBT0EsR0FBTVcsUUFDUjZCLFVBQVU3VCxLQUFLeVksT0FDZitHLGlCQUFnQixHQUNoQmhTLFlBQVcsR0FDWDBFLFFBQVEsOENBQ1JaLE1BQU0sTUFDTkssVUFBVSxNQUNWM0osVUFBVSxjQUFlLGNBQ3RCLFNBQUN5SixFQUFzQmpPLEdBQXVCLE1BQUFpTyxHQUFJck4sT0FBT3VJLE1BQU0sYUFDbEUzRSxVQUFVLGNBQWUsY0FDdEIsU0FBQ3lKLEVBQXNCak8sR0FBdUIsTUFBQWlPLEdBQUlyTixPQUFPdUksTUFBTSxhQUNsRTNFLFVBQVUsY0FBZSxjQUNsQixTQUFDeUosRUFBc0JqTyxHQUF1QixNQUFBaU8sR0FBSXJOLE9BQU91SSxNQUFNLGFBSS9FLFFBQUErSSxHQUEwQnJFLEdBQ3RCLEdBQUlpRSxLQVdKLE9BVEFBLEdBQVFqTixLQUFLMkosRUFBTW5LLEtBQUs3SCxLQUFNcVIsSUFDOUJpRSxFQUFRak4sS0FBSzhKLEVBQU90SyxLQUFLN0gsS0FBTXFSLElBQy9CaUUsRUFBUWpOLEtBQUtnSyxFQUFReEssS0FBSzdILEtBQU1xUixJQUNoQ2lFLEVBQVFqTixLQUNKZ0osRUFBTVcsUUFDRDZCLFVBQVU3VCxLQUFLeVksT0FDZnZHLFFBQVEsNENBSWJNLEtBQU0sV0FFRixJQURBLEdBQUkrTCxHQUFNakosRUFBUWtKLFFBQVFoTSxPQUNuQjhDLEVBQVE5UyxPQUFTLEdBQUc4UyxFQUFRa0osUUFBUWhNLE1BQzNDLE9BQU8rTCxLQWxFSGpqQixFQUFBMFcsTUFBS0EsRUFPTDFXLEVBQUE2VyxPQUFNQSxFQU9ON1csRUFBQStXLFFBQU9BLEVBUVAvVyxFQUFBb2QsVUFBU0EsRUFXVHBkLEVBQUFxZCxjQUFhQSxFQWlCYnJkLEVBQUFvYSxVQUFTQSxHakV5NUduQmdLLElBQ0EsU0FBU3JrQixFQUFRQyxFQUFTQyxHQUUvQixZQUNBLElBQUl5RyxHQUFjaEMsTUFBUUEsS0FBS2dDLFlBQWUsU0FBVUMsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsR0FBMkhDLEdBQXZIQyxFQUFJQyxVQUFVQyxPQUFRQyxFQUFJSCxFQUFJLEVBQUlKLEVBQWtCLE9BQVRFLEVBQWdCQSxFQUFPNUMsT0FBT2tELHlCQUF5QlIsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpPLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNYLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVMsR0FBSVosRUFBV08sT0FBUyxFQUFHSyxHQUFLLEVBQUdBLEtBQVNSLEVBQUlKLEVBQVdZLE1BQUlKLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtqRCxPQUFPc0QsZUFBZVosRUFBUUMsRUFBS00sR0FBSUEsR0FFNURNLEVBQWMvQyxNQUFRQSxLQUFLK0MsWUFBZSxTQUFVcEQsRUFBR1gsR0FDdkQsR0FBdUIsZ0JBQVoyRCxVQUFvRCxrQkFBckJBLFNBQVFLLFNBQXlCLE1BQU9MLFNBQVFLLFNBQVNyRCxFQUFHWCxJa0U1OUczR2lFLEVBQUExSCxFQUF5QixHQUV6QmtLLEVBQUFsSyxFQUE2QixJQUM3Qm9rQixFQUFBcGtCLEVBQTRCLEtBQzVCK2MsRUFBQS9jLEVBQStCLEtBQy9CK2dCLEVBQUEvZ0IsRUFBNkIsS0FFN0Jxa0IsRUFBQXJrQixFQUF3QixLQUN4QnNrQixFQUFBdGtCLEVBQXdCLEtBQ3hCZ2QsRUFBQWhkLEVBQTRCLEtBTzVCeWhCLEVBQUEsbUJBQUFBLE1BQTZCLE1BTDdCQSxHQUFBaGIsR0FBQ2lCLEVBQUE2QyxVQUNDQyxTQUFXNFosRUFBQUcsWUFBYXJhLEVBQUFPLGFBQWNzUyxFQUFBM0UsZUFBZ0JpTSxFQUFBOUMsUUFBU1IsRUFBQTVXLGNBQy9ETyxjQUFnQjRaLEVBQUFySCxRQUFTRCxFQUFBSCxhQUN6QlAsaUJBQW1CVSxFQUFBSCxlbEVpK0daclYsRUFBVyx5QkFDWmlhLEtrRWgrR0sxaEIsR0FBQTBoQixjQUFhQSxHbEV3K0dwQitDLElBQ0EsU0FBUzFrQixFQUFRQyxFQUFTQyxHQUUvQixZbUUxL0dELElBQUFnaUIsR0FBQWhpQixFQUE2QixLQUU3QnNrQixFQUFBdGtCLEVBQXdCLElBRVhELEdBQUF3aEIsUUFBK0JTLEVBQUFLLGFBQWFPLFdBQ3JEVixLQUFNLFdBQVloWCxVQUFXb1osRUFBQXJIIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIndlYnBhY2tKc29ucChbMl0se1xuXG4vKioqLyAwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBwbGF0Zm9ybV9icm93c2VyX2R5bmFtaWNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzYzKTtcblx0Ly8gVGhlIGFwcCBtb2R1bGVcblx0dmFyIGFwcF9tb2R1bGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTY1KTtcblx0dmFyIF9ib290c3RyYXBwZWQgPSBmYWxzZTtcblx0ZnVuY3Rpb24gbWFpbigpIHtcblx0ICAgIGlmIChfYm9vdHN0cmFwcGVkKSB7XG5cdCAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG51bGwpO1xuXHQgICAgfVxuXHQgICAgZWxzZSB7XG5cdCAgICAgICAgX2Jvb3RzdHJhcHBlZCA9IHRydWU7XG5cdCAgICAgICAgcmV0dXJuIHBsYXRmb3JtX2Jyb3dzZXJfZHluYW1pY18xLnBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoYXBwX21vZHVsZV8xLkFwcE1vZHVsZSlcblx0ICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTsgfSk7XG5cdCAgICB9XG5cdH1cblx0ZXhwb3J0cy5tYWluID0gbWFpbjtcblx0ZnVuY3Rpb24gaXNCb290c3RyYXBwZWQoKSB7XG5cdCAgICByZXR1cm4gX2Jvb3RzdHJhcHBlZDtcblx0fVxuXHRleHBvcnRzLmlzQm9vdHN0cmFwcGVkID0gaXNCb290c3RyYXBwZWQ7XG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluKTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdGZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcblx0ICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcblx0fVxuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDM4MSkpO1xuXHR2YXIgY3JlYXRlQ29tcG9uZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4MCk7XG5cdGV4cG9ydHMuY3JlYXRlQ29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50XzEuY3JlYXRlQ29tcG9uZW50O1xuXHR2YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTE4KTtcblx0ZXhwb3J0cy5leHRlbmQgPSB1dGlsc18xLmV4dGVuZDtcblx0ZXhwb3J0cy5hcnJheVVuaW9uID0gdXRpbHNfMS5hcnJheVVuaW9uO1xuXHRleHBvcnRzLnN1cHBvcnRzS2V5ID0gdXRpbHNfMS5zdXBwb3J0c0tleTtcblx0dmFyIGRpYWxvZ19yZWZfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgyKTtcblx0ZXhwb3J0cy5EaWFsb2dSZWYgPSBkaWFsb2dfcmVmXzEuRGlhbG9nUmVmO1xuXHR2YXIgdG9rZW5zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0MCk7XG5cdGV4cG9ydHMuRFJPUF9JTl9UWVBFID0gdG9rZW5zXzEuRFJPUF9JTl9UWVBFO1xuXHRleHBvcnRzLk1vZGFsRHJvcEluRmFjdG9yeSA9IHRva2Vuc18xLk1vZGFsRHJvcEluRmFjdG9yeTtcblx0ZXhwb3J0cy5Nb2RhbEJhY2tkcm9wQ29tcG9uZW50ID0gdG9rZW5zXzEuTW9kYWxCYWNrZHJvcENvbXBvbmVudDtcblx0ZXhwb3J0cy5Nb2RhbENvbXBvbmVudCA9IHRva2Vuc18xLk1vZGFsQ29tcG9uZW50O1xuXHRleHBvcnRzLk1vZGFsQ29tcGlsZUNvbmZpZyA9IHRva2Vuc18xLk1vZGFsQ29tcGlsZUNvbmZpZztcblx0ZXhwb3J0cy5Nb2RhbFJlbmRlcmVyID0gdG9rZW5zXzEuTW9kYWxSZW5kZXJlcjtcblx0dmFyIGluZGV4XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0Nik7XG5cdGV4cG9ydHMuTW9kYWwgPSBpbmRleF8xLk1vZGFsO1xuXHRleHBvcnRzLkRPTU1vZGFsUmVuZGVyZXIgPSBpbmRleF8xLkRPTU1vZGFsUmVuZGVyZXI7XG5cdHZhciBtb2RhbF9jb250ZXh0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4Myk7XG5cdGV4cG9ydHMuREVGQVVMVF9WQUxVRVMgPSBtb2RhbF9jb250ZXh0XzEuREVGQVVMVF9WQUxVRVM7XG5cdGV4cG9ydHMuTW9kYWxDb250ZXh0ID0gbW9kYWxfY29udGV4dF8xLk1vZGFsQ29udGV4dDtcblx0ZXhwb3J0cy5Nb2RhbENvbnRleHRCdWlsZGVyID0gbW9kYWxfY29udGV4dF8xLk1vZGFsQ29udGV4dEJ1aWxkZXI7XG5cdGV4cG9ydHMuTW9kYWxDb250cm9sbGluZ0NvbnRleHRCdWlsZGVyID0gbW9kYWxfY29udGV4dF8xLk1vZGFsQ29udHJvbGxpbmdDb250ZXh0QnVpbGRlcjtcblx0dmFyIG1vZGFsX29wZW5fY29udGV4dF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NTkpO1xuXHRleHBvcnRzLk1vZGFsT3BlbkNvbnRleHQgPSBtb2RhbF9vcGVuX2NvbnRleHRfMS5Nb2RhbE9wZW5Db250ZXh0O1xuXHRleHBvcnRzLk1vZGFsT3BlbkNvbnRleHRCdWlsZGVyID0gbW9kYWxfb3Blbl9jb250ZXh0XzEuTW9kYWxPcGVuQ29udGV4dEJ1aWxkZXI7XG5cdHZhciBhbmd1bGFyMl9tb2RhbF9tb2R1bGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTU3KTtcblx0ZXhwb3J0cy5Nb2RhbE1vZHVsZSA9IGFuZ3VsYXIyX21vZGFsX21vZHVsZV8xLk1vZGFsTW9kdWxlO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDExODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKipcblx0ICogU2ltcGxlIG9iamVjdCBleHRlbmRcblx0ICogQHBhcmFtIG0xXG5cdCAqIEBwYXJhbSBtMlxuXHQgKiBAcmV0dXJucyB7e319XG5cdCAqL1xuXHRmdW5jdGlvbiBleHRlbmQobTEsIG0yKSB7XG5cdCAgICB2YXIgbSA9IHt9O1xuXHQgICAgZm9yICh2YXIgYXR0ciBpbiBtMSkge1xuXHQgICAgICAgIGlmIChtMS5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuXHQgICAgICAgICAgICBtW2F0dHJdID0gbTFbYXR0cl07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZm9yICh2YXIgYXR0ciBpbiBtMikge1xuXHQgICAgICAgIGlmIChtMi5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuXHQgICAgICAgICAgICBtW2F0dHJdID0gbTJbYXR0cl07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIG07XG5cdH1cblx0ZXhwb3J0cy5leHRlbmQgPSBleHRlbmQ7XG5cdC8qKlxuXHQgKiBTaW1wbGUsIG5vdCBvcHRpbWl6ZWQsIGFycmF5IHVuaW9uIG9mIHVuaXF1ZSB2YWx1ZXMuXG5cdCAqIEBwYXJhbSBhcnIxXG5cdCAqIEBwYXJhbSBhcnIyXG5cdCAqIEByZXR1cm5zIHtUW118YW55W118YW55W11bXXxhbnlbXX1cblx0ICovXG5cdGZ1bmN0aW9uIGFycmF5VW5pb24oYXJyMSwgYXJyMikge1xuXHQgICAgcmV0dXJuIGFycjFcblx0ICAgICAgICAuY29uY2F0KGFycjIuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiBhcnIxLmluZGV4T2YodikgPT09IC0xOyB9KSk7XG5cdH1cblx0ZXhwb3J0cy5hcnJheVVuaW9uID0gYXJyYXlVbmlvbjtcblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY29uZmlnIHN1cHBvcnRzIGEgZ2l2ZW4ga2V5LlxuXHQgKiBAcGFyYW0ga2V5XG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0ZnVuY3Rpb24gc3VwcG9ydHNLZXkoa2V5Q29kZSwgY29uZmlnKSB7XG5cdCAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29uZmlnKSlcblx0ICAgICAgICByZXR1cm4gY29uZmlnID09PSBudWxsID8gZmFsc2UgOiB0cnVlO1xuXHQgICAgcmV0dXJuIGNvbmZpZy5pbmRleE9mKGtleUNvZGUpID4gLTE7XG5cdH1cblx0ZXhwb3J0cy5zdXBwb3J0c0tleSA9IHN1cHBvcnRzS2V5O1xuXHQvKipcblx0ICogR2l2ZW4gYW4gb2JqZWN0IHJlcHJlc2VudGluZyBhIGtleS92YWx1ZSBtYXAgb2YgY3NzIHByb3BlcnRpZXMsIHJldHVybnMgYSB2YWxpZCBjc3Mgc3RyaW5nXG5cdCAqIHJlcHJlc2VudGluZyB0aGUgb2JqZWN0LlxuXHQgKiBFeGFtcGxlOlxuXHQgKiBjb25zb2xlLmxvZyh0b1N0eWxlU3RyaW5nKHtcblx0ICogICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHQgKiAgICAgd2lkdGg6ICcxMDAlJyxcblx0ICogICAgIGhlaWdodDogJzEwMCUnLFxuXHQgKiAgICAgdG9wOiAnMCcsXG5cdCAqICAgICBsZWZ0OiAnMCcsXG5cdCAqICAgICByaWdodDogJzAnLFxuXHQgKiAgICAgYm90dG9tOiAnMCdcblx0ICogfSkpO1xuXHQgKiAvLyBwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowXG5cdCAqIEBwYXJhbSBvYmpcblx0ICogQHJldHVybnMge3N0cmluZ31cblx0ICovXG5cdGZ1bmN0aW9uIHRvU3R5bGVTdHJpbmcob2JqKSB7XG5cdCAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKVxuXHQgICAgICAgIC5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIChrICsgXCI6XCIgKyBvYmpba10pOyB9KVxuXHQgICAgICAgIC5qb2luKCc7Jyk7XG5cdCAgICAvLyBsZXQgb2JqU3RyID0gSlNPTi5zdHJpbmdpZnkob2JqKTtcblx0ICAgIC8vIHJldHVybiBvYmpTdHIuc3Vic3RyKDEsIG9ialN0ci5sZW5ndGggLSAyKVxuXHQgICAgLy8gICAgIC5yZXBsYWNlKC8sL2csICc7Jylcblx0ICAgIC8vICAgICAucmVwbGFjZSgvXCIvZywgJycpO1xuXHR9XG5cdGV4cG9ydHMudG9TdHlsZVN0cmluZyA9IHRvU3R5bGVTdHJpbmc7XG5cdHZhciBQcm9taXNlQ29tcGxldGVyID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFByb21pc2VDb21wbGV0ZXIoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcblx0ICAgICAgICAgICAgX3RoaXMucmVzb2x2ZSA9IHJlcztcblx0ICAgICAgICAgICAgX3RoaXMucmVqZWN0ID0gcmVqO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIFByb21pc2VDb21wbGV0ZXI7XG5cdH0oKSk7XG5cdGV4cG9ydHMuUHJvbWlzZUNvbXBsZXRlciA9IFByb21pc2VDb21wbGV0ZXI7XG5cdGZ1bmN0aW9uIG5vb3AoKSB7IH1cblx0ZXhwb3J0cy5ub29wID0gbm9vcDtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAxNjM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIG1vZGFsX2NvbnRleHRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzg2KTtcblx0ZXhwb3J0cy5Cb290c3RyYXBNb2RhbFNpemUgPSBtb2RhbF9jb250ZXh0XzEuQm9vdHN0cmFwTW9kYWxTaXplO1xuXHRleHBvcnRzLkJTTW9kYWxDb250ZXh0ID0gbW9kYWxfY29udGV4dF8xLkJTTW9kYWxDb250ZXh0O1xuXHRleHBvcnRzLkJTTW9kYWxDb250ZXh0QnVpbGRlciA9IG1vZGFsX2NvbnRleHRfMS5CU01vZGFsQ29udGV4dEJ1aWxkZXI7XG5cdHZhciBtb2RhbF9iYWNrZHJvcF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODQpO1xuXHRleHBvcnRzLkJTTW9kYWxCYWNrZHJvcCA9IG1vZGFsX2JhY2tkcm9wXzEuQlNNb2RhbEJhY2tkcm9wO1xuXHR2YXIgbW9kYWxfY29udGFpbmVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4NSk7XG5cdGV4cG9ydHMuQlNNb2RhbENvbnRhaW5lciA9IG1vZGFsX2NvbnRhaW5lcl8xLkJTTW9kYWxDb250YWluZXI7XG5cdHZhciBtZXNzYWdlX21vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0MSk7XG5cdGV4cG9ydHMuQlNNZXNzYWdlTW9kYWwgPSBtZXNzYWdlX21vZGFsXzEuQlNNZXNzYWdlTW9kYWw7XG5cdHZhciBtb2RhbF9mb290ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzg3KTtcblx0ZXhwb3J0cy5CU01vZGFsRm9vdGVyID0gbW9kYWxfZm9vdGVyXzEuQlNNb2RhbEZvb3Rlcjtcblx0dmFyIG1lc3NhZ2VfbW9kYWxfcHJlc2V0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0Myk7XG5cdGV4cG9ydHMuTWVzc2FnZU1vZGFsUHJlc2V0ID0gbWVzc2FnZV9tb2RhbF9wcmVzZXRfMS5NZXNzYWdlTW9kYWxQcmVzZXQ7XG5cdGV4cG9ydHMuTWVzc2FnZU1vZGFsUHJlc2V0QnVpbGRlciA9IG1lc3NhZ2VfbW9kYWxfcHJlc2V0XzEuTWVzc2FnZU1vZGFsUHJlc2V0QnVpbGRlcjtcblx0dmFyIGFuZ3VsYXIyX21vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRleHBvcnRzLk1vZGFsT3BlbkNvbnRleHQgPSBhbmd1bGFyMl9tb2RhbF8xLk1vZGFsT3BlbkNvbnRleHQ7XG5cdGV4cG9ydHMuTW9kYWxPcGVuQ29udGV4dEJ1aWxkZXIgPSBhbmd1bGFyMl9tb2RhbF8xLk1vZGFsT3BlbkNvbnRleHRCdWlsZGVyO1xuXHR2YXIgb25lX2J1dHRvbl9wcmVzZXRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzg4KTtcblx0ZXhwb3J0cy5PbmVCdXR0b25QcmVzZXQgPSBvbmVfYnV0dG9uX3ByZXNldF8xLk9uZUJ1dHRvblByZXNldDtcblx0ZXhwb3J0cy5PbmVCdXR0b25QcmVzZXRCdWlsZGVyID0gb25lX2J1dHRvbl9wcmVzZXRfMS5PbmVCdXR0b25QcmVzZXRCdWlsZGVyO1xuXHR2YXIgdHdvX2J1dHRvbl9wcmVzZXRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzg5KTtcblx0ZXhwb3J0cy5Ud29CdXR0b25QcmVzZXQgPSB0d29fYnV0dG9uX3ByZXNldF8xLlR3b0J1dHRvblByZXNldDtcblx0ZXhwb3J0cy5Ud29CdXR0b25QcmVzZXRCdWlsZGVyID0gdHdvX2J1dHRvbl9wcmVzZXRfMS5Ud29CdXR0b25QcmVzZXRCdWlsZGVyO1xuXHR2YXIgbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQyKTtcblx0ZXhwb3J0cy5CU01vZGFsID0gbW9kYWxfMS5CU01vZGFsO1xuXHRleHBvcnRzLk1vZGFsID0gbW9kYWxfMS5Nb2RhbDtcblx0dmFyIGJvb3RzdHJhcF9tb2R1bGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTYwKTtcblx0ZXhwb3J0cy5Cb290c3RyYXBNb2RhbE1vZHVsZSA9IGJvb3RzdHJhcF9tb2R1bGVfMS5Cb290c3RyYXBNb2RhbE1vZHVsZTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAxNjQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG5cdCAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0dmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG5cdH07XG5cdHZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgYW5ndWxhcjJfbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdC8qKlxuXHQgKiBBIERpYWxvZyBpcyBhXG5cdCAqL1xuXHR2YXIgVkVYRGlhbG9nQnV0dG9ucyA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBWRVhEaWFsb2dCdXR0b25zKCkge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEVtaXR0ZWQgd2hlbiBhIGJ1dHRvbiB3YXMgY2xpY2tlZFxuXHQgICAgICAgICAqIEB0eXBlIHtFdmVudEVtaXR0ZXI8VkVYQnV0dG9uQ2xpY2tFdmVudD59XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5vbkJ1dHRvbkNsaWNrID0gbmV3IGNvcmVfMS5FdmVudEVtaXR0ZXIoKTtcblx0ICAgIH1cblx0ICAgIFZFWERpYWxvZ0J1dHRvbnMucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoYnRuLCAkZXZlbnQpIHtcblx0ICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgdGhpcy5vbkJ1dHRvbkNsaWNrLmVtaXQoeyBidG46IGJ0biwgJGV2ZW50OiAkZXZlbnQgfSk7XG5cdCAgICB9O1xuXHQgICAgX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLklucHV0KCksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgQXJyYXkpXG5cdCAgICBdLCBWRVhEaWFsb2dCdXR0b25zLnByb3RvdHlwZSwgXCJidXR0b25zXCIsIHZvaWQgMCk7XG5cdCAgICBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuT3V0cHV0KCksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgT2JqZWN0KVxuXHQgICAgXSwgVkVYRGlhbG9nQnV0dG9ucy5wcm90b3R5cGUsIFwib25CdXR0b25DbGlja1wiLCB2b2lkIDApO1xuXHQgICAgVkVYRGlhbG9nQnV0dG9ucyA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5Db21wb25lbnQoe1xuXHQgICAgICAgICAgICBzZWxlY3RvcjogJ3ZleC1kaWFsb2ctYnV0dG9ucycsXG5cdCAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGNvcmVfMS5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuXHQgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IGNsYXNzPVxcXCJ2ZXgtZGlhbG9nLWJ1dHRvbnNcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgXFxuICAgICAgICAgKm5nRm9yPVxcXCJsZXQgYnRuIG9mIGJ1dHRvbnM7XFxcIlxcbiAgICAgICAgIFtjbGFzc109XFxcImJ0bi5jc3NDbGFzc1xcXCJcXG4gICAgICAgICAoY2xpY2spPVxcXCJvbkNsaWNrKGJ0biwgJGV2ZW50KVxcXCI+e3tidG4uY2FwdGlvbn19PC9idXR0b24+XFxuPC9kaXY+XCJcblx0ICAgICAgICB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbXSlcblx0ICAgIF0sIFZFWERpYWxvZ0J1dHRvbnMpO1xuXHQgICAgcmV0dXJuIFZFWERpYWxvZ0J1dHRvbnM7XG5cdH0oKSk7XG5cdGV4cG9ydHMuVkVYRGlhbG9nQnV0dG9ucyA9IFZFWERpYWxvZ0J1dHRvbnM7XG5cdC8qKlxuXHQgKiBBIERpYWxvZyB3aXRoIGN1c3RvbWl6ZWQgYnV0dG9ucyB3cmFwcGVkIGluIGEgZm9ybS5cblx0ICpcblx0ICovXG5cdHZhciBEaWFsb2dGb3JtTW9kYWwgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gRGlhbG9nRm9ybU1vZGFsKGRpYWxvZywgX2NvbXBpbGVDb25maWcsIF9jcikge1xuXHQgICAgICAgIHRoaXMuZGlhbG9nID0gZGlhbG9nO1xuXHQgICAgICAgIHRoaXMuX2NvbXBpbGVDb25maWcgPSBfY29tcGlsZUNvbmZpZztcblx0ICAgICAgICB0aGlzLl9jciA9IF9jcjtcblx0ICAgICAgICB0aGlzLmNvbnRleHQgPSBkaWFsb2cuY29udGV4dDtcblx0ICAgIH1cblx0ICAgIERpYWxvZ0Zvcm1Nb2RhbC5wcm90b3R5cGUubmdBZnRlclZpZXdJbml0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgLyogIFRPRE86XG5cdCAgICAgICAgIEluIFJDNSBkeW5hbWljIGNvbXBvbmVudCBjcmVhdGlvbiBpcyBubyBsb25nZXIgYXN5bmMuXG5cdCAgICAgICAgIFNvbWV3aGVyZSBkb3duIHRoZSBwaXBlIG9mIHRoZSBjcmVhdGVkIGNvbXBvbmVudCBhIHZhbHVlIGNoYW5nZSBoYXBwZW5zIHRoYXQgZmlyZXNcblx0ICAgICAgICAgYSBDRCBleGNlcHRpb24uIHNldFRpbWVvdXQgaXMgYSB3b3JrYXJvdW5kIHRoYXQgbWltaWNzIHRoZSBhc3luYyBiZWhhdmlvci5cblx0ICAgICAgICAgRmluZCBvdXQgdGhlIGVycm9yIGFuZCByZW1vdmUgc2V0VGltZW91dC5cblx0ICAgICAgICAgKi9cblx0ICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgX3RoaXMuZGlhbG9nLmNvbnRlbnRSZWYgPSBhbmd1bGFyMl9tb2RhbF8xLmNyZWF0ZUNvbXBvbmVudChfdGhpcy5fY3IsIF90aGlzLmNvbnRleHQuY29udGVudCwgX3RoaXMuX3ZpZXdDb250YWluZXIsIF90aGlzLl9jb21waWxlQ29uZmlnLmJpbmRpbmdzKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdCAgICBEaWFsb2dGb3JtTW9kYWwucHJvdG90eXBlLm9uQnV0dG9uQ2xpY2sgPSBmdW5jdGlvbiAoJGV2ZW50KSB7XG5cdCAgICAgICAgJGV2ZW50LmJ0bi5vbkNsaWNrKHRoaXMsICRldmVudC4kZXZlbnQpO1xuXHQgICAgfTtcblx0ICAgIF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5WaWV3Q2hpbGQoJ21vZGFsRGlhbG9nJywgeyByZWFkOiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCAodHlwZW9mIChfYSA9IHR5cGVvZiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLlZpZXdDb250YWluZXJSZWYpID09PSAnZnVuY3Rpb24nICYmIF9hKSB8fCBPYmplY3QpXG5cdCAgICBdLCBEaWFsb2dGb3JtTW9kYWwucHJvdG90eXBlLCBcIl92aWV3Q29udGFpbmVyXCIsIHZvaWQgMCk7XG5cdCAgICBEaWFsb2dGb3JtTW9kYWwgPSBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcblx0ICAgICAgICAgICAgc2VsZWN0b3I6ICdtb2RhbC1kaWFsb2cnLFxuXHQgICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcblx0ICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGZvcm0gY2xhc3M9XFxcInZleC1kaWFsb2ctZm9ybVxcXCI+XFxuICAgIDxkaXYgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmVcXFwiICNtb2RhbERpYWxvZz48L2Rpdj4gXFxuICAgIDx2ZXgtZGlhbG9nLWJ1dHRvbnMgW2J1dHRvbnNdPVxcXCJjb250ZXh0LmJ1dHRvbnNcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgKG9uQnV0dG9uQ2xpY2spPVxcXCJvbkJ1dHRvbkNsaWNrKCRldmVudClcXFwiPjwvdmV4LWRpYWxvZy1idXR0b25zPlxcbjwvZm9ybT5cIlxuXHQgICAgICAgIH0pLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFsodHlwZW9mIChfYiA9IHR5cGVvZiBhbmd1bGFyMl9tb2RhbF8xLkRpYWxvZ1JlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgYW5ndWxhcjJfbW9kYWxfMS5EaWFsb2dSZWYpID09PSAnZnVuY3Rpb24nICYmIF9iKSB8fCBPYmplY3QsICh0eXBlb2YgKF9jID0gdHlwZW9mIGFuZ3VsYXIyX21vZGFsXzEuTW9kYWxDb21waWxlQ29uZmlnICE9PSAndW5kZWZpbmVkJyAmJiBhbmd1bGFyMl9tb2RhbF8xLk1vZGFsQ29tcGlsZUNvbmZpZykgPT09ICdmdW5jdGlvbicgJiYgX2MpIHx8IE9iamVjdCwgKHR5cGVvZiAoX2QgPSB0eXBlb2YgY29yZV8xLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikgPT09ICdmdW5jdGlvbicgJiYgX2QpIHx8IE9iamVjdF0pXG5cdCAgICBdLCBEaWFsb2dGb3JtTW9kYWwpO1xuXHQgICAgcmV0dXJuIERpYWxvZ0Zvcm1Nb2RhbDtcblx0ICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcblx0fSgpKTtcblx0ZXhwb3J0cy5EaWFsb2dGb3JtTW9kYWwgPSBEaWFsb2dGb3JtTW9kYWw7XG5cdHZhciBGb3JtRHJvcEluID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEZvcm1Ecm9wSW4oZGlhbG9nKSB7XG5cdCAgICAgICAgdGhpcy5kaWFsb2cgPSBkaWFsb2c7XG5cdCAgICAgICAgdGhpcy5jb250ZXh0ID0gZGlhbG9nLmNvbnRleHQ7XG5cdCAgICB9XG5cdCAgICBGb3JtRHJvcEluID0gX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLkNvbXBvbmVudCh7XG5cdCAgICAgICAgICAgIHNlbGVjdG9yOiAnZHJvcC1pbi1kaWFsb2cnLFxuXHQgICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcblx0ICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz1cXFwidmV4LWRpYWxvZy1tZXNzYWdlXFxcIj57e2NvbnRleHQubWVzc2FnZX19PC9kaXY+XFxuICAgIDxkaXYgKm5nSWY9XFxcImNvbnRleHQuc2hvd0lucHV0XFxcIiBjbGFzcz1cXFwidmV4LWRpYWxvZy1pbnB1dFxcXCI+XFxuICAgICAgICA8aW5wdXQgYXV0b2ZvY3VzICNpbnB1dFxcbiAgICAgICAgICAgICAgIG5hbWU9XFxcInZleFxcXCIgXFxuICAgICAgICAgICAgICAgdHlwZT1cXFwidGV4dFxcXCIgXFxuICAgICAgICAgICAgICAgY2xhc3M9XFxcInZleC1kaWFsb2ctcHJvbXB0LWlucHV0XFxcIlxcbiAgICAgICAgICAgICAgIChjaGFuZ2UpPVxcXCJjb250ZXh0LmRlZmF1bHRSZXN1bHQgPSBpbnB1dC52YWx1ZVxcXCIgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwie3tjb250ZXh0LnBsYWNlaG9sZGVyfX1cXFwiPlxcbiAgICA8L2Rpdj5cIlxuXHQgICAgICAgIH0pLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFsodHlwZW9mIChfYSA9IHR5cGVvZiBhbmd1bGFyMl9tb2RhbF8xLkRpYWxvZ1JlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgYW5ndWxhcjJfbW9kYWxfMS5EaWFsb2dSZWYpID09PSAnZnVuY3Rpb24nICYmIF9hKSB8fCBPYmplY3RdKVxuXHQgICAgXSwgRm9ybURyb3BJbik7XG5cdCAgICByZXR1cm4gRm9ybURyb3BJbjtcblx0ICAgIHZhciBfYTtcblx0fSgpKTtcblx0ZXhwb3J0cy5Gb3JtRHJvcEluID0gRm9ybURyb3BJbjtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAxNjU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIGFuZ3VsYXIyX21vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRleHBvcnRzLk1vZGFsID0gYW5ndWxhcjJfbW9kYWxfMS5Nb2RhbDtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAxNjY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG5cdCAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0dmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG5cdH07XG5cdHZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0dmFyIGluZGV4XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0Nyk7XG5cdHZhciBTaGFyZWRNb2R1bGUgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gU2hhcmVkTW9kdWxlKCkge1xuXHQgICAgfVxuXHQgICAgU2hhcmVkTW9kdWxlLmZvclJvb3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgbmdNb2R1bGU6IFNoYXJlZE1vZHVsZSxcblx0ICAgICAgICAgICAgcHJvdmlkZXJzOiBbXVxuXHQgICAgICAgIH07XG5cdCAgICB9O1xuXHQgICAgU2hhcmVkTW9kdWxlID0gX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLk5nTW9kdWxlKHtcblx0ICAgICAgICAgICAgaW1wb3J0czogW2NvbW1vbl8xLkNvbW1vbk1vZHVsZV0sXG5cdCAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW2luZGV4XzEuRGVtb0hlYWRdLFxuXHQgICAgICAgICAgICBleHBvcnRzOiBbaW5kZXhfMS5EZW1vSGVhZF1cblx0ICAgICAgICB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbXSlcblx0ICAgIF0sIFNoYXJlZE1vZHVsZSk7XG5cdCAgICByZXR1cm4gU2hhcmVkTW9kdWxlO1xuXHR9KCkpO1xuXHRleHBvcnRzLlNoYXJlZE1vZHVsZSA9IFNoYXJlZE1vZHVsZTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAyNDA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuXHQgICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG5cdCAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cblx0ICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdChmdW5jdGlvbiAoRFJPUF9JTl9UWVBFKSB7XG5cdCAgICBEUk9QX0lOX1RZUEVbRFJPUF9JTl9UWVBFW1wiYWxlcnRcIl0gPSAwXSA9IFwiYWxlcnRcIjtcblx0ICAgIERST1BfSU5fVFlQRVtEUk9QX0lOX1RZUEVbXCJwcm9tcHRcIl0gPSAxXSA9IFwicHJvbXB0XCI7XG5cdCAgICBEUk9QX0lOX1RZUEVbRFJPUF9JTl9UWVBFW1wiY29uZmlybVwiXSA9IDJdID0gXCJjb25maXJtXCI7XG5cdH0pKGV4cG9ydHMuRFJPUF9JTl9UWVBFIHx8IChleHBvcnRzLkRST1BfSU5fVFlQRSA9IHt9KSk7XG5cdHZhciBEUk9QX0lOX1RZUEUgPSBleHBvcnRzLkRST1BfSU5fVFlQRTtcblx0dmFyIE1vZGFsQ29tcGlsZUNvbmZpZyA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBNb2RhbENvbXBpbGVDb25maWcoY29tcG9uZW50LCBiaW5kaW5ncykge1xuXHQgICAgICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xuXHQgICAgICAgIHRoaXMuYmluZGluZ3MgPSBiaW5kaW5ncztcblx0ICAgIH1cblx0ICAgIHJldHVybiBNb2RhbENvbXBpbGVDb25maWc7XG5cdH0oKSk7XG5cdGV4cG9ydHMuTW9kYWxDb21waWxlQ29uZmlnID0gTW9kYWxDb21waWxlQ29uZmlnO1xuXHR2YXIgTW9kYWxSZW5kZXJlciA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBNb2RhbFJlbmRlcmVyKCkge1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIE1vZGFsUmVuZGVyZXI7XG5cdH0oKSk7XG5cdGV4cG9ydHMuTW9kYWxSZW5kZXJlciA9IE1vZGFsUmVuZGVyZXI7XG5cdHZhciBNb2RhbEJhY2tkcm9wQ29tcG9uZW50ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcblx0ICAgIF9fZXh0ZW5kcyhNb2RhbEJhY2tkcm9wQ29tcG9uZW50LCBfc3VwZXIpO1xuXHQgICAgZnVuY3Rpb24gTW9kYWxCYWNrZHJvcENvbXBvbmVudCgpIHtcblx0ICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBNb2RhbEJhY2tkcm9wQ29tcG9uZW50O1xuXHR9KGNvcmVfMS5UeXBlKSk7XG5cdGV4cG9ydHMuTW9kYWxCYWNrZHJvcENvbXBvbmVudCA9IE1vZGFsQmFja2Ryb3BDb21wb25lbnQ7XG5cdHZhciBNb2RhbERyb3BJbkZhY3RvcnkgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gTW9kYWxEcm9wSW5GYWN0b3J5KCkge1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIE1vZGFsRHJvcEluRmFjdG9yeTtcblx0fSgpKTtcblx0ZXhwb3J0cy5Nb2RhbERyb3BJbkZhY3RvcnkgPSBNb2RhbERyb3BJbkZhY3Rvcnk7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMjQxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xuXHR9O1xuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIGFuZ3VsYXIyX21vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHQvKipcblx0ICogQSBDb21wb25lbnQgcmVwcmVzZW50aW5nIGEgZ2VuZXJpYyBib290c3RyYXAgbW9kYWwgY29udGVudCBlbGVtZW50LlxuXHQgKlxuXHQgKiBCeSBjb25maWd1cmluZyBhIE1lc3NhZ2VNb2RhbENvbnRleHQgaW5zdGFuY2UgeW91IGNhbjpcblx0ICpcblx0ICogIEhlYWRlcjpcblx0ICogICAgICAtIFNldCBoZWFkZXIgY29udGFpbmVyIGNsYXNzIChkZWZhdWx0OiBtb2RhbC1oZWFkZXIpXG5cdCAqICAgICAgLSBTZXQgdGl0bGUgdGV4dCAoZW5jbG9zZWQgaW4gSDMgZWxlbWVudClcblx0ICogICAgICAtIFNldCB0aXRsZSBodG1sIChvdmVycmlkZXMgdGV4dClcblx0ICpcblx0ICogIEJvZHk6XG5cdCAqICAgICAgLSBTZXQgYm9keSBjb250YWluZXIgY2xhc3MuICAoZGVmYXVsdDogbW9kYWwtYm9keSlcblx0ICogICAgICAtIFNldCBib2R5IGNvbnRhaW5lciBIVE1MLlxuXHQgKlxuXHQgKiAgRm9vdGVyOlxuXHQgKiAgICAgIC0gU2V0IGZvb3RlciBjbGFzcy4gIChkZWZhdWx0OiBtb2RhbC1mb290ZXIpXG5cdCAqICAgICAgLSBTZXQgYnV0dG9uIGNvbmZpZ3VyYXRpb24gKGZyb20gMCB0byBuKVxuXHQgKi9cblx0dmFyIEJTTWVzc2FnZU1vZGFsID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEJTTWVzc2FnZU1vZGFsKGRpYWxvZykge1xuXHQgICAgICAgIHRoaXMuZGlhbG9nID0gZGlhbG9nO1xuXHQgICAgICAgIHRoaXMuY29udGV4dCA9IGRpYWxvZy5jb250ZXh0O1xuXHQgICAgfVxuXHQgICAgQlNNZXNzYWdlTW9kYWwucHJvdG90eXBlLm9uRm9vdGVyQnV0dG9uQ2xpY2sgPSBmdW5jdGlvbiAoJGV2ZW50KSB7XG5cdCAgICAgICAgJGV2ZW50LmJ0bi5vbkNsaWNrKHRoaXMsICRldmVudC4kZXZlbnQpO1xuXHQgICAgfTtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCU01lc3NhZ2VNb2RhbC5wcm90b3R5cGUsIFwidGl0bGVIdG1sXCIsIHtcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC50aXRsZUh0bWwgPyAxIDogMDtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIEJTTWVzc2FnZU1vZGFsID0gX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLkNvbXBvbmVudCh7XG5cdCAgICAgICAgICAgIHNlbGVjdG9yOiAnbW9kYWwtY29udGVudCcsXG5cdCAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGNvcmVfMS5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuXHQgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IFtuZ0NsYXNzXT1cXFwiY29udGV4dC5oZWFkZXJDbGFzc1xcXCIgW25nU3dpdGNoXT1cXFwidGl0bGVIdG1sXFxcIj5cXG4gICAgICAgIDxidXR0b24gKm5nSWY9XFxcImNvbnRleHQuc2hvd0Nsb3NlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgXFxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XFxcIkNsb3NlXFxcIiAoY2xpY2spPVxcXCJkaWFsb2cuZGlzbWlzcygpXFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+XFx1MDBENzwvc3Bhbj5cXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgPGRpdiAqbmdTd2l0Y2hDYXNlPVxcXCIxXFxcIiBbaW5uZXJIdG1sXT1cXFwiY29udGV4dC50aXRsZUh0bWxcXFwiPjwvZGl2PlxcbiAgICAgICAgPGgzICpuZ1N3aXRjaERlZmF1bHQgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj57e2NvbnRleHQudGl0bGV9fTwvaDM+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IFtuZ0NsYXNzXT1cXFwiY29udGV4dC5ib2R5Q2xhc3NcXFwiIFtpbm5lckh0bWxdPVxcXCJjb250ZXh0Lm1lc3NhZ2VcXFwiPjwvZGl2PlxcbiAgICA8bW9kYWwtZm9vdGVyIFtmb290ZXJDbGFzc109XFxcImNvbnRleHQuZm9vdGVyQ2xhc3NcXFwiIFxcbiAgICAgICAgICAgICAgICAgIFtidXR0b25zXT1cXFwiY29udGV4dC5idXR0b25zXFxcIlxcbiAgICAgICAgICAgICAgICAgIChvbkJ1dHRvbkNsaWNrKT1cXFwib25Gb290ZXJCdXR0b25DbGljaygkZXZlbnQpXFxcIj48L21vZGFsLWZvb3Rlcj5cIlxuXHQgICAgICAgIH0pLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFsodHlwZW9mIChfYSA9IHR5cGVvZiBhbmd1bGFyMl9tb2RhbF8xLkRpYWxvZ1JlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgYW5ndWxhcjJfbW9kYWxfMS5EaWFsb2dSZWYpID09PSAnZnVuY3Rpb24nICYmIF9hKSB8fCBPYmplY3RdKVxuXHQgICAgXSwgQlNNZXNzYWdlTW9kYWwpO1xuXHQgICAgcmV0dXJuIEJTTWVzc2FnZU1vZGFsO1xuXHQgICAgdmFyIF9hO1xuXHR9KCkpO1xuXHRleHBvcnRzLkJTTWVzc2FnZU1vZGFsID0gQlNNZXNzYWdlTW9kYWw7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMjQyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBhbmd1bGFyMl9tb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0ZXhwb3J0cy5Nb2RhbCA9IGFuZ3VsYXIyX21vZGFsXzEuTW9kYWw7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMjQzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcblx0ICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuXHQgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG5cdCAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG5cdH07XG5cdHZhciBhbmd1bGFyMl9tb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIG1vZGFsX2NvbnRleHRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzg2KTtcblx0dmFyIG1lc3NhZ2VfbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQxKTtcblx0dmFyIERFRkFVTFRfVkFMVUVTID0ge1xuXHQgICAgY29tcG9uZW50OiBtZXNzYWdlX21vZGFsXzEuQlNNZXNzYWdlTW9kYWwsXG5cdCAgICBoZWFkZXJDbGFzczogJ21vZGFsLWhlYWRlcicsXG5cdCAgICBib2R5Q2xhc3M6ICdtb2RhbC1ib2R5Jyxcblx0ICAgIGZvb3RlckNsYXNzOiAnbW9kYWwtZm9vdGVyJ1xuXHR9O1xuXHR2YXIgREVGQVVMVF9TRVRURVJTID0gW1xuXHQgICAgJ2hlYWRlckNsYXNzJyxcblx0ICAgICd0aXRsZScsXG5cdCAgICAndGl0bGVIdG1sJyxcblx0ICAgICdib2R5Q2xhc3MnLFxuXHQgICAgJ2Zvb3RlckNsYXNzJ1xuXHRdO1xuXHQvKipcblx0ICogQSBQcmVzZXQgcmVwcmVzZW50aW5nIHRoZSBjb25maWd1cmF0aW9uIG5lZWRlZCB0byBvcGVuIE1lc3NhZ2VNb2RhbC5cblx0ICogVGhpcyBpcyBhbiBhYnN0cmFjdCBpbXBsZW1lbnRhdGlvbiB3aXRoIG5vIGNvbmNyZXRlIGJlaGF2aW91ci5cblx0ICogVXNlIGRlcml2ZWQgaW1wbGVtZW50YXRpb24uXG5cdCAqL1xuXHR2YXIgTWVzc2FnZU1vZGFsUHJlc2V0QnVpbGRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG5cdCAgICBfX2V4dGVuZHMoTWVzc2FnZU1vZGFsUHJlc2V0QnVpbGRlciwgX3N1cGVyKTtcblx0ICAgIGZ1bmN0aW9uIE1lc3NhZ2VNb2RhbFByZXNldEJ1aWxkZXIoZGVmYXVsdFZhbHVlcywgaW5pdGlhbFNldHRlcnMsIGJhc2VUeXBlKSB7XG5cdCAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZXMgPT09IHZvaWQgMCkgeyBkZWZhdWx0VmFsdWVzID0gdW5kZWZpbmVkOyB9XG5cdCAgICAgICAgaWYgKGluaXRpYWxTZXR0ZXJzID09PSB2b2lkIDApIHsgaW5pdGlhbFNldHRlcnMgPSB1bmRlZmluZWQ7IH1cblx0ICAgICAgICBpZiAoYmFzZVR5cGUgPT09IHZvaWQgMCkgeyBiYXNlVHlwZSA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGFuZ3VsYXIyX21vZGFsXzEuZXh0ZW5kKGFuZ3VsYXIyX21vZGFsXzEuZXh0ZW5kKHsgYnV0dG9uczogW10gfSwgREVGQVVMVF9WQUxVRVMpLCBkZWZhdWx0VmFsdWVzIHx8IHt9KSwgYW5ndWxhcjJfbW9kYWxfMS5hcnJheVVuaW9uKERFRkFVTFRfU0VUVEVSUywgaW5pdGlhbFNldHRlcnMgfHwgW10pLCBiYXNlVHlwZSk7XG5cdCAgICAgICAgYW5ndWxhcjJfbW9kYWxfMS5zZXRBc3NpZ25BbGlhcyh0aGlzLCAnYm9keScsICdtZXNzYWdlJywgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgICBNZXNzYWdlTW9kYWxQcmVzZXRCdWlsZGVyLnByb3RvdHlwZS5hZGRCdXR0b24gPSBmdW5jdGlvbiAoY3NzLCBjYXB0aW9uLCBvbkNsaWNrKSB7XG5cdCAgICAgICAgdmFyIGJ0biA9IHtcblx0ICAgICAgICAgICAgY3NzQ2xhc3M6IGNzcyxcblx0ICAgICAgICAgICAgY2FwdGlvbjogY2FwdGlvbixcblx0ICAgICAgICAgICAgb25DbGljazogb25DbGlja1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgdmFyIGtleSA9IGFuZ3VsYXIyX21vZGFsXzEucHJpdmF0ZUtleSgnYnV0dG9ucycpO1xuXHQgICAgICAgIHRoaXNba2V5XS5wdXNoKGJ0bik7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIE1lc3NhZ2VNb2RhbFByZXNldEJ1aWxkZXI7XG5cdH0obW9kYWxfY29udGV4dF8xLkJTTW9kYWxDb250ZXh0QnVpbGRlcikpO1xuXHRleHBvcnRzLk1lc3NhZ2VNb2RhbFByZXNldEJ1aWxkZXIgPSBNZXNzYWdlTW9kYWxQcmVzZXRCdWlsZGVyO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDI0NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQ1KTtcblx0ZXhwb3J0cy5Nb2RhbCA9IG1vZGFsXzEuTW9kYWw7XG5cdGV4cG9ydHMuSlNOYXRpdmVNb2RhbCA9IG1vZGFsXzEuSlNOYXRpdmVNb2RhbDtcblx0dmFyIG1vZGFsX2NvbnRleHRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzkxKTtcblx0ZXhwb3J0cy5KU05hdGl2ZU1vZGFsQ29udGV4dCA9IG1vZGFsX2NvbnRleHRfMS5KU05hdGl2ZU1vZGFsQ29udGV4dDtcblx0ZXhwb3J0cy5KU05hdGl2ZU1vZGFsQ29udGV4dEJ1aWxkZXIgPSBtb2RhbF9jb250ZXh0XzEuSlNOYXRpdmVNb2RhbENvbnRleHRCdWlsZGVyO1xuXHR2YXIganNfbmF0aXZlX21vZGFsX3JlbmRlcmVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5MCk7XG5cdGV4cG9ydHMuSlNOYXRpdmVNb2RhbFJlbmRlcmVyID0ganNfbmF0aXZlX21vZGFsX3JlbmRlcmVyXzEuSlNOYXRpdmVNb2RhbFJlbmRlcmVyO1xuXHR2YXIganNfbmF0aXZlX3ByZXNldF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOTIpO1xuXHRleHBvcnRzLkpTTmF0aXZlUHJlc2V0QnVpbGRlciA9IGpzX25hdGl2ZV9wcmVzZXRfMS5KU05hdGl2ZVByZXNldEJ1aWxkZXI7XG5cdHZhciBqc19uYXRpdmVfbW9kdWxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2MSk7XG5cdGV4cG9ydHMuSlNOYXRpdmVNb2RhbE1vZHVsZSA9IGpzX25hdGl2ZV9tb2R1bGVfMS5KU05hdGl2ZU1vZGFsTW9kdWxlO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDI0NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgYW5ndWxhcjJfbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdGV4cG9ydHMuTW9kYWwgPSBhbmd1bGFyMl9tb2RhbF8xLk1vZGFsO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDI0Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgZG9tX21vZGFsX3JlbmRlcmVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5OSk7XG5cdGV4cG9ydHMuRE9NTW9kYWxSZW5kZXJlciA9IGRvbV9tb2RhbF9yZW5kZXJlcl8xLkRPTU1vZGFsUmVuZGVyZXI7XG5cdHZhciBtb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NjMpO1xuXHRleHBvcnRzLk1vZGFsID0gbW9kYWxfMS5Nb2RhbDtcblx0dmFyIG91dHNpZGVfZXZlbnRfcGx1Z2luXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2NCk7XG5cdGV4cG9ydHMuRE9NT3V0c2lkZUV2ZW50UGx1Z2luID0gb3V0c2lkZV9ldmVudF9wbHVnaW5fMS5ET01PdXRzaWRlRXZlbnRQbHVnaW47XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMjQ3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdGZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcblx0ICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcblx0fVxuXHRfX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDU3MSkpO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDI0ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgYW5ndWxhcjJfbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdGV4cG9ydHMuTW9kYWwgPSBhbmd1bGFyMl9tb2RhbF8xLk1vZGFsO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDM4MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0ZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50KGNmciwgdHlwZSwgdmNyLCBiaW5kaW5ncykge1xuXHQgICAgcmV0dXJuIHZjci5jcmVhdGVDb21wb25lbnQoY2ZyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHR5cGUpLCB2Y3IubGVuZ3RoLCBnZXRJbmplY3Rvcih2Y3IsIGJpbmRpbmdzKSk7XG5cdH1cblx0ZXhwb3J0cy5jcmVhdGVDb21wb25lbnQgPSBjcmVhdGVDb21wb25lbnQ7XG5cdGZ1bmN0aW9uIGdldEluamVjdG9yKHZpZXdDb250YWluZXIsIGJpbmRpbmdzKSB7XG5cdCAgICB2YXIgY3R4SW5qZWN0b3IgPSB2aWV3Q29udGFpbmVyLnBhcmVudEluamVjdG9yO1xuXHQgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYmluZGluZ3MpICYmIGJpbmRpbmdzLmxlbmd0aCA+IDAgP1xuXHQgICAgICAgIGNvcmVfMS5SZWZsZWN0aXZlSW5qZWN0b3IuZnJvbVJlc29sdmVkUHJvdmlkZXJzKGJpbmRpbmdzLCBjdHhJbmplY3RvcikgOiBjdHhJbmplY3Rvcjtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUNvbXBvbmVudDtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzODE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIFBSSVZBVEVfUFJFRklYID0gJyQkJztcblx0dmFyIFJFU0VSVkVEX1JFR0VYID0gL14oXFwkXFwkKS4qLztcblx0ZnVuY3Rpb24gdmFsaWRhdGVNZXRob2ROYW1lKG5hbWUpIHtcblx0ICAgIGlmICghbmFtZSkge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgbWV0aG9kIG5hbWUuIEVtcHR5IG1ldGhvZCBuYW1lIGlzIG5vdCBhbGxvd2VkXCIpO1xuXHQgICAgfVxuXHQgICAgZWxzZSBpZiAobmFtZSBpbiB0aGlzKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBtZW1iZXIgbmFtZSAnXCIgKyBuYW1lICsgXCInIGFscmVhZHkgZGVmaW5lZC5cIik7XG5cdCAgICB9XG5cdH1cblx0LyoqXG5cdCAqIFJldHVybnMgYSBsaXN0IG9mIGFzc2lnbmVkIHByb3BlcnR5IG5hbWVzIChub24gcHJpdmF0ZSlcblx0ICogQHBhcmFtIHN1YmplY3Rcblx0ICogQHJldHVybnMge3N0cmluZ1tdfVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0QXNzaWduZWRQcm9wZXJ0eU5hbWVzKHN1YmplY3QpIHtcblx0ICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzdWJqZWN0KVxuXHQgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFJFU0VSVkVEX1JFR0VYLnRlc3QobmFtZSk7IH0pXG5cdCAgICAgICAgLm1hcChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gbmFtZS5zdWJzdHIoMik7IH0pO1xuXHR9XG5cdGZ1bmN0aW9uIHByaXZhdGVLZXkobmFtZSkge1xuXHQgICAgcmV0dXJuIFBSSVZBVEVfUFJFRklYICsgbmFtZTtcblx0fVxuXHRleHBvcnRzLnByaXZhdGVLZXkgPSBwcml2YXRlS2V5O1xuXHRmdW5jdGlvbiBvYmplY3REZWZpbmVQcm9wZXJ0eVZhbHVlKG9iaiwgcHJvcGVydHlOYW1lLCB2YWx1ZSkge1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcGVydHlOYW1lLCB7XG5cdCAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcblx0ICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcblx0ICAgICAgICB3cml0YWJsZTogZmFsc2UsXG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICB9KTtcblx0fVxuXHQvKipcblx0ICogR2l2ZW4gYSBGbHVlbnRBc3NpZ24gaW5zdGFuY2UsIGFwcGx5IGFsbCBvZiB0aGUgc3VwcGxpZWQgZGVmYXVsdCB2YWx1ZXMgc28gY2FsbGluZ1xuXHQgKiBpbnN0YW5jZS50b0pTT04gd2lsbCByZXR1cm4gdGhvc2UgdmFsdWVzIChkb2VzIG5vdCBjcmVhdGUgYSBzZXR0ZXIgZnVuY3Rpb24pXG5cdCAqIEBwYXJhbSBpbnN0YW5jZVxuXHQgKiBAcGFyYW0gZGVmYXVsdFZhbHVlc1xuXHQgKi9cblx0ZnVuY3Rpb24gYXBwbHlEZWZhdWx0VmFsdWVzKGluc3RhbmNlLCBkZWZhdWx0VmFsdWVzKSB7XG5cdCAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0VmFsdWVzKVxuXHQgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBpbnN0YW5jZVtwcml2YXRlS2V5KG5hbWUpXSA9IGRlZmF1bHRWYWx1ZXNbbmFtZV07IH0pO1xuXHR9XG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBmdW5jdGlvbiBmb3Igc2V0dGluZyBhIHZhbHVlIGZvciBhIHByb3BlcnR5IG9uIGEgZ2l2ZW4gb2JqZWN0LlxuXHQgKiBAcGFyYW0gb2JqIFRoZSBvYmplY3QgdG8gYXBwbHkgdGhlIGtleSAmIHNldHRlciBvbi5cblx0ICogQHBhcmFtIHByb3BlcnR5TmFtZSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgb24gdGhlIG9iamVjdFxuXHQgKiBAcGFyYW0gd3JpdGVPbmNlIElmIHRydWUgd2lsbCBhbGxvdyB3cml0aW5nIG9uY2UgKGRlZmF1bHQ6IGZhbHNlKVxuXHQgKlxuXHQgKiBFeGFtcGxlOlxuXHQgKiBsZXQgb2JqID0gbmV3IEZsdWVudEFzc2lnbjxhbnk+O1xuXHQgKiBzZXRBc3NpZ25NZXRob2Qob2JqLCAnbXlQcm9wJyk7XG5cdCAqIG9iai5teVByb3AoJ3NvbWVWYWx1ZScpO1xuXHQgKiBjb25zdCByZXN1bHQgPSBvYmoudG9KU09OKCk7XG5cdCAqIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8veyBteVByb3A6ICdzb21lVmFsdWUnIH1cblx0ICpcblx0ICpcblx0ICogbGV0IG9iaiA9IG5ldyBGbHVlbnRBc3NpZ248YW55Pjtcblx0ICogc2V0QXNzaWduTWV0aG9kKG9iaiwgJ215UHJvcCcsIHRydWUpOyAvLyBhcHBseWluZyB3cml0ZU9uY2Vcblx0ICogb2JqLm15UHJvcCgnc29tZVZhbHVlJyk7XG5cdCAqIG9iai5teVByb3AoJ3NvbWVWYWx1ZScpOyAvLyBFUlJPUjogT3ZlcnJpZGluZyBjb25maWcgcHJvcGVydHkgJ215UHJvcCcgaXMgbm90IGFsbG93ZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBzZXRBc3NpZ25NZXRob2Qob2JqLCBwcm9wZXJ0eU5hbWUsIHdyaXRlT25jZSkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgIGlmICh3cml0ZU9uY2UgPT09IHZvaWQgMCkgeyB3cml0ZU9uY2UgPSBmYWxzZTsgfVxuXHQgICAgdmFsaWRhdGVNZXRob2ROYW1lLmNhbGwob2JqLCBwcm9wZXJ0eU5hbWUpO1xuXHQgICAgdmFyIGtleSA9IHByaXZhdGVLZXkocHJvcGVydHlOYW1lKTtcblx0ICAgIG9iamVjdERlZmluZVByb3BlcnR5VmFsdWUob2JqLCBwcm9wZXJ0eU5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgIGlmICh3cml0ZU9uY2UgJiYgX3RoaXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPdmVycmlkaW5nIGNvbmZpZyBwcm9wZXJ0eSAnXCIgKyBwcm9wZXJ0eU5hbWUgKyBcIicgaXMgbm90IGFsbG93ZWQuXCIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBvYmpba2V5XSA9IHZhbHVlO1xuXHQgICAgICAgIHJldHVybiBvYmo7XG5cdCAgICB9KTtcblx0fVxuXHRleHBvcnRzLnNldEFzc2lnbk1ldGhvZCA9IHNldEFzc2lnbk1ldGhvZDtcblx0LyoqXG5cdCAqIENyZWF0ZSBhIGZ1bmN0aW9uIGZvciBzZXR0aW5nIGEgdmFsdWUgdGhhdCBpcyBhbiBhbGlhcyB0byBhbiBvdGhlciBzZXR0ZXIgZnVuY3Rpb24uXG5cdCAqIEBwYXJhbSBvYmogVGhlIG9iamVjdCB0byBhcHBseSB0aGUga2V5ICYgc2V0dGVyIG9uLlxuXHQgKiBAcGFyYW0gcHJvcGVydHlOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSBvbiB0aGUgb2JqZWN0XG5cdCAqIEBwYXJhbSBzcmNQcm9wZXJ0eU5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IG9uIHRoZSBvYmplY3QgdGhpcyBhbGlhcyBwb2ludHMgdG9cblx0ICogQHBhcmFtIGhhcmQgSWYgdHJ1ZSwgd2lsbCBzZXQgYSByZWFkb25seSBwcm9wZXJ0eSBvbiB0aGUgb2JqZWN0IHRoYXQgcmV0dXJuc1xuXHQgKiAgICAgICAgdGhlIHZhbHVlIG9mIHRoZSBzb3VyY2UgcHJvcGVydHkuIERlZmF1bHQ6IGZhbHNlXG5cdCAqXG5cdCAqIEV4YW1wbGU6XG5cdCAqIGxldCBvYmogPSBuZXcgRmx1ZW50QXNzaWduPGFueT4gO1xuXHQgKiBzZXRBc3NpZ25NZXRob2Qob2JqLCAnbXlQcm9wJyk7XG5cdCAqIHNldEFzc2lnbkFsaWFzKG9iaiwgJ215UHJvcEFsaWFzJywgJ215UHJvcCcpO1xuXHQgKiBvYmoubXlQcm9wQWxpYXMoJ3NvbWVWYWx1ZScpO1xuXHQgKiBjb25zdCByZXN1bHQgPSBvYmoudG9KU09OKCk7XG5cdCAqIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8veyBteVByb3A6ICdzb21lVmFsdWUnIH1cblx0ICogcmVzdWx0Lm15UHJvcEFsaWFzIC8vIHVuZGVmaW5lZFxuXHQgKlxuXHQgKlxuXHQgKiBsZXQgb2JqID0gbmV3IEZsdWVudEFzc2lnbjxhbnk+IDtcblx0ICogc2V0QXNzaWduTWV0aG9kKG9iaiwgJ215UHJvcCcpO1xuXHQgKiBzZXRBc3NpZ25BbGlhcyhvYmosICdteVByb3BBbGlhcycsICdteVByb3AnLCB0cnVlKTsgLy8gc2V0dGluZyBhIGhhcmQgYWxpYXMuXG5cdCAqIG9iai5teVByb3BBbGlhcygnc29tZVZhbHVlJyk7XG5cdCAqIGNvbnN0IHJlc3VsdCA9IG9iai50b0pTT04oKTtcblx0ICogY29uc29sZS5sb2cocmVzdWx0KTsgLy97IG15UHJvcDogJ3NvbWVWYWx1ZScgfVxuXHQgKiByZXN1bHQubXlQcm9wQWxpYXMgLy8gc29tZVZhbHVlXG5cdCAqL1xuXHRmdW5jdGlvbiBzZXRBc3NpZ25BbGlhcyhvYmosIHByb3BlcnR5TmFtZSwgc3JjUHJvcGVydHlOYW1lLCBoYXJkKSB7XG5cdCAgICBpZiAoaGFyZCA9PT0gdm9pZCAwKSB7IGhhcmQgPSBmYWxzZTsgfVxuXHQgICAgdmFsaWRhdGVNZXRob2ROYW1lLmNhbGwob2JqLCBwcm9wZXJ0eU5hbWUpO1xuXHQgICAgb2JqZWN0RGVmaW5lUHJvcGVydHlWYWx1ZShvYmosIHByb3BlcnR5TmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgb2JqW3NyY1Byb3BlcnR5TmFtZV0odmFsdWUpO1xuXHQgICAgICAgIHJldHVybiBvYmo7XG5cdCAgICB9KTtcblx0ICAgIGlmIChoYXJkID09PSB0cnVlKSB7XG5cdCAgICAgICAgdmFyIGtleSA9IHByaXZhdGVLZXkocHJvcGVydHlOYW1lKSwgc3JjS2V5XzEgPSBwcml2YXRlS2V5KHNyY1Byb3BlcnR5TmFtZSk7XG5cdCAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG5cdCAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdCAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuXHQgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9ialtzcmNLZXlfMV07IH1cblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0fVxuXHRleHBvcnRzLnNldEFzc2lnbkFsaWFzID0gc2V0QXNzaWduQWxpYXM7XG5cdC8qKlxuXHQgKiBSZXByZXNlbnQgYSBmbHVlbnQgQVBJIGZhY3Rvcnkgd3JhcHBlciBmb3IgZGVmaW5pbmcgRmx1ZW50QXNzaWduIGluc3RhbmNlcy5cblx0ICovXG5cdHZhciBGbHVlbnRBc3NpZ25GYWN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEZsdWVudEFzc2lnbkZhY3RvcnkoZmx1ZW50QXNzaWduKSB7XG5cdCAgICAgICAgdGhpcy5fZmx1ZW50QXNzaWduID1cblx0ICAgICAgICAgICAgZmx1ZW50QXNzaWduIGluc3RhbmNlb2YgRmx1ZW50QXNzaWduID8gZmx1ZW50QXNzaWduIDogbmV3IEZsdWVudEFzc2lnbigpO1xuXHQgICAgfVxuXHQgICAgLyoqXG5cdCAgICAgKiBDcmVhdGUgYSBzZXR0ZXIgbWV0aG9kIG9uIHRoZSBGbHVlbnRBc3NpZ24gaW5zdGFuY2UuXG5cdCAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc2V0dGVyIGZ1bmN0aW9uLlxuXHQgICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBJZiBzZXQgKG5vdCB1bmRlZmluZWQpIHNldCdzIHRoZSB2YWx1ZSBvbiB0aGUgaW5zdGFuY2UgaW1tZWRpYXRlbHkuXG5cdCAgICAgKiBAcmV0dXJucyB7Rmx1ZW50QXNzaWduRmFjdG9yeX1cblx0ICAgICAqL1xuXHQgICAgRmx1ZW50QXNzaWduRmFjdG9yeS5wcm90b3R5cGUuc2V0TWV0aG9kID0gZnVuY3Rpb24gKG5hbWUsIGRlZmF1bHRWYWx1ZSkge1xuXHQgICAgICAgIGlmIChkZWZhdWx0VmFsdWUgPT09IHZvaWQgMCkgeyBkZWZhdWx0VmFsdWUgPSB1bmRlZmluZWQ7IH1cblx0ICAgICAgICBzZXRBc3NpZ25NZXRob2QodGhpcy5fZmx1ZW50QXNzaWduLCBuYW1lKTtcblx0ICAgICAgICBpZiAoZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgdGhpcy5fZmx1ZW50QXNzaWduW25hbWVdKGRlZmF1bHRWYWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfTtcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbHVlbnRBc3NpZ25GYWN0b3J5LnByb3RvdHlwZSwgXCJmbHVlbnRBc3NpZ25cIiwge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFRoZSBGbHVlbnRBc3NpZ24gaW5zdGFuY2UuXG5cdCAgICAgICAgICogQHJldHVybnMge0ZsdWVudEFzc2lnbjxUPn1cblx0ICAgICAgICAgKi9cblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsdWVudEFzc2lnbjtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBGbHVlbnRBc3NpZ25GYWN0b3J5O1xuXHR9KCkpO1xuXHRleHBvcnRzLkZsdWVudEFzc2lnbkZhY3RvcnkgPSBGbHVlbnRBc3NpZ25GYWN0b3J5O1xuXHQvKipcblx0ICogUmVwcmVzZW50IGFuIG9iamVjdCB3aGVyZSBldmVyeSBwcm9wZXJ0eSBpcyBhIGZ1bmN0aW9uIHJlcHJlc2VudGluZyBhbiBhc3NpZ25tZW50IGZ1bmN0aW9uLlxuXHQgKiBDYWxsaW5nIGVhY2ggZnVuY3Rpb24gd2l0aCBhIHZhbHVlIHdpbGwgYXNzaWduIHRoZSB2YWx1ZSB0byB0aGUgb2JqZWN0IGFuZCByZXR1cm4gdGhlIG9iamVjdC5cblx0ICogQ2FsbGluZyAndG9KU09OJyByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHByb3BlcnRpZXMgYnV0IHRoaXMgdGltZSByZXByZXNlbnRpbmcgdGhlXG5cdCAqIGFzc2lnbmVkIHZhbHVlcy5cblx0ICpcblx0ICogVGhpcyBhbGxvd3Mgc2V0dGluZyBhbiBvYmplY3QgaW4gYSBmbHVlbnQgQVBJIG1hbm5lci5cblx0ICogRXhhbXBsZTpcblx0IGxldCBmbHVlbnQgPSBuZXcgRmx1ZW50QXNzaWduPGFueT4odW5kZWZpbmVkLCBbJ3NvbWUnLCAnd2VudCddKTtcblx0IGZsdWVudC5zb21lKCd0aGluZycpLndlbnQoJ3dyb25nJykudG9KU09OKCk7XG5cdCAvLyB7IHNvbWU6ICd0aGluZycsIHdlbnQ6ICd3cm9uZycgfVxuXHQgKi9cblx0dmFyIEZsdWVudEFzc2lnbiA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICAvKipcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlcyBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGRlZmF1bHQgdmFsdWVzIGZvciB0aGUgdW5kZXJseWluZyBvYmplY3QuXG5cdCAgICAgKiBAcGFyYW0gaW5pdGlhbFNldHRlcnMgQSBsaXN0IG9mIGluaXRpYWwgc2V0dGVycyBmb3IgdGhpcyBGbHVlbnRBc3NpZ24uXG5cdCAgICAgKiBAcGFyYW0gYmFzZVR5cGUgdGhlIGNsYXNzL3R5cGUgdG8gY3JlYXRlIGEgbmV3IGJhc2UuIG9wdGlvbmFsLCB7fSBpcyB1c2VkIGlmIG5vdCBzdXBwbGllZC5cblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gRmx1ZW50QXNzaWduKGRlZmF1bHRWYWx1ZXMsIGluaXRpYWxTZXR0ZXJzLCBiYXNlVHlwZSkge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZXMgPT09IHZvaWQgMCkgeyBkZWZhdWx0VmFsdWVzID0gdW5kZWZpbmVkOyB9XG5cdCAgICAgICAgaWYgKGluaXRpYWxTZXR0ZXJzID09PSB2b2lkIDApIHsgaW5pdGlhbFNldHRlcnMgPSB1bmRlZmluZWQ7IH1cblx0ICAgICAgICBpZiAoYmFzZVR5cGUgPT09IHZvaWQgMCkgeyBiYXNlVHlwZSA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRlZmF1bHRWYWx1ZXMpKSB7XG5cdCAgICAgICAgICAgIGRlZmF1bHRWYWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkgeyByZXR1cm4gYXBwbHlEZWZhdWx0VmFsdWVzKF90aGlzLCBkKTsgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYgKGRlZmF1bHRWYWx1ZXMpIHtcblx0ICAgICAgICAgICAgYXBwbHlEZWZhdWx0VmFsdWVzKHRoaXMsIGRlZmF1bHRWYWx1ZXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbml0aWFsU2V0dGVycykpIHtcblx0ICAgICAgICAgICAgaW5pdGlhbFNldHRlcnMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gc2V0QXNzaWduTWV0aG9kKF90aGlzLCBuYW1lKTsgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChiYXNlVHlwZSkge1xuXHQgICAgICAgICAgICB0aGlzLl9fZmx1ZW50JGJhc2VfXyA9IGJhc2VUeXBlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIC8qKlxuXHQgICAgICogUmV0dXJucyBhIEZsdWVudEFzc2lnbkZhY3Rvcnk8Rmx1ZW50QXNzaWduPFQ+PiByZWFkeSB0byBkZWZpbmUgYSBGbHVlbnRBc3NpZ24gdHlwZS5cblx0ICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWVzIEFuIG9iamVjdCByZXByZXNlbnRpbmcgZGVmYXVsdCB2YWx1ZXMgZm9yIHRoZSBpbnN0YW5jZS5cblx0ICAgICAqIEBwYXJhbSBpbml0aWFsU2V0dGVycyBBIGxpc3Qgb2YgaW5pdGlhbCBzZXR0ZXJzIGZvciB0aGUgaW5zdGFuY2UuXG5cdCAgICAgKiBAcmV0dXJucyB7Rmx1ZW50QXNzaWduRmFjdG9yeTxUPn1cblx0ICAgICAqL1xuXHQgICAgRmx1ZW50QXNzaWduLmNvbXBvc2UgPSBmdW5jdGlvbiAoZGVmYXVsdFZhbHVlcywgaW5pdGlhbFNldHRlcnMpIHtcblx0ICAgICAgICBpZiAoZGVmYXVsdFZhbHVlcyA9PT0gdm9pZCAwKSB7IGRlZmF1bHRWYWx1ZXMgPSB1bmRlZmluZWQ7IH1cblx0ICAgICAgICBpZiAoaW5pdGlhbFNldHRlcnMgPT09IHZvaWQgMCkgeyBpbml0aWFsU2V0dGVycyA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIHJldHVybiBGbHVlbnRBc3NpZ24uY29tcG9zZVdpdGgobmV3IEZsdWVudEFzc2lnbihkZWZhdWx0VmFsdWVzLCBpbml0aWFsU2V0dGVycykpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogUmV0dXJucyBhIEZsdWVudEFzc2lnbkZhY3Rvcnk8Wj4gd2hlcmUgWiBpcyBhbiBpbnN0YW5jZSBvZiBGbHVlbnRBc3NpZ248Pz4gb3IgYSBkZXJpdmVkXG5cdCAgICAgKiBjbGFzcyBvZiBpdC5cblx0ICAgICAqIEBwYXJhbSBmbHVlbnRBc3NpZ24gQW4gaW5zdGFuY2Ugb2YgRmx1ZW50QXNzaWduPD8+IG9yIGEgZGVyaXZlZCBjbGFzcyBvZiBGbHVlbnRBc3NpZ248Pz4uXG5cdCAgICAgKiBAcmV0dXJucyB7YW55fVxuXHQgICAgICovXG5cdCAgICBGbHVlbnRBc3NpZ24uY29tcG9zZVdpdGggPSBmdW5jdGlvbiAoZmx1ZW50QXNzaWduKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBGbHVlbnRBc3NpZ25GYWN0b3J5KGZsdWVudEFzc2lnbik7XG5cdCAgICB9O1xuXHQgICAgRmx1ZW50QXNzaWduLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICByZXR1cm4gZ2V0QXNzaWduZWRQcm9wZXJ0eU5hbWVzKHRoaXMpXG5cdCAgICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgbmFtZSkge1xuXHQgICAgICAgICAgICB2YXIga2V5ID0gcHJpdmF0ZUtleShuYW1lKTtcblx0ICAgICAgICAgICAgLy8gcmUtZGVmaW5lIHByb3BlcnR5IGRlc2NyaXB0b3JzICh3ZSBkb250IHdhbnQgdGhlaXIgdmFsdWUpXG5cdCAgICAgICAgICAgIHZhciBwcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX3RoaXMsIGtleSk7XG5cdCAgICAgICAgICAgIGlmIChwcm9wRGVzYykge1xuXHQgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbmFtZSwgcHJvcERlc2MpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgb2JqW25hbWVdID0gX3RoaXNba2V5XTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gb2JqO1xuXHQgICAgICAgIH0sIHRoaXMuX19mbHVlbnQkYmFzZV9fID8gbmV3IHRoaXMuX19mbHVlbnQkYmFzZV9fKCkgOiB7fSk7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIEZsdWVudEFzc2lnbjtcblx0fSgpKTtcblx0ZXhwb3J0cy5GbHVlbnRBc3NpZ24gPSBGbHVlbnRBc3NpZ247XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMzgyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBTdWJqZWN0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0dmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cdC8qKlxuXHQgKiBBUEkgdG8gYW4gb3BlbiBtb2RhbCB3aW5kb3cuXG5cdCAqL1xuXHR2YXIgRGlhbG9nUmVmID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIERpYWxvZ1JlZihjb250ZXh0KSB7XG5cdCAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcblx0ICAgICAgICB0aGlzLl9yZXN1bHREZWZlcnJlZCA9IG5ldyB1dGlsc18xLlByb21pc2VDb21wbGV0ZXIoKTtcblx0ICAgICAgICB0aGlzLl9vbkRlc3Ryb3kgPSBuZXcgU3ViamVjdF8xLlN1YmplY3QoKTtcblx0ICAgICAgICB0aGlzLm9uRGVzdHJveSA9IHRoaXMuX29uRGVzdHJveS5hc09ic2VydmFibGUoKTtcblx0ICAgIH1cblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWFsb2dSZWYucHJvdG90eXBlLCBcInJlc3VsdFwiLCB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQSBQcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgb24gYSBjbG9zZSBldmVudCBhbmQgcmVqZWN0ZWQgb24gYSBkaXNtaXNzIGV2ZW50LlxuXHQgICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFQ+fGFueXwqfFByb21pc2U8YW55Pn1cblx0ICAgICAgICAgKi9cblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdERlZmVycmVkLnByb21pc2U7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgICAvKipcblx0ICAgICAqICBDbG9zZSB0aGUgbW9kYWwgd2l0aCBhIHJldHVybiB2YWx1ZSwgaS5lOiByZXN1bHQuXG5cdCAgICAgKi9cblx0ICAgIERpYWxvZ1JlZi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHsgcmVzdWx0ID0gbnVsbDsgfVxuXHQgICAgICAgIHZhciBfY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIF90aGlzLmRlc3Ryb3koKTtcblx0ICAgICAgICAgICAgX3RoaXMuX3Jlc3VsdERlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHRoaXMuX2ZpcmVIb29rKCdiZWZvcmVDbG9zZScpXG5cdCAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgIT09IHRydWUgJiYgX2Nsb3NlKCk7IH0pXG5cdCAgICAgICAgICAgIC5jYXRjaChfY2xvc2UpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogIENsb3NlIHRoZSBtb2RhbCB3aXRob3V0IGEgcmV0dXJuIHZhbHVlLCBpLmU6IGNhbmNlbGxlZC5cblx0ICAgICAqICBUaGlzIGNhbGwgaXMgYXV0b21hdGljYWxseSBpbnZva2VkIHdoZW4gYSB1c2VyIGVpdGhlcjpcblx0ICAgICAqICAtIFByZXNzZXMgYW4gZXhpdCBrZXlib2FyZCBrZXkgKGlmIGNvbmZpZ3VyZWQpLlxuXHQgICAgICogIC0gQ2xpY2tzIG91dHNpZGUgb2YgdGhlIG1vZGFsIHdpbmRvdyAoaWYgY29uZmlndXJlZCkuXG5cdCAgICAgKiAgVXN1YWxseSwgZGlzbWlzcyByZXByZXNlbnQgYSBDYW5jZWwgYnV0dG9uIG9yIGEgWCBidXR0b24uXG5cdCAgICAgKi9cblx0ICAgIERpYWxvZ1JlZi5wcm90b3R5cGUuZGlzbWlzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIHZhciBfZGlzbWlzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgX3RoaXMuZGVzdHJveSgpO1xuXHQgICAgICAgICAgICBfdGhpcy5fcmVzdWx0RGVmZXJyZWQucmVqZWN0KCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB0aGlzLl9maXJlSG9vaygnYmVmb3JlRGlzbWlzcycpXG5cdCAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgIT09IHRydWUgJiYgX2Rpc21pc3MoKTsgfSlcblx0ICAgICAgICAgICAgLmNhdGNoKF9kaXNtaXNzKTtcblx0ICAgIH07XG5cdCAgICBEaWFsb2dSZWYucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdGhpcy5fb25EZXN0cm95Lm5leHQobnVsbCk7XG5cdCAgICAgICAgdGhpcy5fb25EZXN0cm95LmNvbXBsZXRlKCk7XG5cdCAgICB9O1xuXHQgICAgRGlhbG9nUmVmLnByb3RvdHlwZS5fZmlyZUhvb2sgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuY29udGVudFJlZiAmJiB0aGlzLmNvbnRlbnRSZWYuaW5zdGFuY2UsIGZuID0gaW5zdGFuY2UgJiYgdHlwZW9mIGluc3RhbmNlW25hbWVdID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlW25hbWVdO1xuXHQgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZm4gPyBmbi5jYWxsKGluc3RhbmNlKSA6IGZhbHNlKTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gRGlhbG9nUmVmO1xuXHR9KCkpO1xuXHRleHBvcnRzLkRpYWxvZ1JlZiA9IERpYWxvZ1JlZjtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzODM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuXHQgICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG5cdCAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cblx0ICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcblx0fTtcblx0dmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG5cdCAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0dmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG5cdH07XG5cdHZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgZmx1ZW50X2Fzc2lnbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODEpO1xuXHR2YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTE4KTtcblx0ZXhwb3J0cy5ERUZBVUxUX1ZBTFVFUyA9IHtcblx0ICAgIGlzQmxvY2tpbmc6IHRydWUsXG5cdCAgICBrZXlib2FyZDogWzI3XSxcblx0ICAgIHN1cHBvcnRzS2V5OiBmdW5jdGlvbiBzdXBwb3J0c0tleShrZXlDb2RlKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMua2V5Ym9hcmQuaW5kZXhPZihrZXlDb2RlKSA+IC0xO1xuXHQgICAgfVxuXHR9O1xuXHR2YXIgREVGQVVMVF9TRVRURVJTID0gW1xuXHQgICAgJ2lzQmxvY2tpbmcnLFxuXHQgICAgJ2tleWJvYXJkJyxcblx0ICAgICdtZXNzYWdlJ1xuXHRdO1xuXHR2YXIgTW9kYWxDb250ZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIE1vZGFsQ29udGV4dCgpIHtcblx0ICAgIH1cblx0ICAgIE1vZGFsQ29udGV4dC5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmICh0aGlzLmlzQmxvY2tpbmcgIT09IGZhbHNlKVxuXHQgICAgICAgICAgICB0aGlzLmlzQmxvY2tpbmcgPSB0cnVlO1xuXHQgICAgICAgIGlmICh0aGlzLmtleWJvYXJkID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQgPSBbXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRoaXMua2V5Ym9hcmQgPT09ICdudW1iZXInKSB7XG5cdCAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQgPSBbdGhpcy5rZXlib2FyZF07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMua2V5Ym9hcmQpKSB7XG5cdCAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQgPSBleHBvcnRzLkRFRkFVTFRfVkFMVUVTLmtleWJvYXJkO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdCAgICByZXR1cm4gTW9kYWxDb250ZXh0O1xuXHR9KCkpO1xuXHRleHBvcnRzLk1vZGFsQ29udGV4dCA9IE1vZGFsQ29udGV4dDtcblx0LyoqXG5cdCAqIEEgY29yZSBjb250ZXh0IGJ1aWxkZXIgZm9yIGEgbW9kYWwgd2luZG93IGluc3RhbmNlLCB1c2VkIHRvIGRlZmluZSB0aGUgY29udGV4dCB1cG9uXG5cdCAqIGEgbW9kYWwgY2hvb3NlIGl0J3MgYmVoYXZpb3VyLlxuXHQgKi9cblx0dmFyIE1vZGFsQ29udGV4dEJ1aWxkZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuXHQgICAgX19leHRlbmRzKE1vZGFsQ29udGV4dEJ1aWxkZXIsIF9zdXBlcik7XG5cdCAgICBmdW5jdGlvbiBNb2RhbENvbnRleHRCdWlsZGVyKGRlZmF1bHRWYWx1ZXMsIGluaXRpYWxTZXR0ZXJzLCBiYXNlVHlwZSkge1xuXHQgICAgICAgIGlmIChkZWZhdWx0VmFsdWVzID09PSB2b2lkIDApIHsgZGVmYXVsdFZhbHVlcyA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIGlmIChpbml0aWFsU2V0dGVycyA9PT0gdm9pZCAwKSB7IGluaXRpYWxTZXR0ZXJzID0gdW5kZWZpbmVkOyB9XG5cdCAgICAgICAgaWYgKGJhc2VUeXBlID09PSB2b2lkIDApIHsgYmFzZVR5cGUgPSB1bmRlZmluZWQ7IH1cblx0ICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB1dGlsc18xLmV4dGVuZChleHBvcnRzLkRFRkFVTFRfVkFMVUVTLCBkZWZhdWx0VmFsdWVzIHx8IHt9KSwgdXRpbHNfMS5hcnJheVVuaW9uKERFRkFVTFRfU0VUVEVSUywgaW5pdGlhbFNldHRlcnMgfHwgW10pLCBiYXNlVHlwZSk7XG5cdCAgICB9XG5cdCAgICBNb2RhbENvbnRleHRCdWlsZGVyID0gX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLkluamVjdGFibGUoKSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbT2JqZWN0LCBBcnJheSwgRnVuY3Rpb25dKVxuXHQgICAgXSwgTW9kYWxDb250ZXh0QnVpbGRlcik7XG5cdCAgICByZXR1cm4gTW9kYWxDb250ZXh0QnVpbGRlcjtcblx0fShmbHVlbnRfYXNzaWduXzEuRmx1ZW50QXNzaWduKSk7XG5cdGV4cG9ydHMuTW9kYWxDb250ZXh0QnVpbGRlciA9IE1vZGFsQ29udGV4dEJ1aWxkZXI7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMzg0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xuXHR9O1xuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIGFuZ3VsYXIyX21vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgZGlhbG9nUmVmQ291bnQgPSAwO1xuXHQvKipcblx0ICogUmVwcmVzZW50cyB0aGUgbW9kYWwgYmFja2Ryb3AuXG5cdCAqL1xuXHR2YXIgQlNNb2RhbEJhY2tkcm9wID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEJTTW9kYWxCYWNrZHJvcChkaWFsb2cpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIHRoaXMuZmFkZVN0YXRlID0gJ2luJztcblx0ICAgICAgICB0aGlzLmhzID0geyBwczogbnVsbCwgc3o6IG51bGwsIHB0OiBudWxsIH07XG5cdCAgICAgICAgZGlhbG9nUmVmQ291bnQrKztcblx0ICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsLW9wZW4nKTtcblx0ICAgICAgICBpZiAoZGlhbG9nLmluRWxlbWVudCkge1xuXHQgICAgICAgICAgICB0aGlzLmhzLnBzID0gJ2Fic29sdXRlJztcblx0ICAgICAgICAgICAgdGhpcy5ocy5zeiA9ICcxMDAlJztcblx0ICAgICAgICAgICAgdGhpcy5ocy5wdCA9ICcwJztcblx0ICAgICAgICB9XG5cdCAgICAgICAgZGlhbG9nLm9uRGVzdHJveS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZmFkZVN0YXRlID0gJ291dCc7IH0pO1xuXHQgICAgfVxuXHQgICAgLyoqXG5cdCAgICAgKiBUZW1wIHdvcmthcm91bmQgZm9yIGFuaW1hdGlvbiB3aGVyZSBkZXN0cnVjdGlvbiBvZiB0aGUgdG9wIGxldmVsIGNvbXBvbmVudCBkb2VzIG5vdFxuXHQgICAgICogdHJpZ2dlciBjaGlsZCBhbmltYXRpb25zLiBTb2x1dGlvbiBzaG91bGQgYmUgZm91bmQgZWl0aGVyIGluIGFuaW1hdGlvbiBtb2R1bGUgb3IgaW4gZGVzaWduXG5cdCAgICAgKiBvZiB0aGUgbW9kYWwgY29tcG9uZW50IHRyZWUuXG5cdCAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cblx0ICAgICAqL1xuXHQgICAgQlNNb2RhbEJhY2tkcm9wLnByb3RvdHlwZS5jYW5EZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHQgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoKTsgfSwgMzEwKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdCAgICBCU01vZGFsQmFja2Ryb3AucHJvdG90eXBlLm5nT25EZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmICgtLWRpYWxvZ1JlZkNvdW50ID09PSAwKSB7XG5cdCAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3BlbicpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdCAgICBCU01vZGFsQmFja2Ryb3AgPSBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcblx0ICAgICAgICAgICAgc2VsZWN0b3I6ICdtb2RhbC1iYWNrZHJvcCcsXG5cdCAgICAgICAgICAgIGhvc3Q6IHtcblx0ICAgICAgICAgICAgICAgICdbc3R5bGUucG9zaXRpb25dJzogJ2hzLnBzJyxcblx0ICAgICAgICAgICAgICAgICdbc3R5bGUuaGVpZ2h0XSc6ICdocy5zeicsXG5cdCAgICAgICAgICAgICAgICAnW3N0eWxlLndpZHRoXSc6ICdocy5zeicsXG5cdCAgICAgICAgICAgICAgICAnW3N0eWxlLnRvcF0nOiAnaHMucHQnLFxuXHQgICAgICAgICAgICAgICAgJ1tzdHlsZS5sZWZ0XSc6ICdocy5wdCcsXG5cdCAgICAgICAgICAgICAgICAnW3N0eWxlLnJpZ2h0XSc6ICdocy5wdCcsXG5cdCAgICAgICAgICAgICAgICAnW3N0eWxlLmJvdHRvbV0nOiAnaHMucHQnXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGFuaW1hdGlvbnM6IFtcblx0ICAgICAgICAgICAgICAgIGNvcmVfMS50cmlnZ2VyKCdmYWRlJywgW1xuXHQgICAgICAgICAgICAgICAgICAgIGNvcmVfMS50cmFuc2l0aW9uKCd2b2lkID0+IGluJywgW1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuYW5pbWF0ZSgnMTUwbXMgbGluZWFyJywgY29yZV8xLmtleWZyYW1lcyhbXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuc3R5bGUoeyBvcGFjaXR5OiAwIH0pLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZV8xLnN0eWxlKHsgb3BhY2l0eTogMC41IH0pXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF0pKVxuXHQgICAgICAgICAgICAgICAgICAgIF0pLFxuXHQgICAgICAgICAgICAgICAgICAgIGNvcmVfMS5zdGF0ZSgnb3V0JywgY29yZV8xLnN0eWxlKHsgb3BhY2l0eTogMCB9KSksXG5cdCAgICAgICAgICAgICAgICAgICAgY29yZV8xLnRyYW5zaXRpb24oJyogPT4gb3V0JywgW1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuYW5pbWF0ZSgnMTUwbXMgbGluZWFyJywgY29yZV8xLmtleWZyYW1lcyhbXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuc3R5bGUoeyBvcGFjaXR5OiAwLjUgfSksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuc3R5bGUoeyBvcGFjaXR5OiAwLjUgfSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXSkpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuYW5pbWF0ZSgnMTUwbXMgbGluZWFyJywgY29yZV8xLmtleWZyYW1lcyhbXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuc3R5bGUoeyBvcGFjaXR5OiAwLjUgfSksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuc3R5bGUoeyBvcGFjaXR5OiAwIH0pLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBdKSlcblx0ICAgICAgICAgICAgICAgICAgICBdKVxuXHQgICAgICAgICAgICAgICAgXSlcblx0ICAgICAgICAgICAgXSxcblx0ICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogY29yZV8xLlZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG5cdCAgICAgICAgICAgIHRlbXBsYXRlOiBcIjxkaXYgW3N0eWxlLnBvc2l0aW9uXT1cXFwiaHMucHNcXFwiIGNsYXNzPVxcXCJtb2RhbC1iYWNrZHJvcCBpblxcXCIgW0BmYWRlXT1cXFwiZmFkZVN0YXRlXFxcIj48L2Rpdj5cXG48bW9kYWwtY29udGFpbmVyPjwvbW9kYWwtY29udGFpbmVyPlwiXG5cdCAgICAgICAgfSksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgWyh0eXBlb2YgKF9hID0gdHlwZW9mIGFuZ3VsYXIyX21vZGFsXzEuRGlhbG9nUmVmICE9PSAndW5kZWZpbmVkJyAmJiBhbmd1bGFyMl9tb2RhbF8xLkRpYWxvZ1JlZikgPT09ICdmdW5jdGlvbicgJiYgX2EpIHx8IE9iamVjdF0pXG5cdCAgICBdLCBCU01vZGFsQmFja2Ryb3ApO1xuXHQgICAgcmV0dXJuIEJTTW9kYWxCYWNrZHJvcDtcblx0ICAgIHZhciBfYTtcblx0fSgpKTtcblx0ZXhwb3J0cy5CU01vZGFsQmFja2Ryb3AgPSBCU01vZGFsQmFja2Ryb3A7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMzg1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xuXHR9O1xuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIGFuZ3VsYXIyX21vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQyKTtcblx0LyoqXG5cdCAqIEEgY29tcG9uZW50IHRoYXQgYWN0cyBhcyBhIHRvcCBsZXZlbCBjb250YWluZXIgZm9yIGFuIG9wZW4gbW9kYWwgd2luZG93LlxuXHQgKi9cblx0dmFyIEJTTW9kYWxDb250YWluZXIgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gQlNNb2RhbENvbnRhaW5lcihkaWFsb2csIGVsLCBfY29tcGlsZUNvbmZpZywgX21vZGFsLCBfY3IpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIHRoaXMuZGlhbG9nID0gZGlhbG9nO1xuXHQgICAgICAgIHRoaXMuZWwgPSBlbDtcblx0ICAgICAgICB0aGlzLl9jb21waWxlQ29uZmlnID0gX2NvbXBpbGVDb25maWc7XG5cdCAgICAgICAgdGhpcy5fbW9kYWwgPSBfbW9kYWw7XG5cdCAgICAgICAgdGhpcy5fY3IgPSBfY3I7XG5cdCAgICAgICAgdGhpcy5mYWRlU3RhdGUgPSAnaW4nO1xuXHQgICAgICAgIGlmICghZGlhbG9nLmluRWxlbWVudCkge1xuXHQgICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBkaWFsb2cub25EZXN0cm95LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5mYWRlU3RhdGUgPSAnb3V0JzsgfSk7XG5cdCAgICB9XG5cdCAgICBCU01vZGFsQ29udGFpbmVyLnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICBpZiAodGhpcy5lbC5uYXRpdmVFbGVtZW50KSB7XG5cdCAgICAgICAgICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudC5mb2N1cygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvKiAgVE9ETzpcblx0ICAgICAgICAgICAgSW4gUkM1IGR5bmFtaWMgY29tcG9uZW50IGNyZWF0aW9uIGlzIG5vIGxvbmdlciBhc3luYy5cblx0ICAgICAgICAgICAgU29tZXdoZXJlIGRvd24gdGhlIHBpcGUgb2YgdGhlIGNyZWF0ZWQgY29tcG9uZW50IGEgdmFsdWUgY2hhbmdlIGhhcHBlbnMgdGhhdCBmaXJlc1xuXHQgICAgICAgICAgICBhIENEIGV4Y2VwdGlvbi4gc2V0VGltZW91dCBpcyBhIHdvcmthcm91bmQgdGhhdCBtaW1pY3MgdGhlIGFzeW5jIGJlaGF2aW9yLlxuXHQgICAgICAgICAgICBGaW5kIG91dCB0aGUgZXJyb3IgYW5kIHJlbW92ZSBzZXRUaW1lb3V0LlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpcy5kaWFsb2cuY29udGVudFJlZiA9IGFuZ3VsYXIyX21vZGFsXzEuY3JlYXRlQ29tcG9uZW50KF90aGlzLl9jciwgX3RoaXMuX2NvbXBpbGVDb25maWcuY29tcG9uZW50LCBfdGhpcy5fdmlld0NvbnRhaW5lciwgX3RoaXMuX2NvbXBpbGVDb25maWcuYmluZGluZ3MpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIEJTTW9kYWxDb250YWluZXIucHJvdG90eXBlLm9uQ2xpY2tPdXRzaWRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmICh0aGlzLl9tb2RhbC5pc1RvcE1vc3QodGhpcy5kaWFsb2cpICYmICF0aGlzLmRpYWxvZy5jb250ZXh0LmlzQmxvY2tpbmcpXG5cdCAgICAgICAgICAgIHRoaXMuZGlhbG9nLmRpc21pc3MoKTtcblx0ICAgIH07XG5cdCAgICBCU01vZGFsQ29udGFpbmVyLnByb3RvdHlwZS5kb2N1bWVudEtleXByZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgLy8gY2hlY2sgdGhhdCB0aGlzIG1vZGFsIGlzIHRoZSBsYXN0IGluIHRoZSBzdGFjay5cblx0ICAgICAgICBpZiAoIXRoaXMuX21vZGFsLmlzVG9wTW9zdCh0aGlzLmRpYWxvZykpXG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICBpZiAoYW5ndWxhcjJfbW9kYWxfMS5zdXBwb3J0c0tleShldmVudC5rZXlDb2RlLCB0aGlzLmRpYWxvZy5jb250ZXh0LmtleWJvYXJkKSkge1xuXHQgICAgICAgICAgICB0aGlzLmRpYWxvZy5kaXNtaXNzKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0ICAgIF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5WaWV3Q2hpbGQoJ21vZGFsRGlhbG9nJywgeyByZWFkOiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCAodHlwZW9mIChfYSA9IHR5cGVvZiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLlZpZXdDb250YWluZXJSZWYpID09PSAnZnVuY3Rpb24nICYmIF9hKSB8fCBPYmplY3QpXG5cdCAgICBdLCBCU01vZGFsQ29udGFpbmVyLnByb3RvdHlwZSwgXCJfdmlld0NvbnRhaW5lclwiLCB2b2lkIDApO1xuXHQgICAgQlNNb2RhbENvbnRhaW5lciA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5Db21wb25lbnQoe1xuXHQgICAgICAgICAgICBzZWxlY3RvcjogJ21vZGFsLWNvbnRhaW5lcicsXG5cdCAgICAgICAgICAgIGhvc3Q6IHtcblx0ICAgICAgICAgICAgICAgICd0YWJpbmRleCc6ICctMScsXG5cdCAgICAgICAgICAgICAgICAncm9sZSc6ICdkaWFsb2cnLFxuXHQgICAgICAgICAgICAgICAgJ2NsYXNzJzogJ21vZGFsJyxcblx0ICAgICAgICAgICAgICAgICdzdHlsZSc6ICdkaXNwbGF5OiBibG9jaycsXG5cdCAgICAgICAgICAgICAgICAnW3N0eWxlLnBvc2l0aW9uXSc6ICdwb3NpdGlvbicsXG5cdCAgICAgICAgICAgICAgICAnKGJvZHk6a2V5ZG93biknOiAnZG9jdW1lbnRLZXlwcmVzcygkZXZlbnQpJ1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBhbmltYXRpb25zOiBbXG5cdCAgICAgICAgICAgICAgICBjb3JlXzEudHJpZ2dlcignZmFkZScsIFtcblx0ICAgICAgICAgICAgICAgICAgICBjb3JlXzEudHJhbnNpdGlvbigndm9pZCA9PiBpbicsIFtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29yZV8xLmFuaW1hdGUoJzEwMG1zIGxpbmVhcicsIGNvcmVfMS5rZXlmcmFtZXMoW1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZV8xLnN0eWxlKHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsIC0yNSUpJyB9KSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVfMS5zdHlsZSh7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAtMjUlKScgfSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXSkpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuYW5pbWF0ZSgnMzAwbXMgbGluZWFyJywgY29yZV8xLmtleWZyYW1lcyhbXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuc3R5bGUoeyBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCwgLTI1JSknLCBvZmZzZXQ6IDAgfSksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlXzEuc3R5bGUoeyBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCwgLTEyLjUlKScsIG9mZnNldDogMC41IH0pLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZV8xLnN0eWxlKHsgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsIDApJywgb2Zmc2V0OiAxIH0pXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF0pKVxuXHQgICAgICAgICAgICAgICAgICAgIF0pLFxuXHQgICAgICAgICAgICAgICAgICAgIGNvcmVfMS5zdGF0ZSgnb3V0JywgY29yZV8xLnN0eWxlKHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsIC0yNSUpJyB9KSksXG5cdCAgICAgICAgICAgICAgICAgICAgY29yZV8xLnRyYW5zaXRpb24oJ2luID0+IG91dCcsIFtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29yZV8xLmFuaW1hdGUoJzE1MG1zIGxpbmVhcicsIGNvcmVfMS5rZXlmcmFtZXMoW1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZV8xLnN0eWxlKHsgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsIDApJyB9KSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVfMS5zdHlsZSh7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAtMTIuNSUpJyB9KSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXSkpXG5cdCAgICAgICAgICAgICAgICAgICAgXSlcblx0ICAgICAgICAgICAgICAgIF0pXG5cdCAgICAgICAgICAgIF0sXG5cdCAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGNvcmVfMS5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuXHQgICAgICAgICAgICAvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuXHQgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IFtuZ0NsYXNzXT1cXFwiZGlhbG9nLmNvbnRleHQuZGlhbG9nQ2xhc3NcXFwiIFxcbiAgICAgICAgICBbY2xhc3MubW9kYWwtbGddPVxcXCJkaWFsb2cuY29udGV4dC5zaXplID09ICdsZydcXFwiXFxuICAgICAgICAgIFtjbGFzcy5tb2RhbC1zbV09XFxcImRpYWxvZy5jb250ZXh0LnNpemUgPT0gJ3NtJ1xcXCJcXG4gICAgICAgICAgW0BmYWRlXT1cXFwiZmFkZVN0YXRlXFxcIj5cXG4gICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1jb250ZW50XFxcIiAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICBzdHlsZT1cXFwiZGlzcGxheTpibG9ja1xcXCIgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgcm9sZT1cXFwiZG9jdW1lbnRcXFwiXFxuICAgICAgICAgICAgICAoY2xpY2tPdXRzaWRlKT1cXFwib25DbGlja091dHNpZGUoKVxcXCI+XFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZVxcXCIgI21vZGFsRGlhbG9nPjwvZGl2PlxcbiAgICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cIlxuXHQgICAgICAgIH0pLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFsodHlwZW9mIChfYiA9IHR5cGVvZiBhbmd1bGFyMl9tb2RhbF8xLkRpYWxvZ1JlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgYW5ndWxhcjJfbW9kYWxfMS5EaWFsb2dSZWYpID09PSAnZnVuY3Rpb24nICYmIF9iKSB8fCBPYmplY3QsICh0eXBlb2YgKF9jID0gdHlwZW9mIGNvcmVfMS5FbGVtZW50UmVmICE9PSAndW5kZWZpbmVkJyAmJiBjb3JlXzEuRWxlbWVudFJlZikgPT09ICdmdW5jdGlvbicgJiYgX2MpIHx8IE9iamVjdCwgKHR5cGVvZiAoX2QgPSB0eXBlb2YgYW5ndWxhcjJfbW9kYWxfMS5Nb2RhbENvbXBpbGVDb25maWcgIT09ICd1bmRlZmluZWQnICYmIGFuZ3VsYXIyX21vZGFsXzEuTW9kYWxDb21waWxlQ29uZmlnKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfZCkgfHwgT2JqZWN0LCAodHlwZW9mIChfZSA9IHR5cGVvZiBtb2RhbF8xLk1vZGFsICE9PSAndW5kZWZpbmVkJyAmJiBtb2RhbF8xLk1vZGFsKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfZSkgfHwgT2JqZWN0LCAodHlwZW9mIChfZiA9IHR5cGVvZiBjb3JlXzEuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyICE9PSAndW5kZWZpbmVkJyAmJiBjb3JlXzEuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfZikgfHwgT2JqZWN0XSlcblx0ICAgIF0sIEJTTW9kYWxDb250YWluZXIpO1xuXHQgICAgcmV0dXJuIEJTTW9kYWxDb250YWluZXI7XG5cdCAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcblx0fSgpKTtcblx0ZXhwb3J0cy5CU01vZGFsQ29udGFpbmVyID0gQlNNb2RhbENvbnRhaW5lcjtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzODY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuXHQgICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG5cdCAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cblx0ICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcblx0fTtcblx0dmFyIGFuZ3VsYXIyX21vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgREVGQVVMVF9WQUxVRVMgPSB7XG5cdCAgICBkaWFsb2dDbGFzczogJ21vZGFsLWRpYWxvZycsXG5cdCAgICBzaG93Q2xvc2U6IGZhbHNlXG5cdH07XG5cdHZhciBERUZBVUxUX1NFVFRFUlMgPSBbXG5cdCAgICAnZGlhbG9nQ2xhc3MnLFxuXHQgICAgJ3NpemUnLFxuXHQgICAgJ3Nob3dDbG9zZSdcblx0XTtcblx0dmFyIEJTTW9kYWxDb250ZXh0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcblx0ICAgIF9fZXh0ZW5kcyhCU01vZGFsQ29udGV4dCwgX3N1cGVyKTtcblx0ICAgIGZ1bmN0aW9uIEJTTW9kYWxDb250ZXh0KCkge1xuXHQgICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfVxuXHQgICAgQlNNb2RhbENvbnRleHQucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoIXRoaXMuZGlhbG9nQ2xhc3MpIHtcblx0ICAgICAgICAgICAgdGhpcy5kaWFsb2dDbGFzcyA9IERFRkFVTFRfVkFMVUVTLmRpYWxvZ0NsYXNzO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBfc3VwZXIucHJvdG90eXBlLm5vcm1hbGl6ZS5jYWxsKHRoaXMpO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBCU01vZGFsQ29udGV4dDtcblx0fShhbmd1bGFyMl9tb2RhbF8xLk1vZGFsT3BlbkNvbnRleHQpKTtcblx0ZXhwb3J0cy5CU01vZGFsQ29udGV4dCA9IEJTTW9kYWxDb250ZXh0O1xuXHR2YXIgQlNNb2RhbENvbnRleHRCdWlsZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcblx0ICAgIF9fZXh0ZW5kcyhCU01vZGFsQ29udGV4dEJ1aWxkZXIsIF9zdXBlcik7XG5cdCAgICBmdW5jdGlvbiBCU01vZGFsQ29udGV4dEJ1aWxkZXIoZGVmYXVsdFZhbHVlcywgaW5pdGlhbFNldHRlcnMsIGJhc2VUeXBlKSB7XG5cdCAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZXMgPT09IHZvaWQgMCkgeyBkZWZhdWx0VmFsdWVzID0gdW5kZWZpbmVkOyB9XG5cdCAgICAgICAgaWYgKGluaXRpYWxTZXR0ZXJzID09PSB2b2lkIDApIHsgaW5pdGlhbFNldHRlcnMgPSB1bmRlZmluZWQ7IH1cblx0ICAgICAgICBpZiAoYmFzZVR5cGUgPT09IHZvaWQgMCkgeyBiYXNlVHlwZSA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGFuZ3VsYXIyX21vZGFsXzEuZXh0ZW5kKERFRkFVTFRfVkFMVUVTLCBkZWZhdWx0VmFsdWVzIHx8IHt9KSwgYW5ndWxhcjJfbW9kYWxfMS5hcnJheVVuaW9uKERFRkFVTFRfU0VUVEVSUywgaW5pdGlhbFNldHRlcnMgfHwgW10pLCBiYXNlVHlwZSB8fCBCU01vZGFsQ29udGV4dCAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzcyMzRcblx0ICAgICAgICApO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIEJTTW9kYWxDb250ZXh0QnVpbGRlcjtcblx0fShhbmd1bGFyMl9tb2RhbF8xLk1vZGFsT3BlbkNvbnRleHRCdWlsZGVyKSk7XG5cdGV4cG9ydHMuQlNNb2RhbENvbnRleHRCdWlsZGVyID0gQlNNb2RhbENvbnRleHRCdWlsZGVyO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDM4Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdC8qKlxuXHQgKiBSZXByZXNlbnRzIHRoZSBtb2RhbCBmb290ZXIgZm9yIHN0b3JpbmcgYnV0dG9ucy5cblx0ICovXG5cdHZhciBCU01vZGFsRm9vdGVyID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEJTTW9kYWxGb290ZXIoKSB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogRW1pdHRlZCB3aGVuIGEgYnV0dG9uIHdhcyBjbGlja2VkXG5cdCAgICAgICAgICogQHR5cGUge0V2ZW50RW1pdHRlcjxGb290ZXJCdXR0b25DbGlja0V2ZW50Pn1cblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0aGlzLm9uQnV0dG9uQ2xpY2sgPSBuZXcgY29yZV8xLkV2ZW50RW1pdHRlcigpO1xuXHQgICAgfVxuXHQgICAgQlNNb2RhbEZvb3Rlci5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIChidG4sICRldmVudCkge1xuXHQgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICB0aGlzLm9uQnV0dG9uQ2xpY2suZW1pdCh7IGJ0bjogYnRuLCAkZXZlbnQ6ICRldmVudCB9KTtcblx0ICAgIH07XG5cdCAgICBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuSW5wdXQoKSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCBTdHJpbmcpXG5cdCAgICBdLCBCU01vZGFsRm9vdGVyLnByb3RvdHlwZSwgXCJmb290ZXJDbGFzc1wiLCB2b2lkIDApO1xuXHQgICAgX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLklucHV0KCksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgQXJyYXkpXG5cdCAgICBdLCBCU01vZGFsRm9vdGVyLnByb3RvdHlwZSwgXCJidXR0b25zXCIsIHZvaWQgMCk7XG5cdCAgICBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuT3V0cHV0KCksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgT2JqZWN0KVxuXHQgICAgXSwgQlNNb2RhbEZvb3Rlci5wcm90b3R5cGUsIFwib25CdXR0b25DbGlja1wiLCB2b2lkIDApO1xuXHQgICAgQlNNb2RhbEZvb3RlciA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5Db21wb25lbnQoe1xuXHQgICAgICAgICAgICBzZWxlY3RvcjogJ21vZGFsLWZvb3RlcicsXG5cdCAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGNvcmVfMS5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuXHQgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IFtuZ0NsYXNzXT1cXFwiZm9vdGVyQ2xhc3NcXFwiPlxcbiAgICA8YnV0dG9uICpuZ0Zvcj1cXFwibGV0IGJ0biBvZiBidXR0b25zO1xcXCJcXG4gICAgICAgICAgICBbbmdDbGFzc109XFxcImJ0bi5jc3NDbGFzc1xcXCJcXG4gICAgICAgICAgICAoY2xpY2spPVxcXCJvbkNsaWNrKGJ0biwgJGV2ZW50KVxcXCI+e3tidG4uY2FwdGlvbn19PC9idXR0b24+XFxuPC9kaXY+XCJcblx0ICAgICAgICB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbXSlcblx0ICAgIF0sIEJTTW9kYWxGb290ZXIpO1xuXHQgICAgcmV0dXJuIEJTTW9kYWxGb290ZXI7XG5cdH0oKSk7XG5cdGV4cG9ydHMuQlNNb2RhbEZvb3RlciA9IEJTTW9kYWxGb290ZXI7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMzg4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcblx0ICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuXHQgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG5cdCAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG5cdH07XG5cdHZhciBhbmd1bGFyMl9tb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIG1lc3NhZ2VfbW9kYWxfcHJlc2V0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0Myk7XG5cdC8qKlxuXHQgKiBBIFByZXNldCBmb3IgYSBjbGFzc2ljIDEgYnV0dG9uIG1vZGFsIHdpbmRvdy5cblx0ICovXG5cdHZhciBPbmVCdXR0b25QcmVzZXRCdWlsZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcblx0ICAgIF9fZXh0ZW5kcyhPbmVCdXR0b25QcmVzZXRCdWlsZGVyLCBfc3VwZXIpO1xuXHQgICAgZnVuY3Rpb24gT25lQnV0dG9uUHJlc2V0QnVpbGRlcihtb2RhbCwgZGVmYXVsdFZhbHVlcykge1xuXHQgICAgICAgIGlmIChkZWZhdWx0VmFsdWVzID09PSB2b2lkIDApIHsgZGVmYXVsdFZhbHVlcyA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGFuZ3VsYXIyX21vZGFsXzEuZXh0ZW5kKHtcblx0ICAgICAgICAgICAgbW9kYWw6IG1vZGFsLFxuXHQgICAgICAgICAgICBva0J0bjogJ09LJyxcblx0ICAgICAgICAgICAgb2tCdG5DbGFzczogJ2J0biBidG4tcHJpbWFyeSdcblx0ICAgICAgICB9LCBkZWZhdWx0VmFsdWVzIHx8IHt9KSwgW1xuXHQgICAgICAgICAgICAnb2tCdG4nLFxuXHQgICAgICAgICAgICAnb2tCdG5DbGFzcydcblx0ICAgICAgICBdKTtcblx0ICAgIH1cblx0ICAgIE9uZUJ1dHRvblByZXNldEJ1aWxkZXIucHJvdG90eXBlLiQkYmVmb3JlT3BlbiA9IGZ1bmN0aW9uIChjb25maWcpIHtcblx0ICAgICAgICB0aGlzLmFkZEJ1dHRvbihjb25maWcub2tCdG5DbGFzcywgY29uZmlnLm9rQnRuLCBmdW5jdGlvbiAoY21wLCAkZXZlbnQpIHsgcmV0dXJuIGNtcC5kaWFsb2cuY2xvc2UodHJ1ZSk7IH0pO1xuXHQgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLiQkYmVmb3JlT3Blbi5jYWxsKHRoaXMsIGNvbmZpZyk7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIE9uZUJ1dHRvblByZXNldEJ1aWxkZXI7XG5cdH0obWVzc2FnZV9tb2RhbF9wcmVzZXRfMS5NZXNzYWdlTW9kYWxQcmVzZXRCdWlsZGVyKSk7XG5cdGV4cG9ydHMuT25lQnV0dG9uUHJlc2V0QnVpbGRlciA9IE9uZUJ1dHRvblByZXNldEJ1aWxkZXI7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMzg5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcblx0ICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuXHQgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG5cdCAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG5cdH07XG5cdHZhciBhbmd1bGFyMl9tb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIG1lc3NhZ2VfbW9kYWxfcHJlc2V0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0Myk7XG5cdC8qKlxuXHQgKiBBIFByZXNldCBmb3IgYSBjbGFzc2ljIDIgYnV0dG9uIG1vZGFsIHdpbmRvdy5cblx0ICovXG5cdHZhciBUd29CdXR0b25QcmVzZXRCdWlsZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcblx0ICAgIF9fZXh0ZW5kcyhUd29CdXR0b25QcmVzZXRCdWlsZGVyLCBfc3VwZXIpO1xuXHQgICAgZnVuY3Rpb24gVHdvQnV0dG9uUHJlc2V0QnVpbGRlcihtb2RhbCwgZGVmYXVsdFZhbHVlcykge1xuXHQgICAgICAgIGlmIChkZWZhdWx0VmFsdWVzID09PSB2b2lkIDApIHsgZGVmYXVsdFZhbHVlcyA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGFuZ3VsYXIyX21vZGFsXzEuZXh0ZW5kKHtcblx0ICAgICAgICAgICAgbW9kYWw6IG1vZGFsLFxuXHQgICAgICAgICAgICBva0J0bjogJ09LJyxcblx0ICAgICAgICAgICAgb2tCdG5DbGFzczogJ2J0biBidG4tcHJpbWFyeScsXG5cdCAgICAgICAgICAgIGNhbmNlbEJ0bjogJ0NhbmNlbCcsXG5cdCAgICAgICAgICAgIGNhbmNlbEJ0bkNsYXNzOiAnYnRuIGJ0bi1kZWZhdWx0J1xuXHQgICAgICAgIH0sIGRlZmF1bHRWYWx1ZXMgfHwge30pLCBbXG5cdCAgICAgICAgICAgICdva0J0bicsXG5cdCAgICAgICAgICAgICdva0J0bkNsYXNzJyxcblx0ICAgICAgICAgICAgJ2NhbmNlbEJ0bicsXG5cdCAgICAgICAgICAgICdjYW5jZWxCdG5DbGFzcydcblx0ICAgICAgICBdKTtcblx0ICAgIH1cblx0ICAgIFR3b0J1dHRvblByZXNldEJ1aWxkZXIucHJvdG90eXBlLiQkYmVmb3JlT3BlbiA9IGZ1bmN0aW9uIChjb25maWcpIHtcblx0ICAgICAgICB0aGlzLmFkZEJ1dHRvbihjb25maWcub2tCdG5DbGFzcywgY29uZmlnLm9rQnRuLCBmdW5jdGlvbiAoY21wLCAkZXZlbnQpIHsgcmV0dXJuIGNtcC5kaWFsb2cuY2xvc2UodHJ1ZSk7IH0pXG5cdCAgICAgICAgICAgIC5hZGRCdXR0b24oY29uZmlnLmNhbmNlbEJ0bkNsYXNzLCBjb25maWcuY2FuY2VsQnRuLCBmdW5jdGlvbiAoY21wLCAkZXZlbnQpIHsgcmV0dXJuIGNtcC5kaWFsb2cuZGlzbWlzcygpOyB9KTtcblx0ICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS4kJGJlZm9yZU9wZW4uY2FsbCh0aGlzLCBjb25maWcpO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBUd29CdXR0b25QcmVzZXRCdWlsZGVyO1xuXHR9KG1lc3NhZ2VfbW9kYWxfcHJlc2V0XzEuTWVzc2FnZU1vZGFsUHJlc2V0QnVpbGRlcikpO1xuXHRleHBvcnRzLlR3b0J1dHRvblByZXNldEJ1aWxkZXIgPSBUd29CdXR0b25QcmVzZXRCdWlsZGVyO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDM5MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBhbmd1bGFyMl9tb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIEpTTmF0aXZlTW9kYWxSZW5kZXJlciA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBKU05hdGl2ZU1vZGFsUmVuZGVyZXIoKSB7XG5cdCAgICB9XG5cdCAgICBKU05hdGl2ZU1vZGFsUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICh0eXBlLCB2aWV3Q29udGFpbmVyLCBiaW5kaW5ncywgZGlhbG9nKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdDtcblx0ICAgICAgICBzd2l0Y2ggKGRpYWxvZy5jb250ZXh0LmRpYWxvZ1R5cGUpIHtcblx0ICAgICAgICAgICAgY2FzZSBhbmd1bGFyMl9tb2RhbF8xLkRST1BfSU5fVFlQRS5hbGVydDpcblx0ICAgICAgICAgICAgICAgIHdpbmRvdy5hbGVydChkaWFsb2cuY29udGV4dC5tZXNzYWdlKTtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgY2FzZSBhbmd1bGFyMl9tb2RhbF8xLkRST1BfSU5fVFlQRS5wcm9tcHQ6XG5cdCAgICAgICAgICAgICAgICByZXN1bHQgPSB3aW5kb3cucHJvbXB0KGRpYWxvZy5jb250ZXh0Lm1lc3NhZ2UsIGRpYWxvZy5jb250ZXh0LnByb21wdERlZmF1bHQpO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIGNhc2UgYW5ndWxhcjJfbW9kYWxfMS5EUk9QX0lOX1RZUEUuY29uZmlybTpcblx0ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHdpbmRvdy5jb25maXJtKGRpYWxvZy5jb250ZXh0Lm1lc3NhZ2UpO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGRpYWxvZy5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcblx0ICAgICAgICAgICAgZGlhbG9nLmRpc21pc3MoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIGRpYWxvZy5jbG9zZShyZXN1bHQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZGlhbG9nO1xuXHQgICAgfTtcblx0ICAgIEpTTmF0aXZlTW9kYWxSZW5kZXJlciA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5JbmplY3RhYmxlKCksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgW10pXG5cdCAgICBdLCBKU05hdGl2ZU1vZGFsUmVuZGVyZXIpO1xuXHQgICAgcmV0dXJuIEpTTmF0aXZlTW9kYWxSZW5kZXJlcjtcblx0fSgpKTtcblx0ZXhwb3J0cy5KU05hdGl2ZU1vZGFsUmVuZGVyZXIgPSBKU05hdGl2ZU1vZGFsUmVuZGVyZXI7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMzkxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcblx0ICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuXHQgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG5cdCAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG5cdH07XG5cdHZhciBhbmd1bGFyMl9tb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIERFRkFVTFRfU0VUVEVSUyA9IFtcblx0ICAgICdwcm9tcHREZWZhdWx0J1xuXHRdO1xuXHR2YXIgSlNOYXRpdmVNb2RhbENvbnRleHQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuXHQgICAgX19leHRlbmRzKEpTTmF0aXZlTW9kYWxDb250ZXh0LCBfc3VwZXIpO1xuXHQgICAgZnVuY3Rpb24gSlNOYXRpdmVNb2RhbENvbnRleHQoKSB7XG5cdCAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdCAgICBKU05hdGl2ZU1vZGFsQ29udGV4dC5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmICghdGhpcy5tZXNzYWdlKVxuXHQgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnJztcblx0ICAgICAgICBpZiAodGhpcy5kaWFsb2dUeXBlID09PSB1bmRlZmluZWQpXG5cdCAgICAgICAgICAgIHRoaXMuZGlhbG9nVHlwZSA9IGFuZ3VsYXIyX21vZGFsXzEuRFJPUF9JTl9UWVBFLmFsZXJ0O1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBKU05hdGl2ZU1vZGFsQ29udGV4dDtcblx0fShhbmd1bGFyMl9tb2RhbF8xLk1vZGFsT3BlbkNvbnRleHQpKTtcblx0ZXhwb3J0cy5KU05hdGl2ZU1vZGFsQ29udGV4dCA9IEpTTmF0aXZlTW9kYWxDb250ZXh0O1xuXHR2YXIgSlNOYXRpdmVNb2RhbENvbnRleHRCdWlsZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcblx0ICAgIF9fZXh0ZW5kcyhKU05hdGl2ZU1vZGFsQ29udGV4dEJ1aWxkZXIsIF9zdXBlcik7XG5cdCAgICBmdW5jdGlvbiBKU05hdGl2ZU1vZGFsQ29udGV4dEJ1aWxkZXIoZGVmYXVsdFZhbHVlcywgaW5pdGlhbFNldHRlcnMsIGJhc2VUeXBlKSB7XG5cdCAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZXMgPT09IHZvaWQgMCkgeyBkZWZhdWx0VmFsdWVzID0gdW5kZWZpbmVkOyB9XG5cdCAgICAgICAgaWYgKGluaXRpYWxTZXR0ZXJzID09PSB2b2lkIDApIHsgaW5pdGlhbFNldHRlcnMgPSB1bmRlZmluZWQ7IH1cblx0ICAgICAgICBpZiAoYmFzZVR5cGUgPT09IHZvaWQgMCkgeyBiYXNlVHlwZSA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRWYWx1ZXMgfHwge30sIGFuZ3VsYXIyX21vZGFsXzEuYXJyYXlVbmlvbihERUZBVUxUX1NFVFRFUlMsIGluaXRpYWxTZXR0ZXJzIHx8IFtdKSwgYmFzZVR5cGUgfHwgSlNOYXRpdmVNb2RhbENvbnRleHQpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIEpTTmF0aXZlTW9kYWxDb250ZXh0QnVpbGRlcjtcblx0fShhbmd1bGFyMl9tb2RhbF8xLk1vZGFsT3BlbkNvbnRleHRCdWlsZGVyKSk7XG5cdGV4cG9ydHMuSlNOYXRpdmVNb2RhbENvbnRleHRCdWlsZGVyID0gSlNOYXRpdmVNb2RhbENvbnRleHRCdWlsZGVyO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDM5Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG5cdCAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcblx0ICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuXHQgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuXHR9O1xuXHR2YXIgbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQ1KTtcblx0dmFyIG1vZGFsX2NvbnRleHRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzkxKTtcblx0dmFyIEpTTmF0aXZlUHJlc2V0QnVpbGRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG5cdCAgICBfX2V4dGVuZHMoSlNOYXRpdmVQcmVzZXRCdWlsZGVyLCBfc3VwZXIpO1xuXHQgICAgZnVuY3Rpb24gSlNOYXRpdmVQcmVzZXRCdWlsZGVyKG1vZGFsLCBkaWFsb2dUeXBlKSB7XG5cdCAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgeyBtb2RhbDogbW9kYWwsIGRpYWxvZ1R5cGU6IGRpYWxvZ1R5cGUgfSk7XG5cdCAgICB9XG5cdCAgICAvKipcblx0ICAgICAqIEhvb2sgdG8gYWx0ZXIgY29uZmlnIGFuZCByZXR1cm4gYmluZGluZ3MuXG5cdCAgICAgKiBAcGFyYW0gY29uZmlnXG5cdCAgICAgKi9cblx0ICAgIEpTTmF0aXZlUHJlc2V0QnVpbGRlci5wcm90b3R5cGUuJCRiZWZvcmVPcGVuID0gZnVuY3Rpb24gKGNvbmZpZykge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIE9wZW4gYSBtb2RhbCB3aW5kb3cgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhpcyBjb25maWcgaW5zdGFuY2UuXG5cdCAgICAgKiBAcGFyYW0gdmlld0NvbnRhaW5lciBJZiBzZXQgb3BlbnMgdGhlIG1vZGFsIGluc2lkZSB0aGUgc3VwcGxpZWQgdmlld0NvbnRhaW5lclxuXHQgICAgICogQHJldHVybnMgUHJvbWlzZTxEaWFsb2dSZWY+XG5cdCAgICAgKi9cblx0ICAgIEpTTmF0aXZlUHJlc2V0QnVpbGRlci5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uICh2aWV3Q29udGFpbmVyKSB7XG5cdCAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMudG9KU09OKCk7XG5cdCAgICAgICAgaWYgKCEoY29uZmlnLm1vZGFsIGluc3RhbmNlb2YgbW9kYWxfMS5Nb2RhbCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQ29uZmlndXJhdGlvbiBFcnJvcjogbW9kYWwgc2VydmljZSBub3Qgc2V0LicpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGJpbmRpbmdzID0gdHlwZW9mIHRoaXMuJCRiZWZvcmVPcGVuID09PSAnZnVuY3Rpb24nICYmIHRoaXMuJCRiZWZvcmVPcGVuKGNvbmZpZyk7XG5cdCAgICAgICAgcmV0dXJuIGNvbmZpZy5tb2RhbC5vcGVuKHRydWUsIGNvbmZpZywgYmluZGluZ3MsIHRydWUpO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBKU05hdGl2ZVByZXNldEJ1aWxkZXI7XG5cdH0obW9kYWxfY29udGV4dF8xLkpTTmF0aXZlTW9kYWxDb250ZXh0QnVpbGRlcikpO1xuXHRleHBvcnRzLkpTTmF0aXZlUHJlc2V0QnVpbGRlciA9IEpTTmF0aXZlUHJlc2V0QnVpbGRlcjtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzOTM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIG1vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cdGV4cG9ydHMuTW9kYWwgPSBtb2RhbF8xLk1vZGFsO1xuXHR2YXIgbW9kYWxfYmFja2Ryb3BfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzk0KTtcblx0ZXhwb3J0cy5WZXhNb2RhbEJhY2tkcm9wID0gbW9kYWxfYmFja2Ryb3BfMS5WZXhNb2RhbEJhY2tkcm9wO1xuXHR2YXIgbW9kYWxfY29udGVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOTUpO1xuXHRleHBvcnRzLlZleE1vZGFsQ29udGVudCA9IG1vZGFsX2NvbnRlbnRfMS5WZXhNb2RhbENvbnRlbnQ7XG5cdHZhciBtb2RhbF9jb250ZXh0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5Nik7XG5cdGV4cG9ydHMuVkVYQnVpbHRJblRoZW1lcyA9IG1vZGFsX2NvbnRleHRfMS5WRVhCdWlsdEluVGhlbWVzO1xuXHRleHBvcnRzLlZFWE1vZGFsQ29udGV4dCA9IG1vZGFsX2NvbnRleHRfMS5WRVhNb2RhbENvbnRleHQ7XG5cdGV4cG9ydHMuVkVYTW9kYWxDb250ZXh0QnVpbGRlciA9IG1vZGFsX2NvbnRleHRfMS5WRVhNb2RhbENvbnRleHRCdWlsZGVyO1xuXHR2YXIgZHJvcGluX3ByZXNldF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOTgpO1xuXHRleHBvcnRzLkRyb3BJblByZXNldCA9IGRyb3Bpbl9wcmVzZXRfMS5Ecm9wSW5QcmVzZXQ7XG5cdGV4cG9ydHMuRHJvcEluUHJlc2V0QnVpbGRlciA9IGRyb3Bpbl9wcmVzZXRfMS5Ecm9wSW5QcmVzZXRCdWlsZGVyO1xuXHR2YXIgZGlhbG9nX2Zvcm1fbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTY0KTtcblx0ZXhwb3J0cy5EaWFsb2dGb3JtTW9kYWwgPSBkaWFsb2dfZm9ybV9tb2RhbF8xLkRpYWxvZ0Zvcm1Nb2RhbDtcblx0ZXhwb3J0cy5Gb3JtRHJvcEluID0gZGlhbG9nX2Zvcm1fbW9kYWxfMS5Gb3JtRHJvcEluO1xuXHRleHBvcnRzLlZFWEJ1dHRvbkNsaWNrRXZlbnQgPSBkaWFsb2dfZm9ybV9tb2RhbF8xLlZFWEJ1dHRvbkNsaWNrRXZlbnQ7XG5cdGV4cG9ydHMuVkVYQnV0dG9uQ29uZmlnID0gZGlhbG9nX2Zvcm1fbW9kYWxfMS5WRVhCdXR0b25Db25maWc7XG5cdGV4cG9ydHMuVkVYQnV0dG9uSGFuZGxlciA9IGRpYWxvZ19mb3JtX21vZGFsXzEuVkVYQnV0dG9uSGFuZGxlcjtcblx0ZXhwb3J0cy5WRVhEaWFsb2dCdXR0b25zID0gZGlhbG9nX2Zvcm1fbW9kYWxfMS5WRVhEaWFsb2dCdXR0b25zO1xuXHR2YXIgZGlhbG9nX3ByZXNldF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOTcpO1xuXHRleHBvcnRzLkRpYWxvZ1ByZXNldCA9IGRpYWxvZ19wcmVzZXRfMS5EaWFsb2dQcmVzZXQ7XG5cdGV4cG9ydHMuRGlhbG9nUHJlc2V0QnVpbGRlciA9IGRpYWxvZ19wcmVzZXRfMS5EaWFsb2dQcmVzZXRCdWlsZGVyO1xuXHR2YXIgdmV4X21vZHVsZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NjIpO1xuXHRleHBvcnRzLlZleE1vZGFsTW9kdWxlID0gdmV4X21vZHVsZV8xLlZleE1vZGFsTW9kdWxlO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDM5NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBhbmd1bGFyMl9tb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIG1vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cdHZhciBkaWFsb2dSZWZDb3VudCA9IDA7XG5cdC8qKlxuXHQgKiBSZXByZXNlbnRzIHRoZSBtb2RhbCBiYWNrZHJvcC5cblx0ICovXG5cdHZhciBWZXhNb2RhbEJhY2tkcm9wID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFZleE1vZGFsQmFja2Ryb3AoZGlhbG9nLCBfbW9kYWwpIHtcblx0ICAgICAgICB0aGlzLmRpYWxvZyA9IGRpYWxvZztcblx0ICAgICAgICB0aGlzLl9tb2RhbCA9IF9tb2RhbDtcblx0ICAgICAgICB0aGlzLmhzID0ge307XG5cdCAgICAgICAgZGlhbG9nUmVmQ291bnQrKztcblx0ICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3ZleC1vcGVuJyk7XG5cdCAgICAgICAgaWYgKGRpYWxvZy5pbkVsZW1lbnQpIHtcblx0ICAgICAgICAgICAgdGhpcy5ocy5wcyA9ICdhYnNvbHV0ZSc7XG5cdCAgICAgICAgICAgIHRoaXMuaHMuc3ogPSAnMTAwJSc7XG5cdCAgICAgICAgICAgIHRoaXMuaHMucHQgPSAwO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWZXhNb2RhbEJhY2tkcm9wLnByb3RvdHlwZSwgXCJjc3NDbGFzc1wiLCB7XG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBcInZleCB2ZXgtdGhlbWUtXCIgKyB0aGlzLmRpYWxvZy5jb250ZXh0LmNsYXNzTmFtZTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIFZleE1vZGFsQmFja2Ryb3AucHJvdG90eXBlLm5nT25EZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmICgtLWRpYWxvZ1JlZkNvdW50ID09PSAwKSB7XG5cdCAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgndmV4LW9wZW4nKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHQgICAgVmV4TW9kYWxCYWNrZHJvcC5wcm90b3R5cGUuZG9jdW1lbnRLZXlwcmVzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIC8vIGNoZWNrIHRoYXQgdGhpcyBtb2RhbCBpcyB0aGUgbGFzdCBpbiB0aGUgc3RhY2suXG5cdCAgICAgICAgaWYgKCF0aGlzLl9tb2RhbC5pc1RvcE1vc3QodGhpcy5kaWFsb2cpKVxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgaWYgKGFuZ3VsYXIyX21vZGFsXzEuc3VwcG9ydHNLZXkoZXZlbnQua2V5Q29kZSwgdGhpcy5kaWFsb2cuY29udGV4dC5rZXlib2FyZCkpIHtcblx0ICAgICAgICAgICAgdGhpcy5kaWFsb2cuZGlzbWlzcygpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdCAgICBWZXhNb2RhbEJhY2tkcm9wID0gX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLkNvbXBvbmVudCh7XG5cdCAgICAgICAgICAgIHNlbGVjdG9yOiAnbW9kYWwtYmFja2Ryb3AnLFxuXHQgICAgICAgICAgICBob3N0OiB7XG5cdCAgICAgICAgICAgICAgICAnW2NsYXNzLmluLWVsZW1lbnRdJzogJ2RpYWxvZy5pbkVsZW1lbnQnLFxuXHQgICAgICAgICAgICAgICAgJ1tzdHlsZS5wb3NpdGlvbl0nOiAnaHMucHMnLFxuXHQgICAgICAgICAgICAgICAgJ1tzdHlsZS5oZWlnaHRdJzogJ2hzLnN6Jyxcblx0ICAgICAgICAgICAgICAgICdbc3R5bGUud2lkdGhdJzogJ2hzLnN6Jyxcblx0ICAgICAgICAgICAgICAgICdbc3R5bGUudG9wXSc6ICdocy5wdCcsXG5cdCAgICAgICAgICAgICAgICAnW3N0eWxlLmxlZnRdJzogJ2hzLnB0Jyxcblx0ICAgICAgICAgICAgICAgICdbc3R5bGUucmlnaHRdJzogJ2hzLnB0Jyxcblx0ICAgICAgICAgICAgICAgICdbc3R5bGUuYm90dG9tXSc6ICdocy5wdCcsXG5cdCAgICAgICAgICAgICAgICAnKGJvZHk6a2V5ZG93biknOiAnZG9jdW1lbnRLZXlwcmVzcygkZXZlbnQpJ1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBzdHlsZVVybHM6IFtcblx0ICAgICAgICAgICAgICAgICdjb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvdmV4L21vZGFsLWJhY2tkcm9wLmNzcydcblx0ICAgICAgICAgICAgXSxcblx0ICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogY29yZV8xLlZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG5cdCAgICAgICAgICAgIHRlbXBsYXRlOiBcIjxkaXYgW2NsYXNzXT1cXFwiY3NzQ2xhc3NcXFwiPlxcbiAgICA8ZGl2IFtjbGFzc109XFxcImRpYWxvZy5jb250ZXh0Lm92ZXJsYXlDbGFzc05hbWVcXFwiPjwvZGl2PlxcbiAgICA8bW9kYWwtY29udGVudD48L21vZGFsLWNvbnRlbnQ+ICAgIFxcbjwvZGl2PlwiXG5cdCAgICAgICAgfSksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgWyh0eXBlb2YgKF9hID0gdHlwZW9mIGFuZ3VsYXIyX21vZGFsXzEuRGlhbG9nUmVmICE9PSAndW5kZWZpbmVkJyAmJiBhbmd1bGFyMl9tb2RhbF8xLkRpYWxvZ1JlZikgPT09ICdmdW5jdGlvbicgJiYgX2EpIHx8IE9iamVjdCwgKHR5cGVvZiAoX2IgPSB0eXBlb2YgbW9kYWxfMS5Nb2RhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kYWxfMS5Nb2RhbCkgPT09ICdmdW5jdGlvbicgJiYgX2IpIHx8IE9iamVjdF0pXG5cdCAgICBdLCBWZXhNb2RhbEJhY2tkcm9wKTtcblx0ICAgIHJldHVybiBWZXhNb2RhbEJhY2tkcm9wO1xuXHQgICAgdmFyIF9hLCBfYjtcblx0fSgpKTtcblx0ZXhwb3J0cy5WZXhNb2RhbEJhY2tkcm9wID0gVmV4TW9kYWxCYWNrZHJvcDtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzOTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG5cdCAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0dmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG5cdH07XG5cdHZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgYW5ndWxhcjJfbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBtb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjUpO1xuXHQvKipcblx0ICogQSBjb21wb25lbnQgdGhhdCBhY3RzIGFzIGEgdG9wIGxldmVsIGNvbnRhaW5lciBmb3IgYW4gb3BlbiBtb2RhbCB3aW5kb3cuXG5cdCAqL1xuXHR2YXIgVmV4TW9kYWxDb250ZW50ID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFZleE1vZGFsQ29udGVudChkaWFsb2csIF9tb2RhbCwgX2NvbXBpbGVDb25maWcsIF9jcikge1xuXHQgICAgICAgIHRoaXMuZGlhbG9nID0gZGlhbG9nO1xuXHQgICAgICAgIHRoaXMuX21vZGFsID0gX21vZGFsO1xuXHQgICAgICAgIHRoaXMuX2NvbXBpbGVDb25maWcgPSBfY29tcGlsZUNvbmZpZztcblx0ICAgICAgICB0aGlzLl9jciA9IF9jcjtcblx0ICAgICAgICB0aGlzLmNvbnRleHQgPSBkaWFsb2cuY29udGV4dDtcblx0ICAgIH1cblx0ICAgIFZleE1vZGFsQ29udGVudC5wcm90b3R5cGUubmdBZnRlclZpZXdJbml0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgaWYgKHRoaXMuZGxnQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQpIHtcblx0ICAgICAgICAgICAgdGhpcy5kbGdDb250YWluZXIubmF0aXZlRWxlbWVudC5mb2N1cygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvKiAgVE9ETzpcblx0ICAgICAgICAgSW4gUkM1IGR5bmFtaWMgY29tcG9uZW50IGNyZWF0aW9uIGlzIG5vIGxvbmdlciBhc3luYy5cblx0ICAgICAgICAgU29tZXdoZXJlIGRvd24gdGhlIHBpcGUgb2YgdGhlIGNyZWF0ZWQgY29tcG9uZW50IGEgdmFsdWUgY2hhbmdlIGhhcHBlbnMgdGhhdCBmaXJlc1xuXHQgICAgICAgICBhIENEIGV4Y2VwdGlvbi4gc2V0VGltZW91dCBpcyBhIHdvcmthcm91bmQgdGhhdCBtaW1pY3MgdGhlIGFzeW5jIGJlaGF2aW9yLlxuXHQgICAgICAgICBGaW5kIG91dCB0aGUgZXJyb3IgYW5kIHJlbW92ZSBzZXRUaW1lb3V0LlxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpcy5kaWFsb2cuY29udGVudFJlZiA9IGFuZ3VsYXIyX21vZGFsXzEuY3JlYXRlQ29tcG9uZW50KF90aGlzLl9jciwgX3RoaXMuX2NvbXBpbGVDb25maWcuY29tcG9uZW50LCBfdGhpcy5fdmlld0NvbnRhaW5lciwgX3RoaXMuX2NvbXBpbGVDb25maWcuYmluZGluZ3MpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIFZleE1vZGFsQ29udGVudC5wcm90b3R5cGUub25DbGlja091dHNpZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgLy8gY2hlY2sgdGhhdCB0aGlzIG1vZGFsIGlzIHRoZSBsYXN0IGluIHRoZSBzdGFjay5cblx0ICAgICAgICBpZiAodGhpcy5fbW9kYWwuaXNUb3BNb3N0KHRoaXMuZGlhbG9nKSAmJiAhdGhpcy5kaWFsb2cuY29udGV4dC5pc0Jsb2NraW5nKVxuXHQgICAgICAgICAgICB0aGlzLmRpYWxvZy5kaXNtaXNzKCk7XG5cdCAgICB9O1xuXHQgICAgX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLlZpZXdDaGlsZCgnZGxnQ29udGFpbmVyJyksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgKHR5cGVvZiAoX2EgPSB0eXBlb2YgY29yZV8xLkVsZW1lbnRSZWYgIT09ICd1bmRlZmluZWQnICYmIGNvcmVfMS5FbGVtZW50UmVmKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYSkgfHwgT2JqZWN0KVxuXHQgICAgXSwgVmV4TW9kYWxDb250ZW50LnByb3RvdHlwZSwgXCJkbGdDb250YWluZXJcIiwgdm9pZCAwKTtcblx0ICAgIF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5WaWV3Q2hpbGQoJ21vZGFsRGlhbG9nJywgeyByZWFkOiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCAodHlwZW9mIChfYiA9IHR5cGVvZiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLlZpZXdDb250YWluZXJSZWYpID09PSAnZnVuY3Rpb24nICYmIF9iKSB8fCBPYmplY3QpXG5cdCAgICBdLCBWZXhNb2RhbENvbnRlbnQucHJvdG90eXBlLCBcIl92aWV3Q29udGFpbmVyXCIsIHZvaWQgMCk7XG5cdCAgICBWZXhNb2RhbENvbnRlbnQgPSBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcblx0ICAgICAgICAgICAgc2VsZWN0b3I6ICdtb2RhbC1jb250ZW50Jyxcblx0ICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiB0YWJpbmRleD1cXFwiLTFcXFwiIHJvbGU9XFxcImRpYWxvZ1xcXCJcXG4gICAgICBbY2xhc3NdPVxcXCJjb250ZXh0LmNvbnRlbnRDbGFzc05hbWVcXFwiIChjbGlja091dHNpZGUpPVxcXCJvbkNsaWNrT3V0c2lkZSgpXFxcIiAjZGxnQ29udGFpbmVyPlxcbiAgICA8ZGl2IHN0eWxlPVxcXCJkaXNwbGF5OiBub25lXFxcIiAjbW9kYWxEaWFsb2c+PC9kaXY+ICAgIFxcbiAgICA8ZGl2ICpuZ0lmPVxcXCJjb250ZXh0LnNob3dDbG9zZUJ1dHRvblxcXCIgXFxuICAgICAgICAgW2NsYXNzXT1cXFwiY29udGV4dC5jbG9zZUNsYXNzTmFtZVxcXCIgXFxuICAgICAgICAgKGNsaWNrKT1cXFwiZGlhbG9nLmRpc21pc3MoKVxcXCI+PC9kaXY+XFxuPC9kaXY+XCIsXG5cdCAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGNvcmVfMS5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuXHQgICAgICAgIH0pLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFsodHlwZW9mIChfYyA9IHR5cGVvZiBhbmd1bGFyMl9tb2RhbF8xLkRpYWxvZ1JlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgYW5ndWxhcjJfbW9kYWxfMS5EaWFsb2dSZWYpID09PSAnZnVuY3Rpb24nICYmIF9jKSB8fCBPYmplY3QsICh0eXBlb2YgKF9kID0gdHlwZW9mIG1vZGFsXzEuTW9kYWwgIT09ICd1bmRlZmluZWQnICYmIG1vZGFsXzEuTW9kYWwpID09PSAnZnVuY3Rpb24nICYmIF9kKSB8fCBPYmplY3QsICh0eXBlb2YgKF9lID0gdHlwZW9mIGFuZ3VsYXIyX21vZGFsXzEuTW9kYWxDb21waWxlQ29uZmlnICE9PSAndW5kZWZpbmVkJyAmJiBhbmd1bGFyMl9tb2RhbF8xLk1vZGFsQ29tcGlsZUNvbmZpZykgPT09ICdmdW5jdGlvbicgJiYgX2UpIHx8IE9iamVjdCwgKHR5cGVvZiAoX2YgPSB0eXBlb2YgY29yZV8xLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikgPT09ICdmdW5jdGlvbicgJiYgX2YpIHx8IE9iamVjdF0pXG5cdCAgICBdLCBWZXhNb2RhbENvbnRlbnQpO1xuXHQgICAgcmV0dXJuIFZleE1vZGFsQ29udGVudDtcblx0ICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuXHR9KCkpO1xuXHRleHBvcnRzLlZleE1vZGFsQ29udGVudCA9IFZleE1vZGFsQ29udGVudDtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzOTY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuXHQgICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG5cdCAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cblx0ICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcblx0fTtcblx0dmFyIGFuZ3VsYXIyX21vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgREVGQVVMVF9WQUxVRVMgPSB7XG5cdCAgICBjbGFzc05hbWU6ICdkZWZhdWx0Jyxcblx0ICAgIG92ZXJsYXlDbGFzc05hbWU6ICd2ZXgtb3ZlcmxheScsXG5cdCAgICBjb250ZW50Q2xhc3NOYW1lOiAndmV4LWNvbnRlbnQnLFxuXHQgICAgY2xvc2VDbGFzc05hbWU6ICd2ZXgtY2xvc2UnXG5cdH07XG5cdHZhciBERUZBVUxUX1NFVFRFUlMgPSBbXG5cdCAgICAnY2xhc3NOYW1lJyxcblx0ICAgICdvdmVybGF5Q2xhc3NOYW1lJyxcblx0ICAgICdjb250ZW50Q2xhc3NOYW1lJyxcblx0ICAgICdjbG9zZUNsYXNzTmFtZScsXG5cdCAgICAnc2hvd0Nsb3NlQnV0dG9uJ1xuXHRdO1xuXHR2YXIgVkVYTW9kYWxDb250ZXh0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcblx0ICAgIF9fZXh0ZW5kcyhWRVhNb2RhbENvbnRleHQsIF9zdXBlcik7XG5cdCAgICBmdW5jdGlvbiBWRVhNb2RhbENvbnRleHQoKSB7XG5cdCAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gVkVYTW9kYWxDb250ZXh0O1xuXHR9KGFuZ3VsYXIyX21vZGFsXzEuTW9kYWxPcGVuQ29udGV4dCkpO1xuXHRleHBvcnRzLlZFWE1vZGFsQ29udGV4dCA9IFZFWE1vZGFsQ29udGV4dDtcblx0dmFyIFZFWE1vZGFsQ29udGV4dEJ1aWxkZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuXHQgICAgX19leHRlbmRzKFZFWE1vZGFsQ29udGV4dEJ1aWxkZXIsIF9zdXBlcik7XG5cdCAgICBmdW5jdGlvbiBWRVhNb2RhbENvbnRleHRCdWlsZGVyKGRlZmF1bHRWYWx1ZXMsIGluaXRpYWxTZXR0ZXJzLCBiYXNlVHlwZSkge1xuXHQgICAgICAgIGlmIChkZWZhdWx0VmFsdWVzID09PSB2b2lkIDApIHsgZGVmYXVsdFZhbHVlcyA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIGlmIChpbml0aWFsU2V0dGVycyA9PT0gdm9pZCAwKSB7IGluaXRpYWxTZXR0ZXJzID0gdW5kZWZpbmVkOyB9XG5cdCAgICAgICAgaWYgKGJhc2VUeXBlID09PSB2b2lkIDApIHsgYmFzZVR5cGUgPSB1bmRlZmluZWQ7IH1cblx0ICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBhbmd1bGFyMl9tb2RhbF8xLmV4dGVuZChERUZBVUxUX1ZBTFVFUywgZGVmYXVsdFZhbHVlcyB8fCB7fSksIGFuZ3VsYXIyX21vZGFsXzEuYXJyYXlVbmlvbihERUZBVUxUX1NFVFRFUlMsIGluaXRpYWxTZXR0ZXJzIHx8IFtdKSwgYmFzZVR5cGUgfHwgVkVYTW9kYWxDb250ZXh0IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNzIzNFxuXHQgICAgICAgICk7XG5cdCAgICB9XG5cdCAgICAvKipcblx0ICAgICAqXG5cdCAgICAgKiBAYWxpYXNGb3IgaXNCbG9ja2luZ1xuXHQgICAgICovXG5cdCAgICBWRVhNb2RhbENvbnRleHRCdWlsZGVyLnByb3RvdHlwZS5vdmVybGF5Q2xvc2VzT25DbGljayA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgIHRoaXNbYW5ndWxhcjJfbW9kYWxfMS5wcml2YXRlS2V5KCdpc0Jsb2NraW5nJyldID0gIXZhbHVlO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBWRVhNb2RhbENvbnRleHRCdWlsZGVyO1xuXHR9KGFuZ3VsYXIyX21vZGFsXzEuTW9kYWxPcGVuQ29udGV4dEJ1aWxkZXIpKTtcblx0ZXhwb3J0cy5WRVhNb2RhbENvbnRleHRCdWlsZGVyID0gVkVYTW9kYWxDb250ZXh0QnVpbGRlcjtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzOTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuXHQgICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG5cdCAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cblx0ICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcblx0fTtcblx0dmFyIGFuZ3VsYXIyX21vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgbW9kYWxfY29udGV4dF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOTYpO1xuXHR2YXIgZGlhbG9nX2Zvcm1fbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTY0KTtcblx0dmFyIERFRkFVTFRfU0VUVEVSUyA9IFtcblx0ICAgICdjb250ZW50J1xuXHRdO1xuXHQvKipcblx0ICogRGF0YSBkZWZpbml0aW9uXG5cdCAqL1xuXHR2YXIgRGlhbG9nUHJlc2V0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcblx0ICAgIF9fZXh0ZW5kcyhEaWFsb2dQcmVzZXQsIF9zdXBlcik7XG5cdCAgICBmdW5jdGlvbiBEaWFsb2dQcmVzZXQoKSB7XG5cdCAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gRGlhbG9nUHJlc2V0O1xuXHR9KG1vZGFsX2NvbnRleHRfMS5WRVhNb2RhbENvbnRleHQpKTtcblx0ZXhwb3J0cy5EaWFsb2dQcmVzZXQgPSBEaWFsb2dQcmVzZXQ7XG5cdC8qKlxuXHQgKiBBIFByZXNldCByZXByZXNlbnRpbmcgdGhlIGNvbmZpZ3VyYXRpb24gbmVlZGVkIHRvIG9wZW4gTWVzc2FnZU1vZGFsLlxuXHQgKiBUaGlzIGlzIGFuIGFic3RyYWN0IGltcGxlbWVudGF0aW9uIHdpdGggbm8gY29uY3JldGUgYmVoYXZpb3VyLlxuXHQgKiBVc2UgZGVyaXZlZCBpbXBsZW1lbnRhdGlvbi5cblx0ICovXG5cdHZhciBEaWFsb2dQcmVzZXRCdWlsZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcblx0ICAgIF9fZXh0ZW5kcyhEaWFsb2dQcmVzZXRCdWlsZGVyLCBfc3VwZXIpO1xuXHQgICAgZnVuY3Rpb24gRGlhbG9nUHJlc2V0QnVpbGRlcihtb2RhbCwgZGVmYXVsdFZhbHVlcywgaW5pdGlhbFNldHRlcnMsIGJhc2VUeXBlKSB7XG5cdCAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZXMgPT09IHZvaWQgMCkgeyBkZWZhdWx0VmFsdWVzID0gdW5kZWZpbmVkOyB9XG5cdCAgICAgICAgaWYgKGluaXRpYWxTZXR0ZXJzID09PSB2b2lkIDApIHsgaW5pdGlhbFNldHRlcnMgPSB1bmRlZmluZWQ7IH1cblx0ICAgICAgICBpZiAoYmFzZVR5cGUgPT09IHZvaWQgMCkgeyBiYXNlVHlwZSA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGFuZ3VsYXIyX21vZGFsXzEuZXh0ZW5kKHsgbW9kYWw6IG1vZGFsLCBjb21wb25lbnQ6IGRpYWxvZ19mb3JtX21vZGFsXzEuRGlhbG9nRm9ybU1vZGFsLCBidXR0b25zOiBbXSwgZGVmYXVsdFJlc3VsdDogdHJ1ZSB9LCBkZWZhdWx0VmFsdWVzIHx8IHt9KSwgYW5ndWxhcjJfbW9kYWxfMS5hcnJheVVuaW9uKERFRkFVTFRfU0VUVEVSUywgaW5pdGlhbFNldHRlcnMgfHwgW10pLCBiYXNlVHlwZSB8fCBEaWFsb2dQcmVzZXQgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy83MjM0XG5cdCAgICAgICAgKTtcblx0ICAgIH1cblx0ICAgIERpYWxvZ1ByZXNldEJ1aWxkZXIucHJvdG90eXBlLmFkZEJ1dHRvbiA9IGZ1bmN0aW9uIChjc3MsIGNhcHRpb24sIG9uQ2xpY2spIHtcblx0ICAgICAgICB2YXIgYnRuID0ge1xuXHQgICAgICAgICAgICBjc3NDbGFzczogY3NzLFxuXHQgICAgICAgICAgICBjYXB0aW9uOiBjYXB0aW9uLFxuXHQgICAgICAgICAgICBvbkNsaWNrOiBvbkNsaWNrXG5cdCAgICAgICAgfTtcblx0ICAgICAgICB2YXIga2V5ID0gYW5ndWxhcjJfbW9kYWxfMS5wcml2YXRlS2V5KCdidXR0b25zJyk7XG5cdCAgICAgICAgdGhpc1trZXldLnB1c2goYnRuKTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH07XG5cdCAgICBEaWFsb2dQcmVzZXRCdWlsZGVyLnByb3RvdHlwZS5hZGRPa0J1dHRvbiA9IGZ1bmN0aW9uICh0ZXh0KSB7XG5cdCAgICAgICAgaWYgKHRleHQgPT09IHZvaWQgMCkgeyB0ZXh0ID0gJ09LJzsgfVxuXHQgICAgICAgIHRoaXMuYWRkQnV0dG9uKCd2ZXgtZGlhbG9nLWJ1dHRvbi1wcmltYXJ5IHZleC1kaWFsb2ctYnV0dG9uIHZleC1maXJzdCcsIHRleHQsIGZ1bmN0aW9uIChjbXAsICRldmVudCkgeyByZXR1cm4gY21wLmRpYWxvZy5jbG9zZShjbXAuZGlhbG9nLmNvbnRleHQuZGVmYXVsdFJlc3VsdCk7IH0pO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfTtcblx0ICAgIERpYWxvZ1ByZXNldEJ1aWxkZXIucHJvdG90eXBlLmFkZENhbmNlbEJ1dHRvbiA9IGZ1bmN0aW9uICh0ZXh0KSB7XG5cdCAgICAgICAgaWYgKHRleHQgPT09IHZvaWQgMCkgeyB0ZXh0ID0gJ0NBTkNFTCc7IH1cblx0ICAgICAgICB0aGlzLmFkZEJ1dHRvbigndmV4LWRpYWxvZy1idXR0b24tc2Vjb25kYXJ5IHZleC1kaWFsb2ctYnV0dG9uIHZleC1sYXN0JywgdGV4dCwgZnVuY3Rpb24gKGNtcCwgJGV2ZW50KSB7IHJldHVybiBjbXAuZGlhbG9nLmRpc21pc3MoKTsgfSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIERpYWxvZ1ByZXNldEJ1aWxkZXI7XG5cdH0obW9kYWxfY29udGV4dF8xLlZFWE1vZGFsQ29udGV4dEJ1aWxkZXIpKTtcblx0ZXhwb3J0cy5EaWFsb2dQcmVzZXRCdWlsZGVyID0gRGlhbG9nUHJlc2V0QnVpbGRlcjtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzOTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuXHQgICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG5cdCAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cblx0ICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcblx0fTtcblx0dmFyIGFuZ3VsYXIyX21vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgZGlhbG9nX2Zvcm1fbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTY0KTtcblx0dmFyIGRpYWxvZ19wcmVzZXRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzk3KTtcblx0dmFyIERFRkFVTFRfVkFMVUVTID0ge1xuXHQgICAgY29tcG9uZW50OiBkaWFsb2dfZm9ybV9tb2RhbF8xLkRpYWxvZ0Zvcm1Nb2RhbCxcblx0ICAgIGNvbnRlbnQ6IGRpYWxvZ19mb3JtX21vZGFsXzEuRm9ybURyb3BJbixcblx0ICAgIG9rQnRuOiAnT0snLFxuXHQgICAgY2FuY2VsQnRuOiAnQ2FuY2VsJ1xuXHR9O1xuXHR2YXIgREVGQVVMVF9TRVRURVJTID0gW1xuXHQgICAgJ29rQnRuJyxcblx0ICAgICdjYW5jZWxCdG4nLFxuXHQgICAgJ3BsYWNlaG9sZGVyJyxcblx0ICAgICdzaG93Q2xvc2VCdXR0b24nXG5cdF07XG5cdC8qKlxuXHQgKiBEYXRhIGRlZmluaXRpb25cblx0ICovXG5cdHZhciBEcm9wSW5QcmVzZXQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuXHQgICAgX19leHRlbmRzKERyb3BJblByZXNldCwgX3N1cGVyKTtcblx0ICAgIGZ1bmN0aW9uIERyb3BJblByZXNldCgpIHtcblx0ICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgIH1cblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEcm9wSW5QcmVzZXQucHJvdG90eXBlLCBcInNob3dJbnB1dFwiLCB7XG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmRyb3BJblR5cGUgPT09IGFuZ3VsYXIyX21vZGFsXzEuRFJPUF9JTl9UWVBFLnByb21wdDtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBEcm9wSW5QcmVzZXQ7XG5cdH0oZGlhbG9nX3ByZXNldF8xLkRpYWxvZ1ByZXNldCkpO1xuXHRleHBvcnRzLkRyb3BJblByZXNldCA9IERyb3BJblByZXNldDtcblx0LyoqXG5cdCAqIEEgUHJlc2V0IHJlcHJlc2VudGluZyBhbGwgMyBkcm9wIGlucyAoYWxlcnQsIHByb21wdCwgY29uZmlybSlcblx0ICovXG5cdHZhciBEcm9wSW5QcmVzZXRCdWlsZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcblx0ICAgIF9fZXh0ZW5kcyhEcm9wSW5QcmVzZXRCdWlsZGVyLCBfc3VwZXIpO1xuXHQgICAgZnVuY3Rpb24gRHJvcEluUHJlc2V0QnVpbGRlcihtb2RhbCwgZHJvcEluVHlwZSwgZGVmYXVsdFZhbHVlcykge1xuXHQgICAgICAgIGlmIChkZWZhdWx0VmFsdWVzID09PSB2b2lkIDApIHsgZGVmYXVsdFZhbHVlcyA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIG1vZGFsLCBhbmd1bGFyMl9tb2RhbF8xLmV4dGVuZChhbmd1bGFyMl9tb2RhbF8xLmV4dGVuZCh7IG1vZGFsOiBtb2RhbCwgZHJvcEluVHlwZTogZHJvcEluVHlwZSB9LCBERUZBVUxUX1ZBTFVFUyksIGRlZmF1bHRWYWx1ZXMgfHwge30pLCBERUZBVUxUX1NFVFRFUlMsIERyb3BJblByZXNldCk7XG5cdCAgICB9XG5cdCAgICBEcm9wSW5QcmVzZXRCdWlsZGVyLnByb3RvdHlwZS4kJGJlZm9yZU9wZW4gPSBmdW5jdGlvbiAoY29uZmlnKSB7XG5cdCAgICAgICAgaWYgKGNvbmZpZy5va0J0bikge1xuXHQgICAgICAgICAgICB0aGlzLmFkZE9rQnV0dG9uKGNvbmZpZy5va0J0bik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHN3aXRjaCAoY29uZmlnLmRyb3BJblR5cGUpIHtcblx0ICAgICAgICAgICAgY2FzZSBhbmd1bGFyMl9tb2RhbF8xLkRST1BfSU5fVFlQRS5wcm9tcHQ6XG5cdCAgICAgICAgICAgICAgICBjb25maWcuZGVmYXVsdFJlc3VsdCA9IHVuZGVmaW5lZDtcblx0ICAgICAgICAgICAgY2FzZSBhbmd1bGFyMl9tb2RhbF8xLkRST1BfSU5fVFlQRS5jb25maXJtOlxuXHQgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5jYW5jZWxCdG4pIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENhbmNlbEJ1dHRvbihjb25maWcuY2FuY2VsQnRuKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS4kJGJlZm9yZU9wZW4uY2FsbCh0aGlzLCBjb25maWcpO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBEcm9wSW5QcmVzZXRCdWlsZGVyO1xuXHR9KGRpYWxvZ19wcmVzZXRfMS5EaWFsb2dQcmVzZXRCdWlsZGVyKSk7XG5cdGV4cG9ydHMuRHJvcEluUHJlc2V0QnVpbGRlciA9IERyb3BJblByZXNldEJ1aWxkZXI7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMzk5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xuXHR9O1xuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIGNyZWF0ZUNvbXBvbmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODApO1xuXHR2YXIgRE9NTW9kYWxSZW5kZXJlciA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBET01Nb2RhbFJlbmRlcmVyKF9jcikge1xuXHQgICAgICAgIHRoaXMuX2NyID0gX2NyO1xuXHQgICAgfVxuXHQgICAgRE9NTW9kYWxSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHR5cGUsIHZpZXdDb250YWluZXIsIGJpbmRpbmdzLCBkaWFsb2cpIHtcblx0ICAgICAgICB2YXIgY21wUmVmID0gY3JlYXRlQ29tcG9uZW50XzEuZGVmYXVsdCh0aGlzLl9jciwgdHlwZSwgdmlld0NvbnRhaW5lciwgYmluZGluZ3MpO1xuXHQgICAgICAgIGlmIChkaWFsb2cuaW5FbGVtZW50KSB7XG5cdCAgICAgICAgICAgIHZpZXdDb250YWluZXIuZWxlbWVudC5uYXRpdmVFbGVtZW50LmFwcGVuZENoaWxkKGNtcFJlZi5sb2NhdGlvbi5uYXRpdmVFbGVtZW50KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY21wUmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBkaWFsb2cub25EZXN0cm95LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgY21wUmVmLmluc3RhbmNlLmNhbkRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgICAgIGNtcFJlZi5pbnN0YW5jZS5jYW5EZXN0cm95KCkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBjbXBSZWYuZGVzdHJveSgpOyB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGNtcFJlZi5kZXN0cm95KCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gZGlhbG9nO1xuXHQgICAgfTtcblx0ICAgIERPTU1vZGFsUmVuZGVyZXIgPSBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuSW5qZWN0YWJsZSgpLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFsodHlwZW9mIChfYSA9IHR5cGVvZiBjb3JlXzEuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyICE9PSAndW5kZWZpbmVkJyAmJiBjb3JlXzEuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYSkgfHwgT2JqZWN0XSlcblx0ICAgIF0sIERPTU1vZGFsUmVuZGVyZXIpO1xuXHQgICAgcmV0dXJuIERPTU1vZGFsUmVuZGVyZXI7XG5cdCAgICB2YXIgX2E7XG5cdH0oKSk7XG5cdGV4cG9ydHMuRE9NTW9kYWxSZW5kZXJlciA9IERPTU1vZGFsUmVuZGVyZXI7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNDAwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xuXHR9O1xuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIGJvb3RzdHJhcF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjMpO1xuXHR2YXIgaW5kZXhfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQ3KTtcblx0dmFyIGN1c3RvbV9tb2RhbF9zYW1wbGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDAxKTtcblx0dmFyIHByZXNldHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3MCk7XG5cdHZhciBCb290c3RyYXBEZW1vUGFnZSA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBCb290c3RyYXBEZW1vUGFnZShtb2RhbCkge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgdGhpcy5tb2RhbCA9IG1vZGFsO1xuXHQgICAgICAgIHRoaXMubW9kYWxDb21tYW5kcyA9IFtcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgdGV4dDogJ2FsZXJ0IGRyb3AgaW4nLFxuXHQgICAgICAgICAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJlc2V0cy5hbGVydChfdGhpcy5tb2RhbCkub3BlbigpOyB9XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgIHRleHQ6ICdwcm9tcHQgZHJvcCBpbicsXG5cdCAgICAgICAgICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcmVzZXRzLnByb21wdChfdGhpcy5tb2RhbCkub3BlbigpOyB9XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgIHRleHQ6ICdjb25maXJtIGRyb3AgaW4nLFxuXHQgICAgICAgICAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJlc2V0cy5jb25maXJtKF90aGlzLm1vZGFsKS5vcGVuKCk7IH1cblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgdGV4dDogJ0Nhc2NhZGluZyBleGFtcGxlJyxcblx0ICAgICAgICAgICAgICAgIGZhY3Rvcnk6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByZXNldHMuY2FzY2FkaW5nKF90aGlzLm1vZGFsKS5vcGVuKCk7IH1cblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgdGV4dDogJ0luIEVsZW1lbnQgZXhhbXBsZScsXG5cdCAgICAgICAgICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcmVzZXRzLmluRWxlbWVudChfdGhpcy5tb2RhbCkub3BlbihfdGhpcy5kZW1vSGVhZC52Y0NvbW1hbmRzKTsgfVxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICB0ZXh0OiAnQ3VzdG9tIE1vZGFsIGV4YW1wbGUnLFxuXHQgICAgICAgICAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5tb2RhbC5vcGVuKGN1c3RvbV9tb2RhbF9zYW1wbGVfMS5BZGRpdGlvbkNhbGN1bGF0ZVdpbmRvdywgbmV3IGN1c3RvbV9tb2RhbF9zYW1wbGVfMS5BZGRpdGlvbkNhbGN1bGF0ZVdpbmRvd0RhdGEoMiwgMykpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgXTtcblx0ICAgIH1cblx0ICAgIF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5WaWV3Q2hpbGQoaW5kZXhfMS5EZW1vSGVhZCksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgKHR5cGVvZiAoX2EgPSB0eXBlb2YgaW5kZXhfMS5EZW1vSGVhZCAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5kZXhfMS5EZW1vSGVhZCkgPT09ICdmdW5jdGlvbicgJiYgX2EpIHx8IE9iamVjdClcblx0ICAgIF0sIEJvb3RzdHJhcERlbW9QYWdlLnByb3RvdHlwZSwgXCJkZW1vSGVhZFwiLCB2b2lkIDApO1xuXHQgICAgQm9vdHN0cmFwRGVtb1BhZ2UgPSBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcblx0ICAgICAgICAgICAgc2VsZWN0b3I6ICdib290c3RyYXAtZGVtby1wYWdlJyxcblx0ICAgICAgICAgICAgc3R5bGVVcmxzOiBbJ2RlbW8vYXBwL2Jvb3RzdHJhcC1kZW1vL2Jvb3RzdHJhcC1kZW1vLXBhZ2UvYm9vdHN0cmFwLWRlbW8tcGFnZS5jc3MnXSxcblx0ICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdkZW1vL2FwcC9ib290c3RyYXAtZGVtby9ib290c3RyYXAtZGVtby1wYWdlL2Jvb3RzdHJhcC1kZW1vLXBhZ2UudHBsLmh0bWwnXG5cdCAgICAgICAgfSksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgWyh0eXBlb2YgKF9iID0gdHlwZW9mIGJvb3RzdHJhcF8xLk1vZGFsICE9PSAndW5kZWZpbmVkJyAmJiBib290c3RyYXBfMS5Nb2RhbCkgPT09ICdmdW5jdGlvbicgJiYgX2IpIHx8IE9iamVjdF0pXG5cdCAgICBdLCBCb290c3RyYXBEZW1vUGFnZSk7XG5cdCAgICByZXR1cm4gQm9vdHN0cmFwRGVtb1BhZ2U7XG5cdCAgICB2YXIgX2EsIF9iO1xuXHR9KCkpO1xuXHRleHBvcnRzLkJvb3RzdHJhcERlbW9QYWdlID0gQm9vdHN0cmFwRGVtb1BhZ2U7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNDAxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcblx0ICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuXHQgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG5cdCAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG5cdH07XG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xuXHR9O1xuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIGFuZ3VsYXIyX21vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHR2YXIgaW5kZXhfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYzKTtcblx0dmFyIEFkZGl0aW9uQ2FsY3VsYXRlV2luZG93RGF0YSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG5cdCAgICBfX2V4dGVuZHMoQWRkaXRpb25DYWxjdWxhdGVXaW5kb3dEYXRhLCBfc3VwZXIpO1xuXHQgICAgZnVuY3Rpb24gQWRkaXRpb25DYWxjdWxhdGVXaW5kb3dEYXRhKG51bTEsIG51bTIpIHtcblx0ICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcblx0ICAgICAgICB0aGlzLm51bTEgPSBudW0xO1xuXHQgICAgICAgIHRoaXMubnVtMiA9IG51bTI7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gQWRkaXRpb25DYWxjdWxhdGVXaW5kb3dEYXRhO1xuXHR9KGluZGV4XzEuQlNNb2RhbENvbnRleHQpKTtcblx0ZXhwb3J0cy5BZGRpdGlvbkNhbGN1bGF0ZVdpbmRvd0RhdGEgPSBBZGRpdGlvbkNhbGN1bGF0ZVdpbmRvd0RhdGE7XG5cdC8qKlxuXHQgKiBBIFNhbXBsZSBvZiBob3cgc2ltcGxlIGl0IGlzIHRvIGNyZWF0ZSBhIG5ldyB3aW5kb3csIHdpdGggaXRzIG93biBpbmplY3RzLlxuXHQgKi9cblx0dmFyIEFkZGl0aW9uQ2FsY3VsYXRlV2luZG93ID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEFkZGl0aW9uQ2FsY3VsYXRlV2luZG93KGRpYWxvZykge1xuXHQgICAgICAgIHRoaXMuZGlhbG9nID0gZGlhbG9nO1xuXHQgICAgICAgIHRoaXMuY29udGV4dCA9IGRpYWxvZy5jb250ZXh0O1xuXHQgICAgICAgIHRoaXMud3JvbmdBbnN3ZXIgPSB0cnVlO1xuXHQgICAgfVxuXHQgICAgQWRkaXRpb25DYWxjdWxhdGVXaW5kb3cucHJvdG90eXBlLm9uS2V5VXAgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICB0aGlzLndyb25nQW5zd2VyID0gdmFsdWUgIT0gNTtcblx0ICAgICAgICB0aGlzLmRpYWxvZy5jbG9zZSgpO1xuXHQgICAgfTtcblx0ICAgIEFkZGl0aW9uQ2FsY3VsYXRlV2luZG93LnByb3RvdHlwZS5iZWZvcmVEaXNtaXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfTtcblx0ICAgIEFkZGl0aW9uQ2FsY3VsYXRlV2luZG93LnByb3RvdHlwZS5iZWZvcmVDbG9zZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy53cm9uZ0Fuc3dlcjtcblx0ICAgIH07XG5cdCAgICBBZGRpdGlvbkNhbGN1bGF0ZVdpbmRvdyA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5Db21wb25lbnQoe1xuXHQgICAgICAgICAgICBzZWxlY3RvcjogJ21vZGFsLWNvbnRlbnQnLFxuXHQgICAgICAgICAgICBzdHlsZXM6IFtcIlxcbiAgICAgICAgLmN1c3RvbS1tb2RhbC1jb250YWluZXIge1xcbiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuY3VzdG9tLW1vZGFsLWhlYWRlciB7XFxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzIxOTE2MTtcXG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcXG4gICAgICAgICAgICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAzcHggNXB4IDBweCByZ2JhKDAsMCwwLDAuNzUpO1xcbiAgICAgICAgICAgIC1tb3otYm94LXNoYWRvdzogMHB4IDNweCA1cHggMHB4IHJnYmEoMCwwLDAsMC43NSk7XFxuICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDNweCA1cHggMHB4IHJnYmEoMCwwLDAsMC43NSk7XFxuICAgICAgICAgICAgbWFyZ2luLXRvcDogLTE1cHg7XFxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNDBweDtcXG4gICAgICAgIH1cXG4gICAgXCJdLFxuXHQgICAgICAgICAgICAvL1RPRE86IFtuZ0NsYXNzXSBoZXJlIG9uIHB1cnBvc2UsIG5vIHJlYWwgdXNlLCBqdXN0IHRvIHNob3cgaG93IHRvIHdvcmthcm91bmQgbmcyIGlzc3VlICM0MzMwLlxuXHQgICAgICAgICAgICAvLyBSZW1vdmUgd2hlbiBzb2x2ZWQuXG5cdCAgICAgICAgICAgIC8qIHRzbGludDpkaXNhYmxlICovIHRlbXBsYXRlOiBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyLWZsdWlkIGN1c3RvbS1tb2RhbC1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInJvdyBjdXN0b20tbW9kYWwtaGVhZGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTEyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxoMT5BIEN1c3RvbSBtb2RhbCBkZXNpZ248L2gxPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiIFtuZ0NsYXNzXT1cXFwieydteWNsYXNzJyA6IHNob3VsZFVzZU15Q2xhc3N9XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXhzLTEyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImp1bWJvdHJvblxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGgxPkRvIHRoZSBtYXRoIHRvIHF1aXQ6PC9oMT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwibGVhZFxcXCI+SSByZWNlaXZlZCBhbiBpbmplY3Rpb24gb2YgdGhlIG51bWJlciA8c3Ryb25nPnt7Y29udGV4dC5udW0xfX08L3N0cm9uZz4gYW5kIHRoZSBudW1iZXIgPHN0cm9uZz57e2NvbnRleHQubnVtMn19PC9zdHJvbmc+PC9wPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPldoYXQgaXMgdGhlIHN1bT88L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiAjYW5zd2VyIChrZXl1cCk9XFxcIm9uS2V5VXAoYW5zd2VyLnZhbHVlKVxcXCIgYXV0b2ZvY3VzPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XCJcblx0ICAgICAgICB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbKHR5cGVvZiAoX2EgPSB0eXBlb2YgYW5ndWxhcjJfbW9kYWxfMS5EaWFsb2dSZWYgIT09ICd1bmRlZmluZWQnICYmIGFuZ3VsYXIyX21vZGFsXzEuRGlhbG9nUmVmKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYSkgfHwgT2JqZWN0XSlcblx0ICAgIF0sIEFkZGl0aW9uQ2FsY3VsYXRlV2luZG93KTtcblx0ICAgIHJldHVybiBBZGRpdGlvbkNhbGN1bGF0ZVdpbmRvdztcblx0ICAgIHZhciBfYTtcblx0fSgpKTtcblx0ZXhwb3J0cy5BZGRpdGlvbkNhbGN1bGF0ZVdpbmRvdyA9IEFkZGl0aW9uQ2FsY3VsYXRlV2luZG93O1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDQwMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBib290c3RyYXBfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYzKTtcblx0dmFyIEJvb3RzdHJhcERlbW8gPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gQm9vdHN0cmFwRGVtbyhtb2RhbCwgdmlld0NvbnRhaW5lcikge1xuXHQgICAgICAgIHRoaXMubW9kYWwgPSBtb2RhbDtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBBIERlZmF1bHQgdmlldyBjb250YWluZXIgcmVmLCB1c3VhbGx5IHRoZSBhcHAgcm9vdCBjb250YWluZXIgcmVmLlxuXHQgICAgICAgICAqIEhhcyB0byBiZSBzZXQgbWFudWFsbHkgdW50aWwgd2UgY2FuIGZpbmQgYSB3YXkgdG8gZ2V0IGl0IGF1dG9tYXRpY2FsbHkuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgbW9kYWwuZGVmYXVsdFZpZXdDb250YWluZXIgPSB2aWV3Q29udGFpbmVyO1xuXHQgICAgfVxuXHQgICAgQm9vdHN0cmFwRGVtbyA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5Db21wb25lbnQoe1xuXHQgICAgICAgICAgICBzZWxlY3RvcjogJ2Jvb3RzdHJhcC1kZW1vJyxcblx0ICAgICAgICAgICAgdGVtcGxhdGU6IFwiPHJvdXRlci1vdXRsZXQ+PC9yb3V0ZXItb3V0bGV0PlwiLFxuXHQgICAgICAgICAgICAvLyBXZSBvdmVycmlkZSBwcm92aWRlcnMgc2V0IGJ5IHRoZSBNb2R1bGUgc2luY2UgdGhpcyBhcHAgaXMgdXNpbmcgbXVsdGlwbGUgbW9kdWxlIHBsdWdpbnNcblx0ICAgICAgICAgICAgLy8gKGpzLW5hdGl2ZSwgdmV4LCBib290c3RyYXApIHdoaWNoIG1lc3NlcyB1cCB0aGUgcHJvdmlkZXIgdHJlZSAobGFzdCBwbHVnaW4gd2lucylcblx0ICAgICAgICAgICAgLy8gdXN1YWxseSBhbiBhcHAgd2lsbCB1c2Ugb25lIHBsdWdpbiBhbmQgdGhpcyBsaW5lIGlzIG5vdCBuZWVkZWQuXG5cdCAgICAgICAgICAgIHByb3ZpZGVyczogYm9vdHN0cmFwXzEuQm9vdHN0cmFwTW9kYWxNb2R1bGUuZ2V0UHJvdmlkZXJzKCksXG5cdCAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGNvcmVfMS5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG5cdCAgICAgICAgfSksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgWyh0eXBlb2YgKF9hID0gdHlwZW9mIGJvb3RzdHJhcF8xLk1vZGFsICE9PSAndW5kZWZpbmVkJyAmJiBib290c3RyYXBfMS5Nb2RhbCkgPT09ICdmdW5jdGlvbicgJiYgX2EpIHx8IE9iamVjdCwgKHR5cGVvZiAoX2IgPSB0eXBlb2YgY29yZV8xLlZpZXdDb250YWluZXJSZWYgIT09ICd1bmRlZmluZWQnICYmIGNvcmVfMS5WaWV3Q29udGFpbmVyUmVmKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYikgfHwgT2JqZWN0XSlcblx0ICAgIF0sIEJvb3RzdHJhcERlbW8pO1xuXHQgICAgcmV0dXJuIEJvb3RzdHJhcERlbW87XG5cdCAgICB2YXIgX2EsIF9iO1xuXHR9KCkpO1xuXHRleHBvcnRzLkJvb3RzdHJhcERlbW8gPSBCb290c3RyYXBEZW1vO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDQwMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBpbmRleF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDQpO1xuXHR2YXIgSG9tZSA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBIb21lKG1vZGFsKSB7XG5cdCAgICAgICAgdGhpcy5tb2RhbCA9IG1vZGFsO1xuXHQgICAgfVxuXHQgICAgSG9tZS5wcm90b3R5cGUubmdBZnRlclZpZXdJbml0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHRoaXMubW9kYWwuYWxlcnQoKVxuXHQgICAgICAgICAgICAudGl0bGUoJ0FuZ3VsYXIgMiBNb2RhbCcpXG5cdCAgICAgICAgICAgIC50ZW1wbGF0ZVJlZih0aGlzLm15VGVtcGxhdGUpXG5cdCAgICAgICAgICAgIC5vcGVuKHRoaXMuaW5qZWN0VkMpO1xuXHQgICAgfTtcblx0ICAgIF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5WaWV3Q2hpbGQoJ2luamVjdFBvaW50JywgeyByZWFkOiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCAodHlwZW9mIChfYSA9IHR5cGVvZiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLlZpZXdDb250YWluZXJSZWYpID09PSAnZnVuY3Rpb24nICYmIF9hKSB8fCBPYmplY3QpXG5cdCAgICBdLCBIb21lLnByb3RvdHlwZSwgXCJpbmplY3RWQ1wiLCB2b2lkIDApO1xuXHQgICAgX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLlZpZXdDaGlsZCgnbXlUZW1wbGF0ZScsIHsgcmVhZDogY29yZV8xLlRlbXBsYXRlUmVmIH0pLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsICh0eXBlb2YgKF9iID0gdHlwZW9mIGNvcmVfMS5UZW1wbGF0ZVJlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLlRlbXBsYXRlUmVmKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYikgfHwgT2JqZWN0KVxuXHQgICAgXSwgSG9tZS5wcm90b3R5cGUsIFwibXlUZW1wbGF0ZVwiLCB2b2lkIDApO1xuXHQgICAgSG9tZSA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5Db21wb25lbnQoe1xuXHQgICAgICAgICAgICBzZWxlY3RvcjogJ2hvbWUnLFxuXHQgICAgICAgICAgICBwcm92aWRlcnM6IGluZGV4XzEuSW5BcHBNb2RhbE1vZHVsZS5nZXRQcm92aWRlcnMoKSxcblx0ICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdkZW1vL2FwcC9ob21lL2hvbWUudHBsLmh0bWwnLFxuXHQgICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxuXHQgICAgICAgIH0pLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFsodHlwZW9mIChfYyA9IHR5cGVvZiBpbmRleF8xLk1vZGFsICE9PSAndW5kZWZpbmVkJyAmJiBpbmRleF8xLk1vZGFsKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYykgfHwgT2JqZWN0XSlcblx0ICAgIF0sIEhvbWUpO1xuXHQgICAgcmV0dXJuIEhvbWU7XG5cdCAgICB2YXIgX2EsIF9iLCBfYztcblx0fSgpKTtcblx0ZXhwb3J0cy5Ib21lID0gSG9tZTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA0MDQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG5cdCAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0dmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG5cdH07XG5cdHZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0dmFyIG1vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0OCk7XG5cdHZhciBtb2RhbF9iYWNrZHJvcF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NzIpO1xuXHR2YXIgbW9kYWxfY29udGV4dF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDUpO1xuXHR2YXIgYW5ndWxhcjJfbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBtb2RhbF8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDgpO1xuXHRleHBvcnRzLk1vZGFsID0gbW9kYWxfMi5Nb2RhbDtcblx0dmFyIG1vZGFsX2NvbnRleHRfMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDA1KTtcblx0ZXhwb3J0cy5JbkFwcE1vZGFsQ29udGV4dCA9IG1vZGFsX2NvbnRleHRfMi5JbkFwcE1vZGFsQ29udGV4dDtcblx0ZXhwb3J0cy5JbkFwcE1vZGFsQ29udGV4dEJ1aWxkZXIgPSBtb2RhbF9jb250ZXh0XzIuSW5BcHBNb2RhbENvbnRleHRCdWlsZGVyO1xuXHRmdW5jdGlvbiBnZXRQcm92aWRlcnMoKSB7XG5cdCAgICByZXR1cm4gW1xuXHQgICAgICAgIHsgcHJvdmlkZTogYW5ndWxhcjJfbW9kYWxfMS5Nb2RhbCwgdXNlQ2xhc3M6IG1vZGFsXzEuTW9kYWwgfSxcblx0ICAgICAgICB7IHByb3ZpZGU6IG1vZGFsXzEuTW9kYWwsIHVzZUNsYXNzOiBtb2RhbF8xLk1vZGFsIH0sXG5cdCAgICAgICAgeyBwcm92aWRlOiBhbmd1bGFyMl9tb2RhbF8xLk1vZGFsQmFja2Ryb3BDb21wb25lbnQsIHVzZVZhbHVlOiBtb2RhbF9iYWNrZHJvcF8xLkluQXBwTW9kYWxCYWNrZHJvcCB9LFxuXHQgICAgICAgIHsgcHJvdmlkZTogYW5ndWxhcjJfbW9kYWxfMS5Nb2RhbERyb3BJbkZhY3RvcnksIHVzZVZhbHVlOiB7XG5cdCAgICAgICAgICAgICAgICBhbGVydDogZnVuY3Rpb24gKG1vZGFsKSB7IHJldHVybiBuZXcgbW9kYWxfY29udGV4dF8xLkluQXBwTW9kYWxDb250ZXh0QnVpbGRlcihtb2RhbCk7IH0sXG5cdCAgICAgICAgICAgICAgICBwcm9tcHQ6IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgICAgIGNvbmZpcm06IHVuZGVmaW5lZFxuXHQgICAgICAgICAgICB9IH1cblx0ICAgIF07XG5cdH1cblx0dmFyIEluQXBwTW9kYWxNb2R1bGUgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gSW5BcHBNb2RhbE1vZHVsZSgpIHtcblx0ICAgIH1cblx0ICAgIEluQXBwTW9kYWxNb2R1bGUuZ2V0UHJvdmlkZXJzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBnZXRQcm92aWRlcnMoKTtcblx0ICAgIH07XG5cdCAgICBJbkFwcE1vZGFsTW9kdWxlID0gX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLk5nTW9kdWxlKHtcblx0ICAgICAgICAgICAgaW1wb3J0czogW2NvbW1vbl8xLkNvbW1vbk1vZHVsZV0sXG5cdCAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW1xuXHQgICAgICAgICAgICAgICAgbW9kYWxfYmFja2Ryb3BfMS5JbkFwcE1vZGFsQmFja2Ryb3Bcblx0ICAgICAgICAgICAgXSxcblx0ICAgICAgICAgICAgcHJvdmlkZXJzOiBnZXRQcm92aWRlcnMoKSxcblx0ICAgICAgICAgICAgZW50cnlDb21wb25lbnRzOiBbXG5cdCAgICAgICAgICAgICAgICBtb2RhbF9iYWNrZHJvcF8xLkluQXBwTW9kYWxCYWNrZHJvcFxuXHQgICAgICAgICAgICBdXG5cdCAgICAgICAgfSksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgW10pXG5cdCAgICBdLCBJbkFwcE1vZGFsTW9kdWxlKTtcblx0ICAgIHJldHVybiBJbkFwcE1vZGFsTW9kdWxlO1xuXHR9KCkpO1xuXHRleHBvcnRzLkluQXBwTW9kYWxNb2R1bGUgPSBJbkFwcE1vZGFsTW9kdWxlO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDQwNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG5cdCAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcblx0ICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuXHQgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuXHR9O1xuXHR2YXIgYW5ndWxhcjJfbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBJbkFwcE1vZGFsQ29udGV4dCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG5cdCAgICBfX2V4dGVuZHMoSW5BcHBNb2RhbENvbnRleHQsIF9zdXBlcik7XG5cdCAgICBmdW5jdGlvbiBJbkFwcE1vZGFsQ29udGV4dCgpIHtcblx0ICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgIH1cblx0ICAgIEluQXBwTW9kYWxDb250ZXh0LnByb3RvdHlwZS5ub3JtYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKCF0aGlzLm1lc3NhZ2UpXG5cdCAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICcnO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBJbkFwcE1vZGFsQ29udGV4dDtcblx0fShhbmd1bGFyMl9tb2RhbF8xLk1vZGFsT3BlbkNvbnRleHQpKTtcblx0ZXhwb3J0cy5JbkFwcE1vZGFsQ29udGV4dCA9IEluQXBwTW9kYWxDb250ZXh0O1xuXHR2YXIgSW5BcHBNb2RhbENvbnRleHRCdWlsZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcblx0ICAgIF9fZXh0ZW5kcyhJbkFwcE1vZGFsQ29udGV4dEJ1aWxkZXIsIF9zdXBlcik7XG5cdCAgICBmdW5jdGlvbiBJbkFwcE1vZGFsQ29udGV4dEJ1aWxkZXIobW9kYWwpIHtcblx0ICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB7IG1vZGFsOiBtb2RhbCB9LCBbJ3RpdGxlJywgJ3RlbXBsYXRlUmVmJ10sIEluQXBwTW9kYWxDb250ZXh0KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBJbkFwcE1vZGFsQ29udGV4dEJ1aWxkZXI7XG5cdH0oYW5ndWxhcjJfbW9kYWxfMS5Nb2RhbE9wZW5Db250ZXh0QnVpbGRlcikpO1xuXHRleHBvcnRzLkluQXBwTW9kYWxDb250ZXh0QnVpbGRlciA9IEluQXBwTW9kYWxDb250ZXh0QnVpbGRlcjtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA0MDY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG5cdCAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0dmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG5cdH07XG5cdHZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIganNfbmF0aXZlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0NCk7XG5cdHZhciBwcmVzZXRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NzUpO1xuXHR2YXIgSlNOYXRpdmVEZW1vID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEpTTmF0aXZlRGVtbyhtb2RhbCkge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdCAgICAgICAgdGhpcy5tb2RhbCA9IG1vZGFsO1xuXHQgICAgICAgIHRoaXMubW9kYWxDb21tYW5kcyA9IFsnYWxlcnQnLCAncHJvbXB0JywgJ2NvbmZpcm0nXS5tYXAoZnVuY3Rpb24gKGRyb3Bpbikge1xuXHQgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgdGV4dDogZHJvcGluICsgXCIgZHJvcCBpblwiLFxuXHQgICAgICAgICAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJlc2V0c1tkcm9waW5dKF90aGlzLm1vZGFsKS5vcGVuKCk7IH1cblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIEpTTmF0aXZlRGVtbyA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5Db21wb25lbnQoe1xuXHQgICAgICAgICAgICBzZWxlY3RvcjogJ2pzLW5hdGl2ZS1kZW1vJyxcblx0ICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdkZW1vL2FwcC9qcy1uYXRpdmUtZGVtby9qcy1uYXRpdmUtZGVtby50cGwuaHRtbCcsXG5cdCAgICAgICAgICAgIC8vIFdlIG92ZXJyaWRlIHByb3ZpZGVycyBzZXQgYnkgdGhlIE1vZHVsZSBzaW5jZSB0aGlzIGFwcCBpcyB1c2luZyBtdWx0aXBsZSBtb2R1bGUgcGx1Z2luc1xuXHQgICAgICAgICAgICAvLyAoanMtbmF0aXZlLCB2ZXgsIGJvb3RzdHJhcCkgd2hpY2ggbWVzc2VzIHVwIHRoZSBwcm92aWRlciB0cmVlIChsYXN0IHBsdWdpbiB3aW5zKVxuXHQgICAgICAgICAgICAvLyB1c3VhbGx5IGFuIGFwcCB3aWxsIHVzZSBvbmUgcGx1Z2luIGFuZCB0aGlzIGxpbmUgaXMgbm90IG5lZWRlZC5cblx0ICAgICAgICAgICAgcHJvdmlkZXJzOiBqc19uYXRpdmVfMS5KU05hdGl2ZU1vZGFsTW9kdWxlLmdldFByb3ZpZGVycygpLFxuXHQgICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxuXHQgICAgICAgIH0pLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFsodHlwZW9mIChfYSA9IHR5cGVvZiBqc19uYXRpdmVfMS5Nb2RhbCAhPT0gJ3VuZGVmaW5lZCcgJiYganNfbmF0aXZlXzEuTW9kYWwpID09PSAnZnVuY3Rpb24nICYmIF9hKSB8fCBPYmplY3RdKVxuXHQgICAgXSwgSlNOYXRpdmVEZW1vKTtcblx0ICAgIHJldHVybiBKU05hdGl2ZURlbW87XG5cdCAgICB2YXIgX2E7XG5cdH0oKSk7XG5cdGV4cG9ydHMuSlNOYXRpdmVEZW1vID0gSlNOYXRpdmVEZW1vO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDQwNzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBhbmd1bGFyMl9tb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIExvZ2luRGlhbG9nID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIExvZ2luRGlhbG9nKGRpYWxvZykge1xuXHQgICAgICAgIHRoaXMuZGlhbG9nID0gZGlhbG9nO1xuXHQgICAgICAgIHRoaXMuY29udGV4dCA9IGRpYWxvZy5jb250ZXh0O1xuXHQgICAgfVxuXHQgICAgTG9naW5EaWFsb2cgPSBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcblx0ICAgICAgICAgICAgc2VsZWN0b3I6ICdsb2dpbi1kaWFsb2cnLFxuXHQgICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcblx0ICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz1cXFwidmV4LWRpYWxvZy1tZXNzYWdlXFxcIj57e2NvbnRleHQubWVzc2FnZX19PC9kaXY+XFxuICAgIDxkaXYgKm5nSWY9XFxcImNvbnRleHQuc2hvd0lucHV0XFxcIiBjbGFzcz1cXFwidmV4LWRpYWxvZy1pbnB1dFxcXCI+XFxuICAgICAgICA8aW5wdXQgbmFtZT1cXFwidmV4XFxcIiBcXG4gICAgICAgICAgICAgICB0eXBlPVxcXCJ0ZXh0XFxcIiBcXG4gICAgICAgICAgICAgICBjbGFzcz1cXFwidmV4LWRpYWxvZy1wcm9tcHQtaW5wdXRcXFwiXFxuICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XFxcImNvbnRleHQuZGVmYXVsdFJlc3VsdFxcXCIgXFxuICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcInt7Y29udGV4dC5wbGFjZWhvbGRlcn19XFxcIj5cXG4gICAgPC9kaXY+XCJcblx0ICAgICAgICB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbKHR5cGVvZiAoX2EgPSB0eXBlb2YgYW5ndWxhcjJfbW9kYWxfMS5EaWFsb2dSZWYgIT09ICd1bmRlZmluZWQnICYmIGFuZ3VsYXIyX21vZGFsXzEuRGlhbG9nUmVmKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYSkgfHwgT2JqZWN0XSlcblx0ICAgIF0sIExvZ2luRGlhbG9nKTtcblx0ICAgIHJldHVybiBMb2dpbkRpYWxvZztcblx0ICAgIHZhciBfYTtcblx0fSgpKTtcblx0ZXhwb3J0cy5Mb2dpbkRpYWxvZyA9IExvZ2luRGlhbG9nO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDQwODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciB2ZXhfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzkzKTtcblx0dmFyIGluZGV4XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0Nyk7XG5cdHZhciBwcmVzZXRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NzYpO1xuXHR2YXIgbG9naW5fZGlhbG9nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwNyk7XG5cdHZhciBWZXhEZW1vID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFZleERlbW8obW9kYWwsIHZpZXdDb250YWluZXIpIHtcblx0ICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHQgICAgICAgIHRoaXMubW9kYWwgPSBtb2RhbDtcblx0ICAgICAgICB0aGlzLnRoZW1lID0gJ2RlZmF1bHQnO1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEEgRGVmYXVsdCB2aWV3IGNvbnRhaW5lciByZWYsIHVzdWFsbHkgdGhlIGFwcCByb290IGNvbnRhaW5lciByZWYuXG5cdCAgICAgICAgICogSGFzIHRvIGJlIHNldCBtYW51YWxseSB1bnRpbCB3ZSBjYW4gZmluZCBhIHdheSB0byBnZXQgaXQgYXV0b21hdGljYWxseS5cblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0aGlzLm1vZGFsLmRlZmF1bHRWaWV3Q29udGFpbmVyID0gdmlld0NvbnRhaW5lcjtcblx0ICAgICAgICB0aGlzLm1vZGFsQ29tbWFuZHMgPSBbXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgIHRleHQ6ICdhbGVydCBkcm9wIGluJyxcblx0ICAgICAgICAgICAgICAgIGZhY3Rvcnk6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByZXNldHMuYWxlcnQuY2FsbChfdGhpcywgX3RoaXMubW9kYWwpLm9wZW4oKTsgfVxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICB0ZXh0OiAncHJvbXB0IGRyb3AgaW4nLFxuXHQgICAgICAgICAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJlc2V0cy5wcm9tcHQuY2FsbChfdGhpcywgX3RoaXMubW9kYWwpLm9wZW4oKTsgfVxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICB0ZXh0OiAnY29uZmlybSBkcm9wIGluJyxcblx0ICAgICAgICAgICAgICAgIGZhY3Rvcnk6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByZXNldHMuY29uZmlybS5jYWxsKF90aGlzLCBfdGhpcy5tb2RhbCkub3BlbigpOyB9XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgIHRleHQ6ICdDYXNjYWRpbmcgZXhhbXBsZScsXG5cdCAgICAgICAgICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcmVzZXRzLmNhc2NhZGluZy5jYWxsKF90aGlzLCBfdGhpcy5tb2RhbCkub3BlbigpOyB9XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgIHRleHQ6ICdJbiBFbGVtZW50IGV4YW1wbGUnLFxuXHQgICAgICAgICAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJlc2V0cy5hbGVydC5jYWxsKF90aGlzLCBfdGhpcy5tb2RhbCkub3BlbihfdGhpcy5kZW1vSGVhZC52Y0NvbW1hbmRzKTsgfVxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICB0ZXh0OiAnQ3VzdG9tIE1vZGFsIGV4YW1wbGUnLFxuXHQgICAgICAgICAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdmV4XzEuRGlhbG9nUHJlc2V0QnVpbGRlcihfdGhpcy5tb2RhbClcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzTmFtZShfdGhpcy50aGVtZSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQobG9naW5fZGlhbG9nXzEuTG9naW5EaWFsb2cpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC5tZXNzYWdlKCdBcnkgeW91IGNvbWluZyB0byB0aGUgZXZlbnQ/Jylcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE9rQnV0dG9uKCdZZXAhJylcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEJ1dHRvbigndmV4LWRpYWxvZy1idXR0b24tcHJpbWFyeSB2ZXgtZGlhbG9nLWJ1dHRvbicsICdNYXliZT8nLCBmdW5jdGlvbiAoY21wLCAkZXZlbnQpIHsgcmV0dXJuIGNtcC5kaWFsb2cuY2xvc2UoJ01heWJlJyk7IH0pXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDYW5jZWxCdXR0b24oJ05vcGUhJylcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLm9wZW4oKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgdGV4dDogJ25vIGJ1dHRvbnMnLFxuXHQgICAgICAgICAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJlc2V0cy5ub0J1dHRvbnMuY2FsbChfdGhpcywgX3RoaXMubW9kYWwpLm9wZW4oKTsgfVxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICB0ZXh0OiAnY3VzdG9tIGJ1dHRvbnMnLFxuXHQgICAgICAgICAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJlc2V0cy5jdXN0b21CdXR0b25zLmNhbGwoX3RoaXMsIF90aGlzLm1vZGFsKS5vcGVuKCk7IH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIF07XG5cdCAgICB9XG5cdCAgICBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuVmlld0NoaWxkKGluZGV4XzEuRGVtb0hlYWQpLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsICh0eXBlb2YgKF9hID0gdHlwZW9mIGluZGV4XzEuRGVtb0hlYWQgIT09ICd1bmRlZmluZWQnICYmIGluZGV4XzEuRGVtb0hlYWQpID09PSAnZnVuY3Rpb24nICYmIF9hKSB8fCBPYmplY3QpXG5cdCAgICBdLCBWZXhEZW1vLnByb3RvdHlwZSwgXCJkZW1vSGVhZFwiLCB2b2lkIDApO1xuXHQgICAgVmV4RGVtbyA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5Db21wb25lbnQoe1xuXHQgICAgICAgICAgICBzZWxlY3RvcjogJ3ZleC1kZW1vJyxcblx0ICAgICAgICAgICAgc3R5bGVVcmxzOiBbXG5cdCAgICAgICAgICAgICAgICAnZGVtby9hcHAvdmV4LWRlbW8vL2Nzcy92ZXguY3NzJyxcblx0ICAgICAgICAgICAgICAgICdkZW1vL2FwcC92ZXgtZGVtby8vY3NzL3ZleC10aGVtZS1kZWZhdWx0LmNzcycsXG5cdCAgICAgICAgICAgICAgICAnZGVtby9hcHAvdmV4LWRlbW8vL2Nzcy92ZXgtdGhlbWUtb3MuY3NzJyxcblx0ICAgICAgICAgICAgICAgICdkZW1vL2FwcC92ZXgtZGVtby8vY3NzL3ZleC10aGVtZS1wbGFpbi5jc3MnLFxuXHQgICAgICAgICAgICAgICAgJ2RlbW8vYXBwL3ZleC1kZW1vLy9jc3MvdmV4LXRoZW1lLXdpcmVmcmFtZS5jc3MnLFxuXHQgICAgICAgICAgICAgICAgJ2RlbW8vYXBwL3ZleC1kZW1vLy9jc3MvdmV4LXRoZW1lLWZsYXQtYXR0YWNrLmNzcycsXG5cdCAgICAgICAgICAgICAgICAnZGVtby9hcHAvdmV4LWRlbW8vL2Nzcy92ZXgtdGhlbWUtdG9wLmNzcycsXG5cdCAgICAgICAgICAgICAgICAnZGVtby9hcHAvdmV4LWRlbW8vL2Nzcy92ZXgtdGhlbWUtYm90dG9tLXJpZ2h0LWNvcm5lci5jc3MnXG5cdCAgICAgICAgICAgIF0sXG5cdCAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnZGVtby9hcHAvdmV4LWRlbW8vdmV4LWRlbW8udHBsLmh0bWwnLFxuXHQgICAgICAgICAgICAvLyBXZSBvdmVycmlkZSBwcm92aWRlcnMgc2V0IGJ5IHRoZSBNb2R1bGUgc2luY2UgdGhpcyBhcHAgaXMgdXNpbmcgbXVsdGlwbGUgbW9kdWxlIHBsdWdpbnNcblx0ICAgICAgICAgICAgLy8gKGpzLW5hdGl2ZSwgdmV4LCBib290c3RyYXApIHdoaWNoIG1lc3NlcyB1cCB0aGUgcHJvdmlkZXIgdHJlZSAobGFzdCBwbHVnaW4gd2lucylcblx0ICAgICAgICAgICAgLy8gdXN1YWxseSBhbiBhcHAgd2lsbCB1c2Ugb25lIHBsdWdpbiBhbmQgdGhpcyBsaW5lIGlzIG5vdCBuZWVkZWQuXG5cdCAgICAgICAgICAgIHByb3ZpZGVyczogdmV4XzEuVmV4TW9kYWxNb2R1bGUuZ2V0UHJvdmlkZXJzKCksXG5cdCAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGNvcmVfMS5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG5cdCAgICAgICAgfSksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgWyh0eXBlb2YgKF9iID0gdHlwZW9mIHZleF8xLk1vZGFsICE9PSAndW5kZWZpbmVkJyAmJiB2ZXhfMS5Nb2RhbCkgPT09ICdmdW5jdGlvbicgJiYgX2IpIHx8IE9iamVjdCwgKHR5cGVvZiAoX2MgPSB0eXBlb2YgY29yZV8xLlZpZXdDb250YWluZXJSZWYgIT09ICd1bmRlZmluZWQnICYmIGNvcmVfMS5WaWV3Q29udGFpbmVyUmVmKSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYykgfHwgT2JqZWN0XSlcblx0ICAgIF0sIFZleERlbW8pO1xuXHQgICAgcmV0dXJuIFZleERlbW87XG5cdCAgICB2YXIgX2EsIF9iLCBfYztcblx0fSgpKTtcblx0ZXhwb3J0cy5WZXhEZW1vID0gVmV4RGVtbztcblxuXG4vKioqLyB9LFxuXG4vKioqLyA1NTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG5cdCAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0dmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG5cdH07XG5cdHZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgcGxhdGZvcm1fYnJvd3Nlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7XG5cdHZhciBpbmRleF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDYpO1xuXHR2YXIgdG9rZW5zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0MCk7XG5cdHZhciBkb21fbW9kYWxfcmVuZGVyZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzk5KTtcblx0dmFyIE1vZGFsTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIE1vZGFsTW9kdWxlKCkge1xuXHQgICAgfVxuXHQgICAgTW9kYWxNb2R1bGUuZm9yUm9vdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICBuZ01vZHVsZTogTW9kYWxNb2R1bGUsXG5cdCAgICAgICAgICAgIHByb3ZpZGVyczogW1xuXHQgICAgICAgICAgICAgICAgeyBwcm92aWRlOiB0b2tlbnNfMS5Nb2RhbFJlbmRlcmVyLCB1c2VDbGFzczogZG9tX21vZGFsX3JlbmRlcmVyXzEuRE9NTW9kYWxSZW5kZXJlciB9LFxuXHQgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBwbGF0Zm9ybV9icm93c2VyXzEuRVZFTlRfTUFOQUdFUl9QTFVHSU5TLCB1c2VDbGFzczogaW5kZXhfMS5ET01PdXRzaWRlRXZlbnRQbHVnaW4sIG11bHRpOiB0cnVlIH0sXG5cdCAgICAgICAgICAgIF1cblx0ICAgICAgICB9O1xuXHQgICAgfTtcblx0ICAgIE1vZGFsTW9kdWxlID0gX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLk5nTW9kdWxlKHt9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbXSlcblx0ICAgIF0sIE1vZGFsTW9kdWxlKTtcblx0ICAgIHJldHVybiBNb2RhbE1vZHVsZTtcblx0fSgpKTtcblx0ZXhwb3J0cy5Nb2RhbE1vZHVsZSA9IE1vZGFsTW9kdWxlO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDU1ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKipcblx0ICogQSBkdW1iIHN0YWNrIGltcGxlbWVudGF0aW9uIG92ZXIgYW4gYXJyYXkuXG5cdCAqL1xuXHR2YXIgRGlhbG9nUmVmU3RhY2sgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gRGlhbG9nUmVmU3RhY2soKSB7XG5cdCAgICAgICAgdGhpcy5fc3RhY2sgPSBbXTtcblx0ICAgIH1cblx0ICAgIERpYWxvZ1JlZlN0YWNrLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGRpYWxvZ1JlZikge1xuXHQgICAgICAgIHZhciBpZHggPSB0aGlzLl9zdGFjay5pbmRleE9mKGRpYWxvZ1JlZik7XG5cdCAgICAgICAgaWYgKGlkeCA9PT0gLTEpXG5cdCAgICAgICAgICAgIHRoaXMuX3N0YWNrLnB1c2goZGlhbG9nUmVmKTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIFB1c2ggYSBEaWFsb2dSZWYgaW50byB0aGUgc3RhY2sgYW5kIG1hbmFnZSBpdCBzbyB3aGVuIGl0J3MgZG9uZVxuXHQgICAgICogaXQgd2lsbCBhdXRvbWF0aWNhbGx5IGtpY2sgaXRzZWxmIG91dCBvZiB0aGUgc3RhY2suXG5cdCAgICAgKiBAcGFyYW0gZGlhbG9nUmVmXG5cdCAgICAgKi9cblx0ICAgIERpYWxvZ1JlZlN0YWNrLnByb3RvdHlwZS5wdXNoTWFuYWdlZCA9IGZ1bmN0aW9uIChkaWFsb2dSZWYpIHtcblx0ICAgICAgICB0aGlzLnB1c2goZGlhbG9nUmVmKTtcblx0ICAgIH07XG5cdCAgICBEaWFsb2dSZWZTdGFjay5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHRoaXMuX3N0YWNrLnBvcCgpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogUmVtb3ZlIGEgRGlhbG9nUmVmIGZyb20gdGhlIHN0YWNrLlxuXHQgICAgICogQHBhcmFtIGRpYWxvZ1JlZlxuXHQgICAgICovXG5cdCAgICBEaWFsb2dSZWZTdGFjay5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGRpYWxvZ1JlZikge1xuXHQgICAgICAgIHZhciBpZHggPSB0aGlzLl9zdGFjay5pbmRleE9mKGRpYWxvZ1JlZik7XG5cdCAgICAgICAgaWYgKGlkeCA+IC0xKVxuXHQgICAgICAgICAgICB0aGlzLl9zdGFjay5zcGxpY2UoaWR4LCAxKTtcblx0ICAgIH07XG5cdCAgICBEaWFsb2dSZWZTdGFjay5wcm90b3R5cGUuaW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fc3RhY2tbaW5kZXhdO1xuXHQgICAgfTtcblx0ICAgIERpYWxvZ1JlZlN0YWNrLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKGRpYWxvZ1JlZikge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9zdGFjay5pbmRleE9mKGRpYWxvZ1JlZik7XG5cdCAgICB9O1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpYWxvZ1JlZlN0YWNrLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuXHQgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhY2subGVuZ3RoO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgICAgICBjb25maWd1cmFibGU6IHRydWVcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIERpYWxvZ1JlZlN0YWNrO1xuXHR9KCkpO1xuXHRleHBvcnRzLkRpYWxvZ1JlZlN0YWNrID0gRGlhbG9nUmVmU3RhY2s7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTU5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcblx0ICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuXHQgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG5cdCAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG5cdH07XG5cdHZhciBpbmRleF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDYpO1xuXHR2YXIgbW9kYWxfY29udGV4dF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODMpO1xuXHR2YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTE4KTtcblx0dmFyIERFRkFVTFRfU0VUVEVSUyA9IFtcblx0ICAgICdjb21wb25lbnQnXG5cdF07XG5cdHZhciBNb2RhbE9wZW5Db250ZXh0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcblx0ICAgIF9fZXh0ZW5kcyhNb2RhbE9wZW5Db250ZXh0LCBfc3VwZXIpO1xuXHQgICAgZnVuY3Rpb24gTW9kYWxPcGVuQ29udGV4dCgpIHtcblx0ICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBNb2RhbE9wZW5Db250ZXh0O1xuXHR9KG1vZGFsX2NvbnRleHRfMS5Nb2RhbENvbnRleHQpKTtcblx0ZXhwb3J0cy5Nb2RhbE9wZW5Db250ZXh0ID0gTW9kYWxPcGVuQ29udGV4dDtcblx0LyoqXG5cdCAqIEEgTW9kYWwgQ29udGV4dCB0aGF0IGtub3dzIGFib3V0IHRoZSBtb2RhbCBzZXJ2aWNlLCBhbmQgc28gY2FuIG9wZW4gYSBtb2RhbCB3aW5kb3cgb24gZGVtYW5kLlxuXHQgKiBVc2UgdGhlIGZsdWVudCBBUEkgdG8gY29uZmlndXJlIHRoZSBwcmVzZXQgYW5kIHRoZW4gaW52b2tlIHRoZSAnb3BlbicgbWV0aG9kIHRvIG9wZW4gYSBtb2RhbFxuXHQgKiBiYXNlZCBvbiB0aGUgY29udGV4dC5cblx0ICovXG5cdHZhciBNb2RhbE9wZW5Db250ZXh0QnVpbGRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG5cdCAgICBfX2V4dGVuZHMoTW9kYWxPcGVuQ29udGV4dEJ1aWxkZXIsIF9zdXBlcik7XG5cdCAgICBmdW5jdGlvbiBNb2RhbE9wZW5Db250ZXh0QnVpbGRlcihkZWZhdWx0VmFsdWVzLCBpbml0aWFsU2V0dGVycywgYmFzZVR5cGUpIHtcblx0ICAgICAgICBpZiAoZGVmYXVsdFZhbHVlcyA9PT0gdm9pZCAwKSB7IGRlZmF1bHRWYWx1ZXMgPSB1bmRlZmluZWQ7IH1cblx0ICAgICAgICBpZiAoaW5pdGlhbFNldHRlcnMgPT09IHZvaWQgMCkgeyBpbml0aWFsU2V0dGVycyA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIGlmIChiYXNlVHlwZSA9PT0gdm9pZCAwKSB7IGJhc2VUeXBlID0gdW5kZWZpbmVkOyB9XG5cdCAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZGVmYXVsdFZhbHVlcyB8fCB7fSwgdXRpbHNfMS5hcnJheVVuaW9uKERFRkFVTFRfU0VUVEVSUywgaW5pdGlhbFNldHRlcnMgfHwgW10pLCBiYXNlVHlwZSk7XG5cdCAgICB9XG5cdCAgICAvKipcblx0ICAgICAqIEhvb2sgdG8gYWx0ZXIgY29uZmlnIGFuZCByZXR1cm4gYmluZGluZ3MuXG5cdCAgICAgKiBAcGFyYW0gY29uZmlnXG5cdCAgICAgKi9cblx0ICAgIE1vZGFsT3BlbkNvbnRleHRCdWlsZGVyLnByb3RvdHlwZS4kJGJlZm9yZU9wZW4gPSBmdW5jdGlvbiAoY29uZmlnKSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogT3BlbiBhIG1vZGFsIHdpbmRvdyBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGlzIGNvbmZpZyBpbnN0YW5jZS5cblx0ICAgICAqIEBwYXJhbSB2aWV3Q29udGFpbmVyIElmIHNldCBvcGVucyB0aGUgbW9kYWwgaW5zaWRlIHRoZSBzdXBwbGllZCB2aWV3Q29udGFpbmVyXG5cdCAgICAgKiBAcmV0dXJucyBQcm9taXNlPERpYWxvZ1JlZj5cblx0ICAgICAqL1xuXHQgICAgTW9kYWxPcGVuQ29udGV4dEJ1aWxkZXIucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAodmlld0NvbnRhaW5lcikge1xuXHQgICAgICAgIHZhciBjb25maWcgPSB0aGlzLnRvSlNPTigpO1xuXHQgICAgICAgIGlmICghKGNvbmZpZy5tb2RhbCBpbnN0YW5jZW9mIGluZGV4XzEuTW9kYWwpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0NvbmZpZ3VyYXRpb24gRXJyb3I6IG1vZGFsIHNlcnZpY2Ugbm90IHNldC4nKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBiaW5kaW5ncyA9IHR5cGVvZiB0aGlzLiQkYmVmb3JlT3BlbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLiQkYmVmb3JlT3Blbihjb25maWcpO1xuXHQgICAgICAgIHJldHVybiBjb25maWcubW9kYWwub3Blbihjb25maWcuY29tcG9uZW50LCBjb25maWcsIGJpbmRpbmdzLCB2aWV3Q29udGFpbmVyKTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gTW9kYWxPcGVuQ29udGV4dEJ1aWxkZXI7XG5cdH0obW9kYWxfY29udGV4dF8xLk1vZGFsQ29udGV4dEJ1aWxkZXIpKTtcblx0ZXhwb3J0cy5Nb2RhbE9wZW5Db250ZXh0QnVpbGRlciA9IE1vZGFsT3BlbkNvbnRleHRCdWlsZGVyO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDU2MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHR2YXIgbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQyKTtcblx0dmFyIG1vZGFsX2JhY2tkcm9wXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4NCk7XG5cdHZhciBtZXNzYWdlX21vZGFsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0MSk7XG5cdHZhciBtb2RhbF9jb250YWluZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzg1KTtcblx0dmFyIG1vZGFsX2Zvb3Rlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODcpO1xuXHR2YXIgb25lX2J1dHRvbl9wcmVzZXRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzg4KTtcblx0dmFyIHR3b19idXR0b25fcHJlc2V0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4OSk7XG5cdHZhciBhbmd1bGFyMl9tb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0ZnVuY3Rpb24gZ2V0UHJvdmlkZXJzKCkge1xuXHQgICAgcmV0dXJuIFtcblx0ICAgICAgICB7IHByb3ZpZGU6IGFuZ3VsYXIyX21vZGFsXzEuTW9kYWwsIHVzZUNsYXNzOiBtb2RhbF8xLk1vZGFsIH0sXG5cdCAgICAgICAgeyBwcm92aWRlOiBtb2RhbF8xLk1vZGFsLCB1c2VDbGFzczogbW9kYWxfMS5Nb2RhbCB9LFxuXHQgICAgICAgIHsgcHJvdmlkZTogYW5ndWxhcjJfbW9kYWxfMS5Nb2RhbEJhY2tkcm9wQ29tcG9uZW50LCB1c2VWYWx1ZTogbW9kYWxfYmFja2Ryb3BfMS5CU01vZGFsQmFja2Ryb3AgfSxcblx0ICAgICAgICB7IHByb3ZpZGU6IGFuZ3VsYXIyX21vZGFsXzEuTW9kYWxEcm9wSW5GYWN0b3J5LCB1c2VWYWx1ZToge1xuXHQgICAgICAgICAgICAgICAgYWxlcnQ6IGZ1bmN0aW9uIChtb2RhbCkgeyByZXR1cm4gbmV3IG9uZV9idXR0b25fcHJlc2V0XzEuT25lQnV0dG9uUHJlc2V0QnVpbGRlcihtb2RhbCwgeyBpc0Jsb2NraW5nOiBmYWxzZSB9KTsgfSxcblx0ICAgICAgICAgICAgICAgIHByb21wdDogZnVuY3Rpb24gKG1vZGFsKSB7IHJldHVybiBuZXcgb25lX2J1dHRvbl9wcmVzZXRfMS5PbmVCdXR0b25QcmVzZXRCdWlsZGVyKG1vZGFsLCB7IGlzQmxvY2tpbmc6IHRydWUsIGtleWJvYXJkOiBudWxsIH0pOyB9LFxuXHQgICAgICAgICAgICAgICAgY29uZmlybTogZnVuY3Rpb24gKG1vZGFsKSB7IHJldHVybiBuZXcgdHdvX2J1dHRvbl9wcmVzZXRfMS5Ud29CdXR0b25QcmVzZXRCdWlsZGVyKG1vZGFsLCB7IGlzQmxvY2tpbmc6IHRydWUsIGtleWJvYXJkOiBudWxsIH0pOyB9XG5cdCAgICAgICAgICAgIH0gfVxuXHQgICAgXTtcblx0fVxuXHR2YXIgQm9vdHN0cmFwTW9kYWxNb2R1bGUgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gQm9vdHN0cmFwTW9kYWxNb2R1bGUoKSB7XG5cdCAgICB9XG5cdCAgICBCb290c3RyYXBNb2RhbE1vZHVsZS5nZXRQcm92aWRlcnMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIGdldFByb3ZpZGVycygpO1xuXHQgICAgfTtcblx0ICAgIEJvb3RzdHJhcE1vZGFsTW9kdWxlID0gX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLk5nTW9kdWxlKHtcblx0ICAgICAgICAgICAgaW1wb3J0czogW2NvbW1vbl8xLkNvbW1vbk1vZHVsZV0sXG5cdCAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW1xuXHQgICAgICAgICAgICAgICAgbW9kYWxfYmFja2Ryb3BfMS5CU01vZGFsQmFja2Ryb3AsXG5cdCAgICAgICAgICAgICAgICBtZXNzYWdlX21vZGFsXzEuQlNNZXNzYWdlTW9kYWwsXG5cdCAgICAgICAgICAgICAgICBtb2RhbF9jb250YWluZXJfMS5CU01vZGFsQ29udGFpbmVyLFxuXHQgICAgICAgICAgICAgICAgbW9kYWxfZm9vdGVyXzEuQlNNb2RhbEZvb3RlclxuXHQgICAgICAgICAgICBdLFxuXHQgICAgICAgICAgICBwcm92aWRlcnM6IGdldFByb3ZpZGVycygpLFxuXHQgICAgICAgICAgICBlbnRyeUNvbXBvbmVudHM6IFtcblx0ICAgICAgICAgICAgICAgIG1vZGFsX2JhY2tkcm9wXzEuQlNNb2RhbEJhY2tkcm9wLFxuXHQgICAgICAgICAgICAgICAgbWVzc2FnZV9tb2RhbF8xLkJTTWVzc2FnZU1vZGFsXG5cdCAgICAgICAgICAgIF1cblx0ICAgICAgICB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbXSlcblx0ICAgIF0sIEJvb3RzdHJhcE1vZGFsTW9kdWxlKTtcblx0ICAgIHJldHVybiBCb290c3RyYXBNb2RhbE1vZHVsZTtcblx0fSgpKTtcblx0ZXhwb3J0cy5Cb290c3RyYXBNb2RhbE1vZHVsZSA9IEJvb3RzdHJhcE1vZGFsTW9kdWxlO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDU2MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBtb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDUpO1xuXHR2YXIganNfbmF0aXZlX21vZGFsX3JlbmRlcmVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5MCk7XG5cdHZhciBqc19uYXRpdmVfcHJlc2V0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5Mik7XG5cdHZhciBhbmd1bGFyMl9tb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0ZnVuY3Rpb24gZ2V0UHJvdmlkZXJzKCkge1xuXHQgICAgcmV0dXJuIFtcblx0ICAgICAgICB7IHByb3ZpZGU6IGFuZ3VsYXIyX21vZGFsXzEuTW9kYWwsIHVzZUNsYXNzOiBtb2RhbF8xLk1vZGFsIH0sXG5cdCAgICAgICAgeyBwcm92aWRlOiBtb2RhbF8xLk1vZGFsLCB1c2VDbGFzczogbW9kYWxfMS5Nb2RhbCB9LFxuXHQgICAgICAgIHsgcHJvdmlkZTogYW5ndWxhcjJfbW9kYWxfMS5Nb2RhbFJlbmRlcmVyLCB1c2VDbGFzczoganNfbmF0aXZlX21vZGFsX3JlbmRlcmVyXzEuSlNOYXRpdmVNb2RhbFJlbmRlcmVyIH0sXG5cdCAgICAgICAgeyBwcm92aWRlOiBhbmd1bGFyMl9tb2RhbF8xLk1vZGFsQmFja2Ryb3BDb21wb25lbnQsIHVzZVZhbHVlOiB7fSB9LFxuXHQgICAgICAgIHsgcHJvdmlkZTogYW5ndWxhcjJfbW9kYWxfMS5Nb2RhbERyb3BJbkZhY3RvcnksIHVzZVZhbHVlOiB7XG5cdCAgICAgICAgICAgICAgICBhbGVydDogZnVuY3Rpb24gKG1vZGFsKSB7IHJldHVybiBuZXcganNfbmF0aXZlX3ByZXNldF8xLkpTTmF0aXZlUHJlc2V0QnVpbGRlcihtb2RhbCwgYW5ndWxhcjJfbW9kYWxfMS5EUk9QX0lOX1RZUEUuYWxlcnQpOyB9LFxuXHQgICAgICAgICAgICAgICAgcHJvbXB0OiBmdW5jdGlvbiAobW9kYWwpIHsgcmV0dXJuIG5ldyBqc19uYXRpdmVfcHJlc2V0XzEuSlNOYXRpdmVQcmVzZXRCdWlsZGVyKG1vZGFsLCBhbmd1bGFyMl9tb2RhbF8xLkRST1BfSU5fVFlQRS5wcm9tcHQpOyB9LFxuXHQgICAgICAgICAgICAgICAgY29uZmlybTogZnVuY3Rpb24gKG1vZGFsKSB7IHJldHVybiBuZXcganNfbmF0aXZlX3ByZXNldF8xLkpTTmF0aXZlUHJlc2V0QnVpbGRlcihtb2RhbCwgYW5ndWxhcjJfbW9kYWxfMS5EUk9QX0lOX1RZUEUuY29uZmlybSk7IH1cblx0ICAgICAgICAgICAgfSB9XG5cdCAgICBdO1xuXHR9XG5cdHZhciBKU05hdGl2ZU1vZGFsTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEpTTmF0aXZlTW9kYWxNb2R1bGUoKSB7XG5cdCAgICB9XG5cdCAgICBKU05hdGl2ZU1vZGFsTW9kdWxlLmdldFByb3ZpZGVycyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gZ2V0UHJvdmlkZXJzKCk7XG5cdCAgICB9O1xuXHQgICAgSlNOYXRpdmVNb2RhbE1vZHVsZSA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5OZ01vZHVsZSh7XG5cdCAgICAgICAgICAgIHByb3ZpZGVyczogZ2V0UHJvdmlkZXJzKClcblx0ICAgICAgICB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbXSlcblx0ICAgIF0sIEpTTmF0aXZlTW9kYWxNb2R1bGUpO1xuXHQgICAgcmV0dXJuIEpTTmF0aXZlTW9kYWxNb2R1bGU7XG5cdH0oKSk7XG5cdGV4cG9ydHMuSlNOYXRpdmVNb2RhbE1vZHVsZSA9IEpTTmF0aXZlTW9kYWxNb2R1bGU7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTYyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xuXHR9O1xuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdHZhciBtb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjUpO1xuXHR2YXIgYW5ndWxhcjJfbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBkcm9waW5fcHJlc2V0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5OCk7XG5cdHZhciBtb2RhbF9iYWNrZHJvcF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOTQpO1xuXHR2YXIgbW9kYWxfY29udGVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOTUpO1xuXHR2YXIgZGlhbG9nX2Zvcm1fbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTY0KTtcblx0ZnVuY3Rpb24gZ2V0UHJvdmlkZXJzKCkge1xuXHQgICAgcmV0dXJuIFtcblx0ICAgICAgICB7IHByb3ZpZGU6IGFuZ3VsYXIyX21vZGFsXzEuTW9kYWwsIHVzZUNsYXNzOiBtb2RhbF8xLk1vZGFsIH0sXG5cdCAgICAgICAgeyBwcm92aWRlOiBtb2RhbF8xLk1vZGFsLCB1c2VDbGFzczogbW9kYWxfMS5Nb2RhbCB9LFxuXHQgICAgICAgIHsgcHJvdmlkZTogYW5ndWxhcjJfbW9kYWxfMS5Nb2RhbEJhY2tkcm9wQ29tcG9uZW50LCB1c2VWYWx1ZTogbW9kYWxfYmFja2Ryb3BfMS5WZXhNb2RhbEJhY2tkcm9wIH0sXG5cdCAgICAgICAgeyBwcm92aWRlOiBhbmd1bGFyMl9tb2RhbF8xLk1vZGFsRHJvcEluRmFjdG9yeSwgdXNlVmFsdWU6IHtcblx0ICAgICAgICAgICAgICAgIGFsZXJ0OiBmdW5jdGlvbiAobW9kYWwpIHsgcmV0dXJuIG5ldyBkcm9waW5fcHJlc2V0XzEuRHJvcEluUHJlc2V0QnVpbGRlcihtb2RhbCwgYW5ndWxhcjJfbW9kYWxfMS5EUk9QX0lOX1RZUEUuYWxlcnQsIHsgaXNCbG9ja2luZzogZmFsc2UgfSk7IH0sXG5cdCAgICAgICAgICAgICAgICBwcm9tcHQ6IGZ1bmN0aW9uIChtb2RhbCkgeyByZXR1cm4gbmV3IGRyb3Bpbl9wcmVzZXRfMS5Ecm9wSW5QcmVzZXRCdWlsZGVyKG1vZGFsLCBhbmd1bGFyMl9tb2RhbF8xLkRST1BfSU5fVFlQRS5wcm9tcHQsIHsgaXNCbG9ja2luZzogdHJ1ZSwga2V5Ym9hcmQ6IG51bGwgfSk7IH0sXG5cdCAgICAgICAgICAgICAgICBjb25maXJtOiBmdW5jdGlvbiAobW9kYWwpIHsgcmV0dXJuIG5ldyBkcm9waW5fcHJlc2V0XzEuRHJvcEluUHJlc2V0QnVpbGRlcihtb2RhbCwgYW5ndWxhcjJfbW9kYWxfMS5EUk9QX0lOX1RZUEUuY29uZmlybSwgeyBpc0Jsb2NraW5nOiB0cnVlLCBrZXlib2FyZDogbnVsbCB9KTsgfVxuXHQgICAgICAgICAgICB9IH1cblx0ICAgIF07XG5cdH1cblx0dmFyIFZleE1vZGFsTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFZleE1vZGFsTW9kdWxlKCkge1xuXHQgICAgfVxuXHQgICAgVmV4TW9kYWxNb2R1bGUuZ2V0UHJvdmlkZXJzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBnZXRQcm92aWRlcnMoKTtcblx0ICAgIH07XG5cdCAgICBWZXhNb2RhbE1vZHVsZSA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5OZ01vZHVsZSh7XG5cdCAgICAgICAgICAgIGltcG9ydHM6IFtjb21tb25fMS5Db21tb25Nb2R1bGVdLFxuXHQgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtcblx0ICAgICAgICAgICAgICAgIG1vZGFsX2JhY2tkcm9wXzEuVmV4TW9kYWxCYWNrZHJvcCxcblx0ICAgICAgICAgICAgICAgIG1vZGFsX2NvbnRlbnRfMS5WZXhNb2RhbENvbnRlbnQsXG5cdCAgICAgICAgICAgICAgICBkaWFsb2dfZm9ybV9tb2RhbF8xLkRpYWxvZ0Zvcm1Nb2RhbCxcblx0ICAgICAgICAgICAgICAgIGRpYWxvZ19mb3JtX21vZGFsXzEuRm9ybURyb3BJbixcblx0ICAgICAgICAgICAgICAgIGRpYWxvZ19mb3JtX21vZGFsXzEuVkVYRGlhbG9nQnV0dG9uc1xuXHQgICAgICAgICAgICBdLFxuXHQgICAgICAgICAgICBwcm92aWRlcnM6IGdldFByb3ZpZGVycygpLFxuXHQgICAgICAgICAgICBlbnRyeUNvbXBvbmVudHM6IFtcblx0ICAgICAgICAgICAgICAgIG1vZGFsX2JhY2tkcm9wXzEuVmV4TW9kYWxCYWNrZHJvcCxcblx0ICAgICAgICAgICAgICAgIGRpYWxvZ19mb3JtX21vZGFsXzEuRGlhbG9nRm9ybU1vZGFsLFxuXHQgICAgICAgICAgICAgICAgZGlhbG9nX2Zvcm1fbW9kYWxfMS5Gb3JtRHJvcEluXG5cdCAgICAgICAgICAgIF1cblx0ICAgICAgICB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbXSlcblx0ICAgIF0sIFZleE1vZGFsTW9kdWxlKTtcblx0ICAgIHJldHVybiBWZXhNb2RhbE1vZHVsZTtcblx0fSgpKTtcblx0ZXhwb3J0cy5WZXhNb2RhbE1vZHVsZSA9IFZleE1vZGFsTW9kdWxlO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDU2Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxuXHR9O1xuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIHRva2Vuc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDApO1xuXHR2YXIgZGlhbG9nX3JlZl9zdGFja18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NTgpO1xuXHR2YXIgZGlhbG9nX3JlZl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODIpO1xuXHR2YXIgX3N0YWNrID0gbmV3IGRpYWxvZ19yZWZfc3RhY2tfMS5EaWFsb2dSZWZTdGFjaygpO1xuXHR2YXIgdW5zdXBwb3J0ZWREcm9wSW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIERyb3AtaW4uJyk7XG5cdH07XG5cdHZhciBVbnN1cHBvcnRlZERyb3BJbkZhY3RvcnkgPSB7XG5cdCAgICBhbGVydDogdW5zdXBwb3J0ZWREcm9wSW4sXG5cdCAgICBwcm9tcHQ6IHVuc3VwcG9ydGVkRHJvcEluLFxuXHQgICAgY29uZmlybTogdW5zdXBwb3J0ZWREcm9wSW5cblx0fTtcblx0ZnVuY3Rpb24gbm9ybWFsaXplRHJvcEluRmFjdG9yeShkcm9wSW5GYWN0b3J5KSB7XG5cdCAgICBpZiAoIWRyb3BJbkZhY3RvcnkpXG5cdCAgICAgICAgcmV0dXJuIFVuc3VwcG9ydGVkRHJvcEluRmFjdG9yeTtcblx0ICAgIHJldHVybiBbJ2FsZXJ0JywgJ3Byb21wdCcsICdjb25maXJtJ11cblx0ICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChkaWYsIGtleSkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgZGlmW2tleV0gIT09ICdmdW5jdGlvbicpXG5cdCAgICAgICAgICAgIGRpZltrZXldID0gdW5zdXBwb3J0ZWREcm9wSW47XG5cdCAgICAgICAgcmV0dXJuIGRpZjtcblx0ICAgIH0sIGRyb3BJbkZhY3RvcnkpO1xuXHR9XG5cdHZhciBNb2RhbCA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBNb2RhbChfbW9kYWxSZW5kZXJlciwgX2JhY2tkcm9wLCBfZHJvcEluKSB7XG5cdCAgICAgICAgdGhpcy5fbW9kYWxSZW5kZXJlciA9IF9tb2RhbFJlbmRlcmVyO1xuXHQgICAgICAgIHRoaXMuX2JhY2tkcm9wID0gX2JhY2tkcm9wO1xuXHQgICAgICAgIHRoaXMuX2Ryb3BJbiA9IG5vcm1hbGl6ZURyb3BJbkZhY3RvcnkoX2Ryb3BJbik7XG5cdCAgICB9XG5cdCAgICBNb2RhbC5wcm90b3R5cGUuYWxlcnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BJbi5hbGVydCh0aGlzKTtcblx0ICAgIH07XG5cdCAgICBNb2RhbC5wcm90b3R5cGUucHJvbXB0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9kcm9wSW4ucHJvbXB0KHRoaXMpO1xuXHQgICAgfTtcblx0ICAgIE1vZGFsLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9kcm9wSW4uY29uZmlybSh0aGlzKTtcblx0ICAgIH07XG5cdCAgICAvKipcblx0ICAgICAqIE9wZW5zIGEgbW9kYWwgd2luZG93IGluc2lkZSBhbiBleGlzdGluZyBjb21wb25lbnQuXG5cdCAgICAgKiBJZlxuXHQgICAgICogQHBhcmFtIGNvbXBvbmVudFR5cGUgVGhlIGFuZ3VsYXIgQ29tcG9uZW50IHRvIHJlbmRlciBhcyB0aGUgbW9kYWwgY29udGVudC5cblx0ICAgICAqIEBwYXJhbSBiaW5kaW5ncyBSZXNvbHZlZCBwcm92aWRlcnMgdGhhdCB3aWxsIGluamVjdCBpbnRvIHRoZSBjb21wb25lbnQgcHJvdmlkZWQuXG5cdCAgICAgKiBAcGFyYW0gY29udGV4dCBUaGUgY29udGV4dCBmb3IgdGhlIG1vZGFsLCBhdHRhY2hlZCB0byB0aGUgZGlhbG9nIGluc3RhbmNlLCBEaWFsb2dSZWYuY29udGV4dC5cblx0ICAgICAqICAgICAgICBEZWZhdWx0OiB7fVxuXHQgICAgICogQHBhcmFtIHZpZXdDb250YWluZXIgVGhlIGVsZW1lbnQgdG8gYmxvY2sgdXNpbmcgdGhlIG1vZGFsLlxuXHQgICAgICogICAgICAgIERlZmF1bHQ6IFRoZSB2YWx1ZSBzZXQgaW4gZGVmYXVsdFZpZXdDb250YWluZXIuXG5cdCAgICAgKiBAcGFyYW0gaW5zaWRlIElmIHRydWUsIHJlbmRlcidzIHRoZSBjb21wb25lbnQgaW5zaWRlIHRoZSBWaWV3Q29udGFpbmVyUmVmLFxuXHQgICAgICogICAgICAgIG90aGVyd2lzZSByZW5kZXIncyB0aGUgY29tcG9uZW50IGluIHRoZSByb290IGVsZW1lbnQgKGJvZHkgaW4gRE9NKVxuXHQgICAgICogICAgICAgIERlZmF1bHQ6IHRydWUgaWYgVmlld0NvbnRhaW5lciBzdXBwbGllZCwgZmFsc2UgaWYgbm90IHN1cHBsaWVkLlxuXHQgICAgICogQHJldHVybnMge1Byb21pc2U8RGlhbG9nUmVmPn1cblx0ICAgICAqL1xuXHQgICAgTW9kYWwucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoY29tcG9uZW50VHlwZSwgY29udGV4dCwgYmluZGluZ3MsIHZpZXdDb250YWluZXIsIGluc2lkZSkge1xuXHQgICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IHVuZGVmaW5lZDsgfVxuXHQgICAgICAgIGlmIChiaW5kaW5ncyA9PT0gdm9pZCAwKSB7IGJpbmRpbmdzID0gdW5kZWZpbmVkOyB9XG5cdCAgICAgICAgaWYgKHZpZXdDb250YWluZXIgPT09IHZvaWQgMCkgeyB2aWV3Q29udGFpbmVyID0gdW5kZWZpbmVkOyB9XG5cdCAgICAgICAgaW5zaWRlID0gaW5zaWRlID09PSB1bmRlZmluZWQgPyAhIXZpZXdDb250YWluZXIgOiAhIWluc2lkZTtcblx0ICAgICAgICBpZiAoIXZpZXdDb250YWluZXIpIHtcblx0ICAgICAgICAgICAgaWYgKCF0aGlzLmRlZmF1bHRWaWV3Q29udGFpbmVyKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RlZmF1bHRWaWV3Q29udGFpbmVyIG5vdCBzZXQuJyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmlld0NvbnRhaW5lciA9IHRoaXMuZGVmYXVsdFZpZXdDb250YWluZXI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjb250ZXh0KSB7XG5cdCAgICAgICAgICAgIGNvbnRleHQubm9ybWFsaXplKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBkaWFsb2cgPSBuZXcgZGlhbG9nX3JlZl8xLkRpYWxvZ1JlZihjb250ZXh0IHx8IHt9KTtcblx0ICAgICAgICBkaWFsb2cuaW5FbGVtZW50ID0gaW5zaWRlO1xuXHQgICAgICAgIHZhciBjb21waWxlQ29uZmlnID0gbmV3IHRva2Vuc18xLk1vZGFsQ29tcGlsZUNvbmZpZyhjb21wb25lbnRUeXBlLCBiaW5kaW5ncyB8fCBbXSk7XG5cdCAgICAgICAgdmFyIGIgPSBjb3JlXzEuUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUoW1xuXHQgICAgICAgICAgICB7IHByb3ZpZGU6IE1vZGFsLCB1c2VWYWx1ZTogdGhpcyB9LFxuXHQgICAgICAgICAgICB7IHByb3ZpZGU6IHRva2Vuc18xLk1vZGFsUmVuZGVyZXIsIHVzZVZhbHVlOiB0aGlzLl9tb2RhbFJlbmRlcmVyIH0sXG5cdCAgICAgICAgICAgIHsgcHJvdmlkZTogZGlhbG9nX3JlZl8xLkRpYWxvZ1JlZiwgdXNlVmFsdWU6IGRpYWxvZyB9LFxuXHQgICAgICAgICAgICB7IHByb3ZpZGU6IHRva2Vuc18xLk1vZGFsQ29tcGlsZUNvbmZpZywgdXNlVmFsdWU6IGNvbXBpbGVDb25maWcgfVxuXHQgICAgICAgIF0pO1xuXHQgICAgICAgIHRoaXMuX21vZGFsUmVuZGVyZXIucmVuZGVyKHRoaXMuX2JhY2tkcm9wLCB2aWV3Q29udGFpbmVyLCBiLCBkaWFsb2cpO1xuXHQgICAgICAgIF9zdGFjay5wdXNoTWFuYWdlZChkaWFsb2cpO1xuXHQgICAgICAgIGRpYWxvZy5vbkRlc3Ryb3kuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9zdGFjay5yZW1vdmUoZGlhbG9nKTsgfSk7XG5cdCAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkaWFsb2cpO1xuXHQgICAgfTtcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2sgaWYgYSBnaXZlbiBEaWFsb2dSZWYgaXMgdGhlIHRvcCBtb3N0IHJlZiBpbiB0aGUgc3RhY2suXG5cdCAgICAgKiBUT0RPOiBkaXN0aW5ndWlzaCBiZXR3ZWVuIGJvZHkgbW9kYWwgdnMgaW4gZWxlbWVudCBtb2RhbC5cblx0ICAgICAqIEBwYXJhbSBkaWFsb2dSZWZcblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgICAgICovXG5cdCAgICBNb2RhbC5wcm90b3R5cGUuaXNUb3BNb3N0ID0gZnVuY3Rpb24gKGRpYWxvZ1JlZikge1xuXHQgICAgICAgIHJldHVybiBfc3RhY2suaW5kZXhPZihkaWFsb2dSZWYpID09PSBfc3RhY2subGVuZ3RoIC0gMTtcblx0ICAgIH07XG5cdCAgICBNb2RhbC5wcm90b3R5cGUuc3RhY2tQb3NpdGlvbiA9IGZ1bmN0aW9uIChkaWFsb2dSZWYpIHtcblx0ICAgICAgICByZXR1cm4gX3N0YWNrLmluZGV4T2YoZGlhbG9nUmVmKTtcblx0ICAgIH07XG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTW9kYWwucHJvdG90eXBlLCBcInN0YWNrTGVuZ3RoXCIsIHtcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9zdGFjay5sZW5ndGg7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgICBNb2RhbCA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5JbmplY3RhYmxlKCksXG5cdCAgICAgICAgX19wYXJhbSgyLCBjb3JlXzEuT3B0aW9uYWwoKSksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgWyh0eXBlb2YgKF9hID0gdHlwZW9mIHRva2Vuc18xLk1vZGFsUmVuZGVyZXIgIT09ICd1bmRlZmluZWQnICYmIHRva2Vuc18xLk1vZGFsUmVuZGVyZXIpID09PSAnZnVuY3Rpb24nICYmIF9hKSB8fCBPYmplY3QsICh0eXBlb2YgKF9iID0gdHlwZW9mIHRva2Vuc18xLk1vZGFsQmFja2Ryb3BDb21wb25lbnQgIT09ICd1bmRlZmluZWQnICYmIHRva2Vuc18xLk1vZGFsQmFja2Ryb3BDb21wb25lbnQpID09PSAnZnVuY3Rpb24nICYmIF9iKSB8fCBPYmplY3QsICh0eXBlb2YgKF9jID0gdHlwZW9mIHRva2Vuc18xLk1vZGFsRHJvcEluRmFjdG9yeSAhPT0gJ3VuZGVmaW5lZCcgJiYgdG9rZW5zXzEuTW9kYWxEcm9wSW5GYWN0b3J5KSA9PT0gJ2Z1bmN0aW9uJyAmJiBfYykgfHwgT2JqZWN0XSlcblx0ICAgIF0sIE1vZGFsKTtcblx0ICAgIHJldHVybiBNb2RhbDtcblx0ICAgIHZhciBfYSwgX2IsIF9jO1xuXHR9KCkpO1xuXHRleHBvcnRzLk1vZGFsID0gTW9kYWw7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTY0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gaGVhdmlseSBpbnNwaXJlZCBieTpcblx0Ly8gaHR0cDovL3d3dy5iZW5uYWRlbC5jb20vYmxvZy8zMDI1LWNyZWF0aW5nLWN1c3RvbS1kb20tYW5kLWhvc3QtZXZlbnQtYmluZGluZ3MtaW4tYW5ndWxhci0yLWJldGEtNi5odG1cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xuXHR9O1xuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cdHZhciBldmVudE1hcCA9IHtcblx0ICAgIGNsaWNrT3V0c2lkZTogJ2NsaWNrJyxcblx0ICAgIG1vdXNlZG93bk91dHNpZGU6ICdtb3VzZWRvd24nLFxuXHQgICAgbW91c2V1cE91dHNpZGU6ICdtb3VzZXVwJyxcblx0ICAgIG1vdXNlbW92ZU91dHNpZGU6ICdtb3VzZW1vdmUnXG5cdH07XG5cdC8qKlxuXHQgKiBBbiBldmVudCBoYW5kbGVyIGZhY3RvcnkgZm9yIGV2ZW50IGhhbmRsZXJzIHRoYXQgYnViYmxlIHRoZSBldmVudCB0byBhIGdpdmVuIGhhbmRsZXJcblx0ICogaWYgdGhlIGV2ZW50IHRhcmdldCBpcyBub3QgYW4gYW5jZXN0b3Igb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG5cdCAqIEBwYXJhbSBlbGVtZW50XG5cdCAqIEBwYXJhbSBoYW5kbGVyXG5cdCAqIEByZXR1cm5zIHtmdW5jdGlvbihhbnkpOiB1bmRlZmluZWR9XG5cdCAqL1xuXHRmdW5jdGlvbiBidWJibGVOb25BbmNlc3RvckhhbmRsZXJGYWN0b3J5KGVsZW1lbnQsIGhhbmRsZXIpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICB2YXIgY3VycmVudCA9IGV2ZW50LnRhcmdldDtcblx0ICAgICAgICBkbyB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBlbGVtZW50KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IHdoaWxlIChjdXJyZW50LnBhcmVudE5vZGUgJiYgKGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudE5vZGUpKTtcblx0ICAgICAgICBoYW5kbGVyKGV2ZW50KTtcblx0ICAgIH07XG5cdH1cblx0dmFyIERPTU91dHNpZGVFdmVudFBsdWdpbiA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBET01PdXRzaWRlRXZlbnRQbHVnaW4oKSB7XG5cdCAgICAgICAgLy8gVE9ETzogdXNlIERJIGZhY3RvcnkgZm9yIHRoaXMuXG5cdCAgICAgICAgaWYgKCFkb2N1bWVudCB8fCB0eXBlb2YgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIgPSB1dGlsc18xLm5vb3A7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgRE9NT3V0c2lkZUV2ZW50UGx1Z2luLnByb3RvdHlwZS5zdXBwb3J0cyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHtcblx0ICAgICAgICByZXR1cm4gZXZlbnRNYXAuaGFzT3duUHJvcGVydHkoZXZlbnROYW1lKTtcblx0ICAgIH07XG5cdCAgICBET01PdXRzaWRlRXZlbnRQbHVnaW4ucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7XG5cdCAgICAgICAgdmFyIHpvbmUgPSB0aGlzLm1hbmFnZXIuZ2V0Wm9uZSgpO1xuXHQgICAgICAgIC8vIEEgRmFjdG9yeSB0aGF0IHJlZ2lzdGVycyB0aGUgZXZlbnQgb24gdGhlIGRvY3VtZW50LCBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50LlxuXHQgICAgICAgIC8vIHRoZSBoYW5kbGVyIGlzIGNyZWF0ZWQgYXQgcnVudGltZSwgYW5kIGl0IGFjdHMgYXMgYSBwcm9wYWdhdGlvbi9idWJibGUgcHJlZGljYXRlLCBpdCB3aWxsXG5cdCAgICAgICAgLy8gYnViYmxlIHVwIHRoZSBldmVudCAoaS5lOiBleGVjdXRlIG91ciBvcmlnaW5hbCBldmVudCBoYW5kbGVyKSBvbmx5IGlmIHRoZSBldmVudCB0YXJnZXJcblx0ICAgICAgICAvLyBpcyBhbiBhbmNlc3RvciBvZiBvdXIgZWxlbWVudC5cblx0ICAgICAgICAvLyBUaGUgZXZlbnQgaXMgZmlyZWQgaW5zaWRlIHRoZSBhbmd1bGFyIHpvbmUgc28gY2hhbmdlIGRldGVjdGlvbiBjYW4ga2ljayBpbnRvIGFjdGlvbi5cblx0ICAgICAgICB2YXIgb25jZU9uT3V0c2lkZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gYnViYmxlTm9uQW5jZXN0b3JIYW5kbGVyRmFjdG9yeShlbGVtZW50LCBmdW5jdGlvbiAoZXZ0KSB7IHJldHVybiB6b25lLnJ1bkd1YXJkZWQoZnVuY3Rpb24gKCkgeyByZXR1cm4gaGFuZGxlcihldnQpOyB9KTsgfSk7XG5cdCAgICAgICAgICAgIC8vIG1pbWljIEJyb3dzZXJEb21BZGFwdGVyLm9uQW5kQ2FuY2VsXG5cdCAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRNYXBbZXZlbnROYW1lXSwgbGlzdGVuZXIsIGZhbHNlKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRNYXBbZXZlbnROYW1lXSwgbGlzdGVuZXIsIGZhbHNlKTsgfTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIHdlIHJ1biB0aGUgZXZlbnQgcmVnaXN0cmF0aW9uIGZvciB0aGUgZG9jdW1lbnQgaW4gYSBkaWZmZXJlbnQgem9uZSwgdGhpcyB3aWxsIG1ha2Ugc3VyZVxuXHQgICAgICAgIC8vIGNoYW5nZSBkZXRlY3Rpb24gaXMgb2ZmLlxuXHQgICAgICAgIC8vIEl0IHR1cm5zIG91dCB0aGF0IGlmIGEgY29tcG9uZW50IHRoYXQgdXNlIERPTU91dHNpZGVFdmVudFBsdWdpbiBpcyBidWlsdCBmcm9tIGEgY2xpY2tcblx0ICAgICAgICAvLyBldmVudCwgd2UgbWlnaHQgZ2V0IGhlcmUgYmVmb3JlIHRoZSBldmVudCByZWFjaGVkIHRoZSBkb2N1bWVudCwgY2F1c2luZyBhIHF1aWNrIGZhbHNlXG5cdCAgICAgICAgLy8gcG9zaXRpdmUgaGFuZGxpbmcgKHdoZW4gc3RvcFByb3BhZ2F0aW9uKCkgd2FzJ250IGludm9rZWQpLiBUbyB3b3JrYXJvdW5kIHRoaXMgd2Ugd2FpdFxuXHQgICAgICAgIC8vIGZvciB0aGUgbmV4dCB2bSB0dXJuIGFuZCByZWdpc3Rlci5cblx0ICAgICAgICAvLyBFdmVudCByZWdpc3RyYXRpb24gcmV0dXJucyBhIGRpc3Bvc2UgZnVuY3Rpb24gZm9yIHRoYXQgZXZlbnQsIGFuZ3VsYXIgdXNlIGl0IHRvIGNsZWFuXG5cdCAgICAgICAgLy8gdXAgYWZ0ZXIgY29tcG9uZW50IGdldCdzIGRlc3Ryb3llZC4gU2luY2Ugd2UgbmVlZCB0byByZXR1cm4gYSBkaXNwb3NlIGZ1bmN0aW9uXG5cdCAgICAgICAgLy8gc3luY2hyb25vdXNseSB3ZSBoYXZlIHRvIHB1dCBhIHdyYXBwZXIgZm9yIGl0IHNpbmNlIHdlIHdpbGwgZ2V0IGl0IGFzeW5jaHJvbm91c2x5LFxuXHQgICAgICAgIC8vIGkuZTogYWZ0ZXIgd2UgbmVlZCB0byByZXR1cm4gaXQuXG5cdCAgICAgICAgLy9cblx0ICAgICAgICByZXR1cm4gem9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBmbjtcblx0ICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBmbiA9IG9uY2VPbk91dHNpZGUoKTsgfSwgMCk7XG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBmbigpOyB9O1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIERPTU91dHNpZGVFdmVudFBsdWdpbi5wcm90b3R5cGUuYWRkR2xvYmFsRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuXHQgICAgICAgIHRocm93ICdub3Qgc3VwcG9ydGVkJztcblx0ICAgIH07XG5cdCAgICBET01PdXRzaWRlRXZlbnRQbHVnaW4gPSBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuSW5qZWN0YWJsZSgpLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFtdKVxuXHQgICAgXSwgRE9NT3V0c2lkZUV2ZW50UGx1Z2luKTtcblx0ICAgIHJldHVybiBET01PdXRzaWRlRXZlbnRQbHVnaW47XG5cdH0oKSk7XG5cdGV4cG9ydHMuRE9NT3V0c2lkZUV2ZW50UGx1Z2luID0gRE9NT3V0c2lkZUV2ZW50UGx1Z2luO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDU2NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHR2YXIgcGxhdGZvcm1fYnJvd3Nlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7XG5cdHZhciBhbmd1bGFyMl9tb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0dmFyIHNoYXJlZF9tb2R1bGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTY2KTtcblx0dmFyIGJvb3RzdHJhcF9kZW1vX21vZHVsZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NjgpO1xuXHR2YXIgdmV4X2RlbW9fbW9kdWxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3Nyk7XG5cdHZhciBqc19uYXRpdmVfZGVtb19tb2R1bGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTczKTtcblx0dmFyIGFwcF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NjcpO1xuXHR2YXIgaG9tZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDMpO1xuXHR2YXIgYXBwX3JvdXRlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NjYpO1xuXHR2YXIgaW5kZXhfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDA0KTtcblx0dmFyIEFwcE1vZHVsZSA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBBcHBNb2R1bGUoKSB7XG5cdCAgICB9XG5cdCAgICBBcHBNb2R1bGUgPSBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuTmdNb2R1bGUoe1xuXHQgICAgICAgICAgICBpbXBvcnRzOiBbXG5cdCAgICAgICAgICAgICAgICBwbGF0Zm9ybV9icm93c2VyXzEuQnJvd3Nlck1vZHVsZSxcblx0ICAgICAgICAgICAgICAgIGFwcF9yb3V0ZXNfMS5yb3V0aW5nLFxuXHQgICAgICAgICAgICAgICAgc2hhcmVkX21vZHVsZV8xLlNoYXJlZE1vZHVsZS5mb3JSb290KCksXG5cdCAgICAgICAgICAgICAgICBhbmd1bGFyMl9tb2RhbF8xLk1vZGFsTW9kdWxlLmZvclJvb3QoKSxcblx0ICAgICAgICAgICAgICAgIGJvb3RzdHJhcF9kZW1vX21vZHVsZV8xLkJvb3RzdHJhcERlbW9Nb2R1bGUsXG5cdCAgICAgICAgICAgICAgICB2ZXhfZGVtb19tb2R1bGVfMS5WZXhEZW1vTW9kdWxlLFxuXHQgICAgICAgICAgICAgICAganNfbmF0aXZlX2RlbW9fbW9kdWxlXzEuSlNOYXRpdmVEZW1vTW9kdWxlLFxuXHQgICAgICAgICAgICAgICAgaW5kZXhfMS5JbkFwcE1vZGFsTW9kdWxlXG5cdCAgICAgICAgICAgIF0sXG5cdCAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW2FwcF8xLkFwcCwgaG9tZV8xLkhvbWVdLFxuXHQgICAgICAgICAgICBib290c3RyYXA6IFthcHBfMS5BcHBdLFxuXHQgICAgICAgICAgICBwcm92aWRlcnM6IFtcblx0ICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogY29tbW9uXzEuTG9jYXRpb25TdHJhdGVneSwgdXNlQ2xhc3M6IGNvbW1vbl8xLkhhc2hMb2NhdGlvblN0cmF0ZWd5IH0sXG5cdCAgICAgICAgICAgIF1cblx0ICAgICAgICB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbXSlcblx0ICAgIF0sIEFwcE1vZHVsZSk7XG5cdCAgICByZXR1cm4gQXBwTW9kdWxlO1xuXHR9KCkpO1xuXHRleHBvcnRzLkFwcE1vZHVsZSA9IEFwcE1vZHVsZTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA1NjY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIHJvdXRlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXHR2YXIgaG9tZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDMpO1xuXHRleHBvcnRzLnJvdXRlcyA9IFtcblx0ICAgIHsgcGF0aDogJ2hvbWUnLCBjb21wb25lbnQ6IGhvbWVfMS5Ib21lIH0sXG5cdCAgICB7IHBhdGg6ICcnLCByZWRpcmVjdFRvOiAnaG9tZScsIHRlcm1pbmFsOiB0cnVlIH1cblx0XTtcblx0ZXhwb3J0cy5yb3V0aW5nID0gcm91dGVyXzEuUm91dGVyTW9kdWxlLmZvclJvb3QoZXhwb3J0cy5yb3V0ZXMpO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDU2Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdC8qXG5cdCAqIEFwcCBDb21wb25lbnRcblx0ICogVG9wIExldmVsIENvbXBvbmVudFxuXHQgKi9cblx0dmFyIEFwcCA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBBcHAoKSB7XG5cdCAgICB9XG5cdCAgICBBcHAgPSBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcblx0ICAgICAgICAgICAgc2VsZWN0b3I6ICdhcHAnLFxuXHQgICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcblx0ICAgICAgICAgICAgc3R5bGVVcmxzOiBbXG5cdCAgICAgICAgICAgICAgICAnZGVtby9hcHAvYXBwLmNzcydcblx0ICAgICAgICAgICAgXSxcblx0ICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdkZW1vL2FwcC9hcHAuaHRtbCdcblx0ICAgICAgICB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbXSlcblx0ICAgIF0sIEFwcCk7XG5cdCAgICByZXR1cm4gQXBwO1xuXHR9KCkpO1xuXHRleHBvcnRzLkFwcCA9IEFwcDtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA1Njg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG5cdCAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0dmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG5cdH07XG5cdHZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0dmFyIGJvb3RzdHJhcF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjMpO1xuXHR2YXIgc2hhcmVkX21vZHVsZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXHR2YXIgYm9vdHN0cmFwX2RlbW9fcm91dGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2OSk7XG5cdHZhciBib290c3RyYXBfZGVtb18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDIpO1xuXHR2YXIgYm9vdHN0cmFwX2RlbW9fcGFnZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDApO1xuXHR2YXIgY3VzdG9tX21vZGFsX3NhbXBsZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDEpO1xuXHR2YXIgQm9vdHN0cmFwRGVtb01vZHVsZSA9IChmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBCb290c3RyYXBEZW1vTW9kdWxlKCkge1xuXHQgICAgfVxuXHQgICAgQm9vdHN0cmFwRGVtb01vZHVsZSA9IF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5OZ01vZHVsZSh7XG5cdCAgICAgICAgICAgIGltcG9ydHM6IFtjb21tb25fMS5Db21tb25Nb2R1bGUsIGJvb3RzdHJhcF8xLkJvb3RzdHJhcE1vZGFsTW9kdWxlLCBib290c3RyYXBfZGVtb19yb3V0ZXNfMS5yb3V0aW5nLCBzaGFyZWRfbW9kdWxlXzEuU2hhcmVkTW9kdWxlXSxcblx0ICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbXG5cdCAgICAgICAgICAgICAgICBib290c3RyYXBfZGVtb18xLkJvb3RzdHJhcERlbW8sXG5cdCAgICAgICAgICAgICAgICBib290c3RyYXBfZGVtb19wYWdlXzEuQm9vdHN0cmFwRGVtb1BhZ2UsXG5cdCAgICAgICAgICAgICAgICBjdXN0b21fbW9kYWxfc2FtcGxlXzEuQWRkaXRpb25DYWxjdWxhdGVXaW5kb3dcblx0ICAgICAgICAgICAgXSxcblx0ICAgICAgICAgICAgZW50cnlDb21wb25lbnRzOiBbY3VzdG9tX21vZGFsX3NhbXBsZV8xLkFkZGl0aW9uQ2FsY3VsYXRlV2luZG93XVxuXHQgICAgICAgIH0pLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFtdKVxuXHQgICAgXSwgQm9vdHN0cmFwRGVtb01vZHVsZSk7XG5cdCAgICByZXR1cm4gQm9vdHN0cmFwRGVtb01vZHVsZTtcblx0fSgpKTtcblx0ZXhwb3J0cy5Cb290c3RyYXBEZW1vTW9kdWxlID0gQm9vdHN0cmFwRGVtb01vZHVsZTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA1Njk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0dmFyIHJvdXRlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXHR2YXIgYm9vdHN0cmFwX2RlbW9fMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDAyKTtcblx0dmFyIGJvb3RzdHJhcF9kZW1vX3BhZ2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDAwKTtcblx0ZXhwb3J0cy5yb3V0aW5nID0gcm91dGVyXzEuUm91dGVyTW9kdWxlLmZvckNoaWxkKFtcblx0ICAgIHsgcGF0aDogJ2Jvb3RzdHJhcC1kZW1vJywgY29tcG9uZW50OiBib290c3RyYXBfZGVtb18xLkJvb3RzdHJhcERlbW8sIGNoaWxkcmVuOiBbXG5cdCAgICAgICAgICAgIHsgcGF0aDogJycsIGNvbXBvbmVudDogYm9vdHN0cmFwX2RlbW9fcGFnZV8xLkJvb3RzdHJhcERlbW9QYWdlLCB0ZXJtaW5hbDogdHJ1ZSB9LFxuXHQgICAgICAgIF1cblx0ICAgIH1cblx0XSk7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTcwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdGZ1bmN0aW9uIGFsZXJ0KG1vZGFsKSB7XG5cdCAgICByZXR1cm4gbW9kYWwuYWxlcnQoKVxuXHQgICAgICAgIC5zaXplKCdsZycpXG5cdCAgICAgICAgLnNob3dDbG9zZSh0cnVlKVxuXHQgICAgICAgIC50aXRsZSgnQSBzaW1wbGUgQWxlcnQgc3R5bGUgbW9kYWwgd2luZG93Jylcblx0ICAgICAgICAuYm9keShcIlxcbiAgICAgICAgPGg0PkFsZXJ0IGlzIGEgY2xhc3NpYyAodGl0bGUvYm9keS9mb290ZXIpIDEgYnV0dG9uIG1vZGFsIHdpbmRvdyB0aGF0IFxcbiAgICAgICAgZG9lcyBub3QgYmxvY2suPC9oND5cXG4gICAgICAgIDxiPkNvbmZpZ3VyYXRpb246PC9iPlxcbiAgICAgICAgPHVsPlxcbiAgICAgICAgICAgIDxsaT5Ob24gYmxvY2tpbmcgKGNsaWNrIGFueXdoZXJlIG91dHNpZGUgdG8gZGlzbWlzcyk8L2xpPlxcbiAgICAgICAgICAgIDxsaT5TaXplIGxhcmdlPC9saT5cXG4gICAgICAgICAgICA8bGk+RGlzbWlzc2VkIHdpdGggZGVmYXVsdCBrZXlib2FyZCBrZXkgKEVTQyk8L2xpPlxcbiAgICAgICAgICAgIDxsaT5DbG9zZSB3dGggYnV0dG9uIGNsaWNrPC9saT5cXG4gICAgICAgICAgICA8bGk+SFRNTCBjb250ZW50PC9saT5cXG4gICAgICAgIDwvdWw+XCIpO1xuXHR9XG5cdGV4cG9ydHMuYWxlcnQgPSBhbGVydDtcblx0ZnVuY3Rpb24gcHJvbXB0KG1vZGFsKSB7XG5cdCAgICByZXR1cm4gbW9kYWwucHJvbXB0KClcblx0ICAgICAgICAuc2l6ZSgnbGcnKVxuXHQgICAgICAgIC50aXRsZSgnQSBzaW1wbGUgUHJvbXB0IHN0eWxlIG1vZGFsIHdpbmRvdycpXG5cdCAgICAgICAgLmJvZHkoXCJcXG4gICAgICAgICAgICA8aDQ+UHJvbXB0IGlzIGEgY2xhc3NpYyAodGl0bGUvYm9keS9mb290ZXIpIDEgYnV0dG9uIG1vZGFsIHdpbmRvdyB0aGF0IFxcbiAgICAgICAgICAgIGJsb2Nrcy48L2g0PlxcbiAgICAgICAgICAgIDxiPkNvbmZpZ3VyYXRpb246PC9iPlxcbiAgICAgICAgICAgIDx1bD5cXG4gICAgICAgICAgICAgICAgPGxpPkJsb2NrcyAob25seSBidXR0b24gY2xpY2sgY2FuIGRpc21pc3MpPC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPlNpemUgbGFyZ2U8L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+S2V5Ym9hcmQgY2FuIG5vdCBkaXNtaXNzPC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPkhUTUwgY29udGVudDwvbGk+XFxuICAgICAgICAgICAgPC91bD5cIik7XG5cdH1cblx0ZXhwb3J0cy5wcm9tcHQgPSBwcm9tcHQ7XG5cdGZ1bmN0aW9uIGNvbmZpcm0obW9kYWwpIHtcblx0ICAgIHJldHVybiBtb2RhbC5jb25maXJtKClcblx0ICAgICAgICAuc2l6ZSgnbGcnKVxuXHQgICAgICAgIC50aXRsZUh0bWwoXCJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCIgXFxuICAgICAgICAgICAgICAgICBzdHlsZT1cXFwiZm9udC1zaXplOiAyMnB4OyBjb2xvcjogZ3JleTsgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxcIj5cXG4gICAgICAgICAgICAgICAgIEEgc2ltcGxlIENvbmZpcm0gc3R5bGUgbW9kYWwgd2luZG93PC9kaXY+XCIpXG5cdCAgICAgICAgLmJvZHkoXCJcXG4gICAgICAgICAgICA8aDQ+Q29uZmlybSBpcyBhIGNsYXNzaWMgKHRpdGxlL2JvZHkvZm9vdGVyKSAyIGJ1dHRvbiBtb2RhbCB3aW5kb3cgdGhhdCBibG9ja3MuPC9oND5cXG4gICAgICAgICAgICA8Yj5Db25maWd1cmF0aW9uOjwvYj5cXG4gICAgICAgICAgICA8dWw+XFxuICAgICAgICAgICAgICAgIDxsaT5CbG9ja3MgKG9ubHkgYnV0dG9uIGNsaWNrIGNhbiBjbG9zZS9kaXNtaXNzKTwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT5TaXplIGxhcmdlPC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPktleWJvYXJkIGNhbiBub3QgZGlzbWlzczwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT5IVE1MIFRpdGxlPC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPkhUTUwgY29udGVudDwvbGk+XFxuICAgICAgICAgICAgPC91bD5cIik7XG5cdH1cblx0ZXhwb3J0cy5jb25maXJtID0gY29uZmlybTtcblx0ZnVuY3Rpb24gY2FzY2FkaW5nKG1vZGFsKSB7XG5cdCAgICB2YXIgcHJlc2V0cyA9IFtdO1xuXHQgICAgcHJlc2V0cy5wdXNoKGFsZXJ0KG1vZGFsKSk7XG5cdCAgICBwcmVzZXRzLnB1c2gocHJvbXB0KG1vZGFsKSk7XG5cdCAgICBwcmVzZXRzLnB1c2goY29uZmlybShtb2RhbCkpO1xuXHQgICAgcHJlc2V0cy5wdXNoKG1vZGFsLnByb21wdCgpXG5cdCAgICAgICAgLnNpemUoJ3NtJylcblx0ICAgICAgICAudGl0bGUoJ0Nhc2NhZGluZyBtb2RhbHMhJylcblx0ICAgICAgICAuYm9keSgnRmluZCB5b3VyIHdheSBvdXQuLi4nKSk7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIG9wZW46IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIHJldCA9IHByZXNldHMuc2hpZnQoKS5vcGVuKCk7XG5cdCAgICAgICAgICAgIHdoaWxlIChwcmVzZXRzLmxlbmd0aCA+IDApXG5cdCAgICAgICAgICAgICAgICBwcmVzZXRzLnNoaWZ0KCkub3BlbigpO1xuXHQgICAgICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdH1cblx0ZXhwb3J0cy5jYXNjYWRpbmcgPSBjYXNjYWRpbmc7XG5cdGZ1bmN0aW9uIGluRWxlbWVudChtb2RhbCkge1xuXHQgICAgcmV0dXJuIG1vZGFsLnByb21wdCgpXG5cdCAgICAgICAgLnNpemUoJ3NtJylcblx0ICAgICAgICAudGl0bGUoJ0EgbW9kYWwgY29udGFpbmVkIGJ5IGFuIGVsZW1lbnQnKVxuXHQgICAgICAgIC5ib2R5KCdUcnkgc3RhY2tpbmcgdXAgbW9yZSBtb2RhbHMhJyk7XG5cdH1cblx0ZXhwb3J0cy5pbkVsZW1lbnQgPSBpbkVsZW1lbnQ7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTcxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xuXHR9O1xuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIERlbW9IZWFkID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIERlbW9IZWFkKCkge1xuXHQgICAgICAgIHRoaXMuZHJvcEluQ2xpY2sgPSBuZXcgY29yZV8xLkV2ZW50RW1pdHRlcigpO1xuXHQgICAgfVxuXHQgICAgRGVtb0hlYWQucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQsIGJ0bikge1xuXHQgICAgICAgIHRoaXMuZHJvcEluQ2xpY2suZW1pdCh7XG5cdCAgICAgICAgICAgIGV2ZW50OiBldmVudCxcblx0ICAgICAgICAgICAgc291cmNlOiBidG5cblx0ICAgICAgICB9KTtcblx0ICAgICAgICB0aGlzLnByb2Nlc3NEaWFsb2coYnRuLmZhY3RvcnkoKSk7XG5cdCAgICB9O1xuXHQgICAgRGVtb0hlYWQucHJvdG90eXBlLnByb2Nlc3NEaWFsb2cgPSBmdW5jdGlvbiAoZGlhbG9nKSB7XG5cdCAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0ICAgICAgICBkaWFsb2cudGhlbihmdW5jdGlvbiAocmVzdWx0UHJvbWlzZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0UHJvbWlzZS5yZXN1bHQudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG5cdCAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJlc3VsdCA9ICdSZWplY3RlZCEnOyB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdCAgICBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuSW5wdXQoKSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCBTdHJpbmcpXG5cdCAgICBdLCBEZW1vSGVhZC5wcm90b3R5cGUsIFwidGl0bGVcIiwgdm9pZCAwKTtcblx0ICAgIF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5JbnB1dCgpLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsIFN0cmluZylcblx0ICAgIF0sIERlbW9IZWFkLnByb3RvdHlwZSwgXCJkZXNjcmlwdGlvblwiLCB2b2lkIDApO1xuXHQgICAgX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLklucHV0KCksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjp0eXBlJywgQXJyYXkpXG5cdCAgICBdLCBEZW1vSGVhZC5wcm90b3R5cGUsIFwibW9kYWxDb21tYW5kc1wiLCB2b2lkIDApO1xuXHQgICAgX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLk91dHB1dCgpLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246dHlwZScsICh0eXBlb2YgKF9hID0gdHlwZW9mIGNvcmVfMS5FdmVudEVtaXR0ZXIgIT09ICd1bmRlZmluZWQnICYmIGNvcmVfMS5FdmVudEVtaXR0ZXIpID09PSAnZnVuY3Rpb24nICYmIF9hKSB8fCBPYmplY3QpXG5cdCAgICBdLCBEZW1vSGVhZC5wcm90b3R5cGUsIFwiZHJvcEluQ2xpY2tcIiwgdm9pZCAwKTtcblx0ICAgIF9fZGVjb3JhdGUoW1xuXHQgICAgICAgIGNvcmVfMS5WaWV3Q2hpbGQoJ2NvbW1hbmRzJywgeyByZWFkOiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnR5cGUnLCAodHlwZW9mIChfYiA9IHR5cGVvZiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiAhPT0gJ3VuZGVmaW5lZCcgJiYgY29yZV8xLlZpZXdDb250YWluZXJSZWYpID09PSAnZnVuY3Rpb24nICYmIF9iKSB8fCBPYmplY3QpXG5cdCAgICBdLCBEZW1vSGVhZC5wcm90b3R5cGUsIFwidmNDb21tYW5kc1wiLCB2b2lkIDApO1xuXHQgICAgRGVtb0hlYWQgPSBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcblx0ICAgICAgICAgICAgc2VsZWN0b3I6ICdkZW1vLWhlYWQnLFxuXHQgICAgICAgICAgICBzdHlsZXM6IFtcblx0ICAgICAgICAgICAgICAgIFwiXFxuICAgICAgLmJ0bi1kcm9waW4ge1xcbiAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcbiAgICAgICAgICBtYXJnaW46IDE1cHg7XFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMTkxNjE7XFxuICAgICAgICAgIGJvcmRlcjogbm9uZTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogMCAycHggNXB4IDAgcmdiYSgwLDAsMCwuMjYpO1xcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAwO1xcbiAgICAgIH1cXG4gICAgICBcIlxuXHQgICAgICAgICAgICBdLFxuXHQgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2RlbW8vYXBwL2RlbW8taGVhZC9kZW1vLWhlYWQuaHRtbCcsXG5cdCAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGNvcmVfMS5WaWV3RW5jYXBzdWxhdGlvbi5FbXVsYXRlZFxuXHQgICAgICAgIH0pLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFtdKVxuXHQgICAgXSwgRGVtb0hlYWQpO1xuXHQgICAgcmV0dXJuIERlbW9IZWFkO1xuXHQgICAgdmFyIF9hLCBfYjtcblx0fSgpKTtcblx0ZXhwb3J0cy5EZW1vSGVhZCA9IERlbW9IZWFkO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDU3Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHR2YXIgYW5ndWxhcjJfbW9kYWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdHZhciBtb2RhbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDgpO1xuXHR2YXIgSW5BcHBNb2RhbEJhY2tkcm9wID0gKGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIEluQXBwTW9kYWxCYWNrZHJvcChkaWFsb2csIF9tb2RhbCkge1xuXHQgICAgICAgIHRoaXMuZGlhbG9nID0gZGlhbG9nO1xuXHQgICAgICAgIHRoaXMuX21vZGFsID0gX21vZGFsO1xuXHQgICAgfVxuXHQgICAgSW5BcHBNb2RhbEJhY2tkcm9wID0gX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLkNvbXBvbmVudCh7XG5cdCAgICAgICAgICAgIHNlbGVjdG9yOiAnbW9kYWwtYmFja2Ryb3AnLFxuXHQgICAgICAgICAgICBkaXJlY3RpdmVzOiBbY29tbW9uXzEuTmdUZW1wbGF0ZU91dGxldF0sXG5cdCAgICAgICAgICAgIHN0eWxlczogW1wiXFxuLmluLWFwcC1tb2RhbC1iYWNrZHJvcCB7XFxuICAgIFxcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICB0b3A6IDA7XFxuICAgIGxlZnQ6IDA7XFxuICAgIGJvdHRvbTogMDtcXG4gICAgcmlnaHQ6IDA7XFxufVwiLCBcIlxcbmFydGljbGUge1xcbiAgICBtYXJnaW46IGF1dG87XFxuICAgIHdpZHRoOiA2MDBweDtcXG4gICAgYmFja2dyb3VuZDogaW5oZXJpdDtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpO1xcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XFxuICAgIGJveC1zaGFkb3c6IDAgOHB4IDE2cHggcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuYXJ0aWNsZTpiZWZvcmUge1xcbiAgICBjb250ZW50OiAnJztcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDA7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICBib3R0b206IDA7XFxuICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XFxuICAgIC13ZWJraXQtZmlsdGVyOiBibHVyKDEwcHgpIHNhdHVyYXRlKDIpO1xcbiAgICBmaWx0ZXI6IGJsdXIoMTBweCkgc2F0dXJhdGUoMik7XFxufVxcbmFydGljbGUgLnRpdGxlIHtcXG4gICAgcGFkZGluZzogOHB4OyAgICBcXG4gICAgYmFja2dyb3VuZDogcmdiYSgyMzUsIDIzNSwgMjM1LCAwLjg1KTtcXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcXG4gICAgZm9udC1zaXplOjI0cHg7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuYXJ0aWNsZSAuY29udGVudCB7XFxuICAgIHBhZGRpbmc6IDhweDtcXG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjY2KTtcXG59XCJcblx0ICAgICAgICAgICAgXSxcblx0ICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz1cXFwiaW4tYXBwLW1vZGFsLWJhY2tkcm9wXFxcIj5cXG4gICAgPGFydGljbGU+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aXRsZVxcXCI+XFxuICAgICAgICAgICAgPHNwYW4+e3tkaWFsb2cuY29udGV4dC50aXRsZX19PC9zcGFuPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb250ZW50XFxcIj5cXG4gICAgICAgICAgICA8dGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVxcXCJkaWFsb2cuY29udGV4dC50ZW1wbGF0ZVJlZlxcXCI+PC90ZW1wbGF0ZT5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2FydGljbGU+ICAgIFxcbjwvZGl2PlwiXG5cdCAgICAgICAgfSksIFxuXHQgICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgWyh0eXBlb2YgKF9hID0gdHlwZW9mIGFuZ3VsYXIyX21vZGFsXzEuRGlhbG9nUmVmICE9PSAndW5kZWZpbmVkJyAmJiBhbmd1bGFyMl9tb2RhbF8xLkRpYWxvZ1JlZikgPT09ICdmdW5jdGlvbicgJiYgX2EpIHx8IE9iamVjdCwgKHR5cGVvZiAoX2IgPSB0eXBlb2YgbW9kYWxfMS5Nb2RhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kYWxfMS5Nb2RhbCkgPT09ICdmdW5jdGlvbicgJiYgX2IpIHx8IE9iamVjdF0pXG5cdCAgICBdLCBJbkFwcE1vZGFsQmFja2Ryb3ApO1xuXHQgICAgcmV0dXJuIEluQXBwTW9kYWxCYWNrZHJvcDtcblx0ICAgIHZhciBfYSwgX2I7XG5cdH0oKSk7XG5cdGV4cG9ydHMuSW5BcHBNb2RhbEJhY2tkcm9wID0gSW5BcHBNb2RhbEJhY2tkcm9wO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDU3Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcblx0ICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHR2YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcblx0ICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcblx0fTtcblx0dmFyIGNvcmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHR2YXIgc2hhcmVkX21vZHVsZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXHR2YXIganNfbmF0aXZlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0NCk7XG5cdHZhciBqc19uYXRpdmVfZGVtb19yb3V0ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTc0KTtcblx0dmFyIGpzX25hdGl2ZV9kZW1vXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwNik7XG5cdHZhciBKU05hdGl2ZURlbW9Nb2R1bGUgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gSlNOYXRpdmVEZW1vTW9kdWxlKCkge1xuXHQgICAgfVxuXHQgICAgSlNOYXRpdmVEZW1vTW9kdWxlID0gX19kZWNvcmF0ZShbXG5cdCAgICAgICAgY29yZV8xLk5nTW9kdWxlKHtcblx0ICAgICAgICAgICAgaW1wb3J0czogW2NvbW1vbl8xLkNvbW1vbk1vZHVsZSwganNfbmF0aXZlXzEuSlNOYXRpdmVNb2RhbE1vZHVsZSwganNfbmF0aXZlX2RlbW9fcm91dGVzXzEucm91dGluZywgc2hhcmVkX21vZHVsZV8xLlNoYXJlZE1vZHVsZV0sXG5cdCAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW2pzX25hdGl2ZV9kZW1vXzEuSlNOYXRpdmVEZW1vXVxuXHQgICAgICAgIH0pLCBcblx0ICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFtdKVxuXHQgICAgXSwgSlNOYXRpdmVEZW1vTW9kdWxlKTtcblx0ICAgIHJldHVybiBKU05hdGl2ZURlbW9Nb2R1bGU7XG5cdH0oKSk7XG5cdGV4cG9ydHMuSlNOYXRpdmVEZW1vTW9kdWxlID0gSlNOYXRpdmVEZW1vTW9kdWxlO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDU3NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHR2YXIgcm91dGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cdHZhciBqc19uYXRpdmVfZGVtb18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDYpO1xuXHRleHBvcnRzLnJvdXRpbmcgPSByb3V0ZXJfMS5Sb3V0ZXJNb2R1bGUuZm9yQ2hpbGQoW1xuXHQgICAgeyBwYXRoOiAnanMtbmF0aXZlLWRlbW8nLCBjb21wb25lbnQ6IGpzX25hdGl2ZV9kZW1vXzEuSlNOYXRpdmVEZW1vIH1cblx0XSk7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTc1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBqc19uYXRpdmVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQ0KTtcblx0ZXhwb3J0cy5KU05hdGl2ZU1vZGFsID0ganNfbmF0aXZlXzEuSlNOYXRpdmVNb2RhbDtcblx0ZXhwb3J0cy5KU05hdGl2ZVByZXNldEJ1aWxkZXIgPSBqc19uYXRpdmVfMS5KU05hdGl2ZVByZXNldEJ1aWxkZXI7XG5cdGZ1bmN0aW9uIGFsZXJ0KG1vZGFsKSB7XG5cdCAgICByZXR1cm4gbW9kYWwuYWxlcnQoKS5tZXNzYWdlKCdUaGlzIGlzIGEgbmF0aXZlIGFsZXJ0IScpO1xuXHR9XG5cdGV4cG9ydHMuYWxlcnQgPSBhbGVydDtcblx0ZnVuY3Rpb24gcHJvbXB0KG1vZGFsKSB7XG5cdCAgICByZXR1cm4gbW9kYWwucHJvbXB0KClcblx0ICAgICAgICAubWVzc2FnZSgnVGhpcyBpcyBhIG5hdGl2ZSBwcm9tcHQhJylcblx0ICAgICAgICAucHJvbXB0RGVmYXVsdCgnVGhpcyBpcyBhIGRlZmF1bHQgdmFsdWUnKTtcblx0fVxuXHRleHBvcnRzLnByb21wdCA9IHByb21wdDtcblx0ZnVuY3Rpb24gY29uZmlybShtb2RhbCkge1xuXHQgICAgcmV0dXJuIG1vZGFsLmNvbmZpcm0oKS5tZXNzYWdlKCdZZXMgb3IgTm8/Jyk7XG5cdH1cblx0ZXhwb3J0cy5jb25maXJtID0gY29uZmlybTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA1NzY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0ZnVuY3Rpb24gYWxlcnQobW9kYWwpIHtcblx0ICAgIHJldHVybiBtb2RhbC5hbGVydCgpXG5cdCAgICAgICAgLmNsYXNzTmFtZSh0aGlzLnRoZW1lKVxuXHQgICAgICAgIC5tZXNzYWdlKCdBbiBhbGVydCBtZXNzYWdlIScpXG5cdCAgICAgICAgLnNob3dDbG9zZUJ1dHRvbih0cnVlKTtcblx0fVxuXHRleHBvcnRzLmFsZXJ0ID0gYWxlcnQ7XG5cdGZ1bmN0aW9uIHByb21wdChtb2RhbCkge1xuXHQgICAgcmV0dXJuIG1vZGFsLnByb21wdCgpXG5cdCAgICAgICAgLmNsYXNzTmFtZSh0aGlzLnRoZW1lKVxuXHQgICAgICAgIC5tZXNzYWdlKCdQbGVhc2UgdHlwZSBhIHZhbHVlIScpXG5cdCAgICAgICAgLnBsYWNlaG9sZGVyKCdUaGlzIGlzIGEgcGxhY2Vob2xkZXInKTtcblx0fVxuXHRleHBvcnRzLnByb21wdCA9IHByb21wdDtcblx0ZnVuY3Rpb24gY29uZmlybShtb2RhbCkge1xuXHQgICAgcmV0dXJuIG1vZGFsLmNvbmZpcm0oKVxuXHQgICAgICAgIC5jbGFzc05hbWUodGhpcy50aGVtZSlcblx0ICAgICAgICAubWVzc2FnZSgnWWVzIG9yIE5vPycpXG5cdCAgICAgICAgLm9rQnRuKCdZZXMnKVxuXHQgICAgICAgIC5jYW5jZWxCdG4oJ05vJyk7XG5cdH1cblx0ZXhwb3J0cy5jb25maXJtID0gY29uZmlybTtcblx0ZnVuY3Rpb24gbm9CdXR0b25zKG1vZGFsKSB7XG5cdCAgICByZXR1cm4gbW9kYWwuYWxlcnQoKVxuXHQgICAgICAgIC5jbGFzc05hbWUodGhpcy50aGVtZSlcblx0ICAgICAgICAuc2hvd0Nsb3NlQnV0dG9uKHRydWUpXG5cdCAgICAgICAgLmlzQmxvY2tpbmcodHJ1ZSlcblx0ICAgICAgICAubWVzc2FnZSgnTHVja2lseSBJIGhhdmUgYW4gWCBidXR0b24sIHBoZXcuLi4nKVxuXHQgICAgICAgIC5va0J0bihudWxsKVxuXHQgICAgICAgIC5jYW5jZWxCdG4obnVsbCk7XG5cdH1cblx0ZXhwb3J0cy5ub0J1dHRvbnMgPSBub0J1dHRvbnM7XG5cdGZ1bmN0aW9uIGN1c3RvbUJ1dHRvbnMobW9kYWwpIHtcblx0ICAgIHJldHVybiBtb2RhbC5hbGVydCgpXG5cdCAgICAgICAgLmNsYXNzTmFtZSh0aGlzLnRoZW1lKVxuXHQgICAgICAgIC5zaG93Q2xvc2VCdXR0b24odHJ1ZSlcblx0ICAgICAgICAuaXNCbG9ja2luZyh0cnVlKVxuXHQgICAgICAgIC5tZXNzYWdlKFwiTGV0J3Mgc2hvdyBzb21lIGJvb3RzdHJhcCBzdHlsZSBidXR0b25zLi4uXCIpXG5cdCAgICAgICAgLm9rQnRuKG51bGwpXG5cdCAgICAgICAgLmNhbmNlbEJ0bihudWxsKVxuXHQgICAgICAgIC5hZGRCdXR0b24oJ2J0bi1wcmltYXJ5JywgJ0JUTi1QUklNQVJZJywgZnVuY3Rpb24gKGNtcCwgJGV2ZW50KSB7IHJldHVybiBjbXAuZGlhbG9nLmNsb3NlKCdwcmltYXJ5Jyk7IH0pXG5cdCAgICAgICAgLmFkZEJ1dHRvbignYnRuLXdhcm5pbmcnLCAnQlROLVdBUk5JTkcnLCBmdW5jdGlvbiAoY21wLCAkZXZlbnQpIHsgcmV0dXJuIGNtcC5kaWFsb2cuY2xvc2UoJ3dhcm5pbmcnKTsgfSlcblx0ICAgICAgICAuYWRkQnV0dG9uKCdidG4tc3VjY2VzcycsICdCVE4tU1VDQ0VTUycsIGZ1bmN0aW9uIChjbXAsICRldmVudCkgeyByZXR1cm4gY21wLmRpYWxvZy5jbG9zZSgnc3VjY2VzcycpOyB9KTtcblx0fVxuXHRleHBvcnRzLmN1c3RvbUJ1dHRvbnMgPSBjdXN0b21CdXR0b25zO1xuXHRmdW5jdGlvbiBjYXNjYWRpbmcobW9kYWwpIHtcblx0ICAgIHZhciBwcmVzZXRzID0gW107XG5cdCAgICBwcmVzZXRzLnB1c2goYWxlcnQuY2FsbCh0aGlzLCBtb2RhbCkpO1xuXHQgICAgcHJlc2V0cy5wdXNoKHByb21wdC5jYWxsKHRoaXMsIG1vZGFsKSk7XG5cdCAgICBwcmVzZXRzLnB1c2goY29uZmlybS5jYWxsKHRoaXMsIG1vZGFsKSk7XG5cdCAgICBwcmVzZXRzLnB1c2gobW9kYWwuYWxlcnQoKVxuXHQgICAgICAgIC5jbGFzc05hbWUodGhpcy50aGVtZSlcblx0ICAgICAgICAubWVzc2FnZSgnQ2FzY2FkaW5nIG1vZGFscyEgRmluZCB5b3VyIHdheSBvdXQuLi4nKSk7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIG9wZW46IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIHJldCA9IHByZXNldHMuc2hpZnQoKS5vcGVuKCk7XG5cdCAgICAgICAgICAgIHdoaWxlIChwcmVzZXRzLmxlbmd0aCA+IDApXG5cdCAgICAgICAgICAgICAgICBwcmVzZXRzLnNoaWZ0KCkub3BlbigpO1xuXHQgICAgICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdH1cblx0ZXhwb3J0cy5jYXNjYWRpbmcgPSBjYXNjYWRpbmc7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTc3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG5cdCAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuXHQgICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdHZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuXHQgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xuXHR9O1xuXHR2YXIgY29yZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdHZhciBmb3Jtc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTYpO1xuXHR2YXIgdmV4XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5Myk7XG5cdHZhciBzaGFyZWRfbW9kdWxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nik7XG5cdHZhciB2ZXhfZGVtb19yb3V0ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTc4KTtcblx0dmFyIHZleF9kZW1vXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwOCk7XG5cdHZhciBsb2dpbl9kaWFsb2dfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDA3KTtcblx0dmFyIFZleERlbW9Nb2R1bGUgPSAoZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gVmV4RGVtb01vZHVsZSgpIHtcblx0ICAgIH1cblx0ICAgIFZleERlbW9Nb2R1bGUgPSBfX2RlY29yYXRlKFtcblx0ICAgICAgICBjb3JlXzEuTmdNb2R1bGUoe1xuXHQgICAgICAgICAgICBpbXBvcnRzOiBbZm9ybXNfMS5Gb3Jtc01vZHVsZSwgY29tbW9uXzEuQ29tbW9uTW9kdWxlLCB2ZXhfMS5WZXhNb2RhbE1vZHVsZSwgdmV4X2RlbW9fcm91dGVzXzEucm91dGluZywgc2hhcmVkX21vZHVsZV8xLlNoYXJlZE1vZHVsZV0sXG5cdCAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW3ZleF9kZW1vXzEuVmV4RGVtbywgbG9naW5fZGlhbG9nXzEuTG9naW5EaWFsb2ddLFxuXHQgICAgICAgICAgICBlbnRyeUNvbXBvbmVudHM6IFtsb2dpbl9kaWFsb2dfMS5Mb2dpbkRpYWxvZ11cblx0ICAgICAgICB9KSwgXG5cdCAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbXSlcblx0ICAgIF0sIFZleERlbW9Nb2R1bGUpO1xuXHQgICAgcmV0dXJuIFZleERlbW9Nb2R1bGU7XG5cdH0oKSk7XG5cdGV4cG9ydHMuVmV4RGVtb01vZHVsZSA9IFZleERlbW9Nb2R1bGU7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTc4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHZhciByb3V0ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblx0dmFyIHZleF9kZW1vXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwOCk7XG5cdGV4cG9ydHMucm91dGluZyA9IHJvdXRlcl8xLlJvdXRlck1vZHVsZS5mb3JDaGlsZChbXG5cdCAgICB7IHBhdGg6ICd2ZXgtZGVtbycsIGNvbXBvbmVudDogdmV4X2RlbW9fMS5WZXhEZW1vIH0sXG5cdF0pO1xuXG5cbi8qKiovIH1cblxufSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogYXBwLmpzXG4gKiovIiwiaW1wb3J0IHsgTmdNb2R1bGVSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgcGxhdGZvcm1Ccm93c2VyRHluYW1pYyB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYyc7XHJcblxyXG4vLyBUaGUgYXBwIG1vZHVsZVxyXG5pbXBvcnQgeyBBcHBNb2R1bGUgfSBmcm9tICcuL2RlbW8vYXBwL2FwcC5tb2R1bGUnO1xyXG5cclxuXHJcbmxldCBfYm9vdHN0cmFwcGVkID0gZmFsc2U7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFpbigpOiBQcm9taXNlPE5nTW9kdWxlUmVmPEFwcE1vZHVsZT4+IHtcclxuICBpZiAoX2Jvb3RzdHJhcHBlZCkge1xyXG4gICAgcmV0dXJuIDxhbnk+UHJvbWlzZS5yZWplY3QobnVsbCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIF9ib290c3RyYXBwZWQgPSB0cnVlO1xyXG4gICAgcmV0dXJuIHBsYXRmb3JtQnJvd3NlckR5bmFtaWMoKS5ib290c3RyYXBNb2R1bGUoQXBwTW9kdWxlKVxyXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNCb290c3RyYXBwZWQoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIF9ib290c3RyYXBwZWQ7XHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluKTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvYm9vdHN0cmFwLnRzXG4gKiovIiwiXG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJy4vcHJvdmlkZXJzL2luZGV4JztcblxuZXhwb3J0ICogZnJvbSAnLi9mcmFtZXdvcmsvZmx1ZW50LWFzc2lnbic7XG5leHBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuL2ZyYW1ld29yay9jcmVhdGVDb21wb25lbnQnO1xuZXhwb3J0IHsgZXh0ZW5kLCBhcnJheVVuaW9uLCBzdXBwb3J0c0tleSB9IGZyb20gJy4vZnJhbWV3b3JrL3V0aWxzJztcblxuZXhwb3J0IHsgRGlhbG9nUmVmIH0gZnJvbSAnLi9tb2RlbHMvZGlhbG9nLXJlZic7XG5cbmV4cG9ydCB7XG4gIERST1BfSU5fVFlQRSxcbiAgTW9kYWxEcm9wSW5GYWN0b3J5LFxuICBNb2RhbEJhY2tkcm9wQ29tcG9uZW50LFxuICBNb2RhbENvbXBvbmVudCxcbiAgTW9kYWxDb21waWxlQ29uZmlnLFxuICBNb2RhbFJlbmRlcmVyXG59IGZyb20gJy4vbW9kZWxzL3Rva2Vucyc7XG5cbmV4cG9ydCB7IE1vZGFsLCBET01Nb2RhbFJlbmRlcmVyIH0gZnJvbSAnLi9wcm92aWRlcnMvaW5kZXgnO1xuXG5leHBvcnQge1xuICBERUZBVUxUX1ZBTFVFUyxcbiAgTW9kYWxDb250ZXh0LFxuICBNb2RhbENvbnRleHRCdWlsZGVyLFxuICBNb2RhbENvbnRyb2xsaW5nQ29udGV4dEJ1aWxkZXJcbn0gZnJvbSAnLi9tb2RlbHMvbW9kYWwtY29udGV4dCc7XG5cbmV4cG9ydCB7IE1vZGFsT3BlbkNvbnRleHQsIE1vZGFsT3BlbkNvbnRleHRCdWlsZGVyIH0gZnJvbSAnLi9tb2RlbHMvbW9kYWwtb3Blbi1jb250ZXh0JztcblxuXG5leHBvcnQgeyBNb2RhbE1vZHVsZSB9IGZyb20gJy4vYW5ndWxhcjItbW9kYWwubW9kdWxlJztcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvaW5kZXgudHNcbiAqKi8iLCIvKipcbiAqIFNpbXBsZSBvYmplY3QgZXh0ZW5kXG4gKiBAcGFyYW0gbTFcbiAqIEBwYXJhbSBtMlxuICogQHJldHVybnMge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kPFQ+KG0xOiBhbnksIG0yOiBhbnkpOiBUIHtcbiAgdmFyIG06IFQgPSA8VD57fTtcbiAgZm9yICh2YXIgYXR0ciBpbiBtMSkge1xuICAgIGlmIChtMS5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuICAgICAgKDxhbnk+bSlbYXR0cl0gPSAoPGFueT5tMSlbYXR0cl07XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgYXR0ciBpbiBtMikge1xuICAgIGlmIChtMi5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuICAgICAgKDxhbnk+bSlbYXR0cl0gPSAoPGFueT5tMilbYXR0cl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG07XG59XG5cbi8qKlxuICogU2ltcGxlLCBub3Qgb3B0aW1pemVkLCBhcnJheSB1bmlvbiBvZiB1bmlxdWUgdmFsdWVzLlxuICogQHBhcmFtIGFycjFcbiAqIEBwYXJhbSBhcnIyXG4gKiBAcmV0dXJucyB7VFtdfGFueVtdfGFueVtdW118YW55W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVVuaW9uPFQ+KGFycjE6IGFueVtdLCBhcnIyOiBhbnlbXSk6IFRbXSB7XG4gIHJldHVybiBhcnIxXG4gICAgLmNvbmNhdChhcnIyLmZpbHRlcih2ID0+IGFycjEuaW5kZXhPZih2KSA9PT0gLTEpKTtcblxufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY29uZmlnIHN1cHBvcnRzIGEgZ2l2ZW4ga2V5LlxuICogQHBhcmFtIGtleVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0c0tleShrZXlDb2RlOiBudW1iZXIsIGNvbmZpZzogQXJyYXk8bnVtYmVyPik6IGJvb2xlYW4ge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoY29uZmlnKSkgcmV0dXJuIGNvbmZpZyA9PT0gbnVsbCA/IGZhbHNlIDogdHJ1ZTtcbiAgcmV0dXJuIGNvbmZpZy5pbmRleE9mKGtleUNvZGUpID4gLTE7XG59XG5cbi8qKlxuICogR2l2ZW4gYW4gb2JqZWN0IHJlcHJlc2VudGluZyBhIGtleS92YWx1ZSBtYXAgb2YgY3NzIHByb3BlcnRpZXMsIHJldHVybnMgYSB2YWxpZCBjc3Mgc3RyaW5nXG4gKiByZXByZXNlbnRpbmcgdGhlIG9iamVjdC5cbiAqIEV4YW1wbGU6XG4gKiBjb25zb2xlLmxvZyh0b1N0eWxlU3RyaW5nKHtcbiAqICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAqICAgICB3aWR0aDogJzEwMCUnLFxuICogICAgIGhlaWdodDogJzEwMCUnLFxuICogICAgIHRvcDogJzAnLFxuICogICAgIGxlZnQ6ICcwJyxcbiAqICAgICByaWdodDogJzAnLFxuICogICAgIGJvdHRvbTogJzAnXG4gKiB9KSk7XG4gKiAvLyBwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowXG4gKiBAcGFyYW0gb2JqXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TdHlsZVN0cmluZyhvYmo6IGFueSB8IENTU1N0eWxlRGVjbGFyYXRpb24pOiBzdHJpbmcge1xuICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKVxuICAgIC5tYXAoayA9PiBgJHtrfToke29ialtrXX1gKVxuICAgIC5qb2luKCc7Jyk7XG5cbiAgLy8gbGV0IG9ialN0ciA9IEpTT04uc3RyaW5naWZ5KG9iaik7XG4gIC8vIHJldHVybiBvYmpTdHIuc3Vic3RyKDEsIG9ialN0ci5sZW5ndGggLSAyKVxuICAvLyAgICAgLnJlcGxhY2UoLywvZywgJzsnKVxuICAvLyAgICAgLnJlcGxhY2UoL1wiL2csICcnKTtcbn1cblxuZXhwb3J0IGNsYXNzIFByb21pc2VDb21wbGV0ZXI8Uj4ge1xuICBwcm9taXNlOiBQcm9taXNlPFI+O1xuICByZXNvbHZlOiAodmFsdWU/OiBSfFByb21pc2VMaWtlPFI+KSA9PiB2b2lkO1xuICByZWplY3Q6IChlcnJvcj86IGFueSwgc3RhY2tUcmFjZT86IHN0cmluZykgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgIHRoaXMucmVzb2x2ZSA9IHJlcztcbiAgICAgIHRoaXMucmVqZWN0ID0gcmVqO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL2ZyYW1ld29yay91dGlscy50c1xuICoqLyIsImV4cG9ydCB7IEJvb3RzdHJhcE1vZGFsU2l6ZSwgQlNNb2RhbENvbnRleHQsIEJTTW9kYWxDb250ZXh0QnVpbGRlciB9IGZyb20gJy4vbW9kYWwtY29udGV4dCc7XG5leHBvcnQgeyBCU01vZGFsQmFja2Ryb3AgfSBmcm9tICcuL21vZGFsLWJhY2tkcm9wJztcbmV4cG9ydCB7IEJTTW9kYWxDb250YWluZXIgfSBmcm9tICcuL21vZGFsLWNvbnRhaW5lcic7XG5leHBvcnQgeyBCU01lc3NhZ2VNb2RhbCB9IGZyb20gJy4vbWVzc2FnZS1tb2RhbCc7XG5leHBvcnQgeyBCU01vZGFsRm9vdGVyIH0gZnJvbSAnLi9tb2RhbC1mb290ZXInO1xuXG5leHBvcnQge1xuICAgIE1lc3NhZ2VNb2RhbFByZXNldCxcbiAgICBNZXNzYWdlTW9kYWxQcmVzZXRCdWlsZGVyXG59IGZyb20gJy4vcHJlc2V0cy9tZXNzYWdlLW1vZGFsLXByZXNldCc7XG5cbmV4cG9ydCB7IE1vZGFsT3BlbkNvbnRleHQsIE1vZGFsT3BlbkNvbnRleHRCdWlsZGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbCc7XG5leHBvcnQgeyBPbmVCdXR0b25QcmVzZXQsIE9uZUJ1dHRvblByZXNldEJ1aWxkZXIgfSBmcm9tICcuL3ByZXNldHMvb25lLWJ1dHRvbi1wcmVzZXQnO1xuZXhwb3J0IHsgVHdvQnV0dG9uUHJlc2V0LCBUd29CdXR0b25QcmVzZXRCdWlsZGVyIH0gZnJvbSAnLi9wcmVzZXRzL3R3by1idXR0b24tcHJlc2V0JztcbmV4cG9ydCB7IEJTTW9kYWwsIE1vZGFsIH0gZnJvbSAnLi9tb2RhbCc7XG5cbmV4cG9ydCB7IEJvb3RzdHJhcE1vZGFsTW9kdWxlIH0gZnJvbSAnLi9ib290c3RyYXAubW9kdWxlJztcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy9ib290c3RyYXAvaW5kZXgudHNcbiAqKi8iLCJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgVmlld0NvbnRhaW5lclJlZixcbiAgVmlld0NoaWxkLFxuICBWaWV3RW5jYXBzdWxhdGlvbixcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgRXZlbnRFbWl0dGVyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQge1xuICBjcmVhdGVDb21wb25lbnQsXG4gIE1vZGFsQ29tcG9uZW50LFxuICBNb2RhbENvbXBpbGVDb25maWcsXG4gIERpYWxvZ1JlZlxufSBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsJztcblxuaW1wb3J0IHsgRGlhbG9nUHJlc2V0IH0gZnJvbSAnLi9wcmVzZXRzL2RpYWxvZy1wcmVzZXQnO1xuaW1wb3J0IHsgRHJvcEluUHJlc2V0IH0gZnJvbSAnLi9wcmVzZXRzL2Ryb3Bpbi1wcmVzZXQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZFWEJ1dHRvbkhhbmRsZXIge1xuICAoY21wOiBNb2RhbENvbXBvbmVudDxEaWFsb2dQcmVzZXQ+LCAkZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkO1xufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgYnV0dG9uIGRlZmluaXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWRVhCdXR0b25Db25maWcge1xuICBjc3NDbGFzczogc3RyaW5nO1xuICBjYXB0aW9uOiBzdHJpbmc7XG4gIG9uQ2xpY2s6IFZFWEJ1dHRvbkhhbmRsZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVkVYQnV0dG9uQ2xpY2tFdmVudCB7XG4gIGJ0bjogVkVYQnV0dG9uQ29uZmlnO1xuICAkZXZlbnQ6IE1vdXNlRXZlbnQ7XG59XG5cbi8qKlxuICogQSBEaWFsb2cgaXMgYVxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd2ZXgtZGlhbG9nLWJ1dHRvbnMnLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9XCJ2ZXgtZGlhbG9nLWJ1dHRvbnNcIj5cbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBcbiAgICAgICAgICpuZ0Zvcj1cImxldCBidG4gb2YgYnV0dG9ucztcIlxuICAgICAgICAgW2NsYXNzXT1cImJ0bi5jc3NDbGFzc1wiXG4gICAgICAgICAoY2xpY2spPVwib25DbGljayhidG4sICRldmVudClcIj57e2J0bi5jYXB0aW9ufX08L2J1dHRvbj5cbjwvZGl2PmBcbn0pXG5leHBvcnQgY2xhc3MgVkVYRGlhbG9nQnV0dG9ucyB7XG5cbiAgLyoqXG4gICAqIEEgY29sbGVjdGlvbiBvZiBidXR0b24gY29uZmlndXJhdGlvbnMsIGVhY2ggY29uZmlndXJhdGlvbiBpcyBhIGJ1dHRvbiB0byBkaXNwbGF5LlxuICAgKi9cbiAgQElucHV0KCkgcHVibGljIGJ1dHRvbnM6IFZFWEJ1dHRvbkNvbmZpZ1tdO1xuXG4gIC8qKlxuICAgKiBFbWl0dGVkIHdoZW4gYSBidXR0b24gd2FzIGNsaWNrZWRcbiAgICogQHR5cGUge0V2ZW50RW1pdHRlcjxWRVhCdXR0b25DbGlja0V2ZW50Pn1cbiAgICovXG4gIEBPdXRwdXQoKSBwdWJsaWMgb25CdXR0b25DbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8VkVYQnV0dG9uQ2xpY2tFdmVudD4oKTtcblxuICBvbkNsaWNrKGJ0bjogYW55LCAkZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5vbkJ1dHRvbkNsaWNrLmVtaXQoe2J0biwgJGV2ZW50fSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBIERpYWxvZyB3aXRoIGN1c3RvbWl6ZWQgYnV0dG9ucyB3cmFwcGVkIGluIGEgZm9ybS5cbiAqXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21vZGFsLWRpYWxvZycsXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gIHRlbXBsYXRlOiBgPGZvcm0gY2xhc3M9XCJ2ZXgtZGlhbG9nLWZvcm1cIj5cbiAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogbm9uZVwiICNtb2RhbERpYWxvZz48L2Rpdj4gXG4gICAgPHZleC1kaWFsb2ctYnV0dG9ucyBbYnV0dG9uc109XCJjb250ZXh0LmJ1dHRvbnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKG9uQnV0dG9uQ2xpY2spPVwib25CdXR0b25DbGljaygkZXZlbnQpXCI+PC92ZXgtZGlhbG9nLWJ1dHRvbnM+XG48L2Zvcm0+YFxufSlcbmV4cG9ydCBjbGFzcyBEaWFsb2dGb3JtTW9kYWwgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0LCBNb2RhbENvbXBvbmVudDxEaWFsb2dQcmVzZXQ+IHtcbiAgcHJpdmF0ZSBjb250ZXh0OiBEaWFsb2dQcmVzZXQ7XG4gIEBWaWV3Q2hpbGQoJ21vZGFsRGlhbG9nJywge3JlYWQ6IFZpZXdDb250YWluZXJSZWZ9KSBwcml2YXRlIF92aWV3Q29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBkaWFsb2c6IERpYWxvZ1JlZjxEaWFsb2dQcmVzZXQ+LFxuICAgICAgICAgICAgICBwcml2YXRlIF9jb21waWxlQ29uZmlnOiBNb2RhbENvbXBpbGVDb25maWcsXG4gICAgICAgICAgICAgIHByaXZhdGUgX2NyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpIHtcbiAgICB0aGlzLmNvbnRleHQgPSBkaWFsb2cuY29udGV4dDtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAvKiAgVE9ETzpcbiAgICAgSW4gUkM1IGR5bmFtaWMgY29tcG9uZW50IGNyZWF0aW9uIGlzIG5vIGxvbmdlciBhc3luYy5cbiAgICAgU29tZXdoZXJlIGRvd24gdGhlIHBpcGUgb2YgdGhlIGNyZWF0ZWQgY29tcG9uZW50IGEgdmFsdWUgY2hhbmdlIGhhcHBlbnMgdGhhdCBmaXJlc1xuICAgICBhIENEIGV4Y2VwdGlvbi4gc2V0VGltZW91dCBpcyBhIHdvcmthcm91bmQgdGhhdCBtaW1pY3MgdGhlIGFzeW5jIGJlaGF2aW9yLlxuICAgICBGaW5kIG91dCB0aGUgZXJyb3IgYW5kIHJlbW92ZSBzZXRUaW1lb3V0LlxuICAgICAqL1xuICAgIHNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgICAgdGhpcy5kaWFsb2cuY29udGVudFJlZiA9IGNyZWF0ZUNvbXBvbmVudChcbiAgICAgICAgICB0aGlzLl9jcixcbiAgICAgICAgICB0aGlzLmNvbnRleHQuY29udGVudCxcbiAgICAgICAgICB0aGlzLl92aWV3Q29udGFpbmVyLFxuICAgICAgICAgIHRoaXMuX2NvbXBpbGVDb25maWcuYmluZGluZ3MpO1xuICAgIH0pO1xuICB9XG5cbiAgb25CdXR0b25DbGljaygkZXZlbnQ6IFZFWEJ1dHRvbkNsaWNrRXZlbnQpIHtcbiAgICAkZXZlbnQuYnRuLm9uQ2xpY2sodGhpcywgJGV2ZW50LiRldmVudCk7XG4gIH1cbn1cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZHJvcC1pbi1kaWFsb2cnLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9XCJ2ZXgtZGlhbG9nLW1lc3NhZ2VcIj57e2NvbnRleHQubWVzc2FnZX19PC9kaXY+XG4gICAgPGRpdiAqbmdJZj1cImNvbnRleHQuc2hvd0lucHV0XCIgY2xhc3M9XCJ2ZXgtZGlhbG9nLWlucHV0XCI+XG4gICAgICAgIDxpbnB1dCBhdXRvZm9jdXMgI2lucHV0XG4gICAgICAgICAgICAgICBuYW1lPVwidmV4XCIgXG4gICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIFxuICAgICAgICAgICAgICAgY2xhc3M9XCJ2ZXgtZGlhbG9nLXByb21wdC1pbnB1dFwiXG4gICAgICAgICAgICAgICAoY2hhbmdlKT1cImNvbnRleHQuZGVmYXVsdFJlc3VsdCA9IGlucHV0LnZhbHVlXCIgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwie3tjb250ZXh0LnBsYWNlaG9sZGVyfX1cIj5cbiAgICA8L2Rpdj5gXG59KVxuZXhwb3J0IGNsYXNzIEZvcm1Ecm9wSW4gaW1wbGVtZW50cyBNb2RhbENvbXBvbmVudDxEcm9wSW5QcmVzZXQ+IHtcbiAgcHJpdmF0ZSBjb250ZXh0OiBEcm9wSW5QcmVzZXQ7XG5cbiAgY29uc3RydWN0b3IocHVibGljIGRpYWxvZzogRGlhbG9nUmVmPERyb3BJblByZXNldD4pIHtcbiAgICB0aGlzLmNvbnRleHQgPSBkaWFsb2cuY29udGV4dDtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL3ZleC9kaWFsb2ctZm9ybS1tb2RhbC50c1xuICoqLyIsImltcG9ydCB7TW9kYWwgYXMgQmFzZU1vZGFsfSBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsJztcbmltcG9ydCB7RHJvcEluUHJlc2V0QnVpbGRlcn0gZnJvbSAnLi9wcmVzZXRzL2Ryb3Bpbi1wcmVzZXQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZFWE1vZGFsIGV4dGVuZHMgQmFzZU1vZGFsIHtcbiAgICBhbGVydCgpOiBEcm9wSW5QcmVzZXRCdWlsZGVyO1xuICAgIHByb21wdCgpOiBEcm9wSW5QcmVzZXRCdWlsZGVyO1xuICAgIGNvbmZpcm0oKTogRHJvcEluUHJlc2V0QnVpbGRlcjtcbn1cblxuZXhwb3J0IGNvbnN0IE1vZGFsID0gQmFzZU1vZGFsO1xuZXhwb3J0IHR5cGUgTW9kYWwgPSBWRVhNb2RhbDtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy92ZXgvbW9kYWwudHNcbiAqKi8iLCJpbXBvcnQgeyBOZ01vZHVsZSwgTW9kdWxlV2l0aFByb3ZpZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuaW1wb3J0IHsgRGVtb0hlYWQgfSBmcm9tICcuL2RlbW8taGVhZC9pbmRleCc7XG5cblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogWyBDb21tb25Nb2R1bGUgXSxcbiAgZGVjbGFyYXRpb25zOiBbIERlbW9IZWFkIF0sXG4gIGV4cG9ydHM6IFsgRGVtb0hlYWQgXVxufSlcbmV4cG9ydCBjbGFzcyBTaGFyZWRNb2R1bGUge1xuICBzdGF0aWMgZm9yUm9vdCgpOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IFNoYXJlZE1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogW1xuICAgICAgXVxuICAgIH07XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2RlbW8vYXBwL3NoYXJlZC5tb2R1bGUudHNcbiAqKi8iLCJpbXBvcnQge1xuICAgIFZpZXdDb250YWluZXJSZWYsXG4gICAgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXIsXG4gICAgVHlwZVxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgTW9kYWwgfSBmcm9tICcuLi9wcm92aWRlcnMvaW5kZXgnO1xuaW1wb3J0IHsgRGlhbG9nUmVmIH0gZnJvbSAnLi9kaWFsb2ctcmVmJztcbmltcG9ydCB7IE1vZGFsQ29udHJvbGxpbmdDb250ZXh0QnVpbGRlciB9IGZyb20gJy4uL21vZGVscy9tb2RhbC1jb250ZXh0JztcblxuZXhwb3J0IGVudW0gRFJPUF9JTl9UWVBFIHtcbiAgICBhbGVydCxcbiAgICBwcm9tcHQsXG4gICAgY29uZmlybVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vZGFsQ29tcG9uZW50PFQ+IHtcbiAgICBkaWFsb2c6IERpYWxvZ1JlZjxUPjtcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgYmVmb3JlIGEgbW9kYWwgaXMgZGlzbWlzc2VkLlxuICAgICAqIEByZXR1cm4gdHJ1ZSBvciBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0cnVlIHRvIGNhbmNlbCBkaXNtaXNzYWwuXG4gICAgICovXG4gICAgYmVmb3JlRGlzbWlzcz8oKTogYm9vbGVhbiB8IFByb21pc2U8Ym9vbGVhbj47XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIGJlZm9yZSBhIG1vZGFsIGlzIGNsb3NlZC5cbiAgICAgKiBAcmV0dXJuIHRydWUgb3IgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdHJ1ZSB0byBjYW5jZWwgY2xvc2luZy5cbiAgICAgKi9cbiAgICBiZWZvcmVDbG9zZT8oKTogYm9vbGVhbiB8IFByb21pc2U8Ym9vbGVhbj47XG59XG5cbmV4cG9ydCBjbGFzcyBNb2RhbENvbXBpbGVDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBjb21wb25lbnQ6IFR5cGUsIHB1YmxpYyBiaW5kaW5nczogUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJbXSkge31cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1vZGFsUmVuZGVyZXIge1xuICAgIHB1YmxpYyBhYnN0cmFjdCByZW5kZXIodHlwZTogVHlwZSxcbiAgICAgICAgICAgdmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZixcbiAgICAgICAgICAgYmluZGluZ3M6IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyW10sXG4gICAgICAgICAgIGRpYWxvZzogRGlhbG9nUmVmPGFueT5cbiAgICApOiBEaWFsb2dSZWY8YW55Pjtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1vZGFsQmFja2Ryb3BDb21wb25lbnQgZXh0ZW5kcyBUeXBlIHt9XG5cbmV4cG9ydCBjbGFzcyBNb2RhbERyb3BJbkZhY3Rvcnkge1xuICAgIGFsZXJ0OiA8VD4obW9kYWw6IE1vZGFsKSA9PiBNb2RhbENvbnRyb2xsaW5nQ29udGV4dEJ1aWxkZXI8VD47XG4gICAgcHJvbXB0OiA8VD4obW9kYWw6IE1vZGFsKSA9PiBNb2RhbENvbnRyb2xsaW5nQ29udGV4dEJ1aWxkZXI8VD47XG4gICAgY29uZmlybTogPFQ+KG1vZGFsOiBNb2RhbCkgPT4gTW9kYWxDb250cm9sbGluZ0NvbnRleHRCdWlsZGVyPFQ+O1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9tb2RlbHMvdG9rZW5zLnRzXG4gKiovIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBEaWFsb2dSZWYsIE1vZGFsQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbCc7XG5pbXBvcnQgeyBCU01vZGFsRm9vdGVyLCBGb290ZXJCdXR0b25DbGlja0V2ZW50IH0gZnJvbSAnLi9tb2RhbC1mb290ZXInO1xuaW1wb3J0IHsgTWVzc2FnZU1vZGFsUHJlc2V0IH0gZnJvbScuL3ByZXNldHMvbWVzc2FnZS1tb2RhbC1wcmVzZXQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJTTWVzc2FnZU1vZGFsQnV0dG9uSGFuZGxlciB7XG4gICAgKGNtcDogIE1vZGFsQ29tcG9uZW50PE1lc3NhZ2VNb2RhbFByZXNldD4sICRldmVudDogTW91c2VFdmVudCk6IHZvaWQ7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBidXR0b24gZGVmaW5pdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJTTWVzc2FnZU1vZGFsQnV0dG9uQ29uZmlnIHtcbiAgICBjc3NDbGFzczogc3RyaW5nO1xuICAgIGNhcHRpb246IHN0cmluZztcbiAgICBvbkNsaWNrOiBCU01lc3NhZ2VNb2RhbEJ1dHRvbkhhbmRsZXI7XG59XG5cbi8qKlxuICogQSBDb21wb25lbnQgcmVwcmVzZW50aW5nIGEgZ2VuZXJpYyBib290c3RyYXAgbW9kYWwgY29udGVudCBlbGVtZW50LlxuICogXG4gKiBCeSBjb25maWd1cmluZyBhIE1lc3NhZ2VNb2RhbENvbnRleHQgaW5zdGFuY2UgeW91IGNhbjpcbiAqIFxuICogIEhlYWRlcjogXG4gKiAgICAgIC0gU2V0IGhlYWRlciBjb250YWluZXIgY2xhc3MgKGRlZmF1bHQ6IG1vZGFsLWhlYWRlcilcbiAqICAgICAgLSBTZXQgdGl0bGUgdGV4dCAoZW5jbG9zZWQgaW4gSDMgZWxlbWVudClcbiAqICAgICAgLSBTZXQgdGl0bGUgaHRtbCAob3ZlcnJpZGVzIHRleHQpXG4gKiAgICAgIFxuICogIEJvZHk6XG4gKiAgICAgIC0gU2V0IGJvZHkgY29udGFpbmVyIGNsYXNzLiAgKGRlZmF1bHQ6IG1vZGFsLWJvZHkpXG4gKiAgICAgIC0gU2V0IGJvZHkgY29udGFpbmVyIEhUTUwuXG4gKiAgICAgIFxuICogIEZvb3RlcjpcbiAqICAgICAgLSBTZXQgZm9vdGVyIGNsYXNzLiAgKGRlZmF1bHQ6IG1vZGFsLWZvb3RlcilcbiAqICAgICAgLSBTZXQgYnV0dG9uIGNvbmZpZ3VyYXRpb24gKGZyb20gMCB0byBuKVxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ21vZGFsLWNvbnRlbnQnLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgdGVtcGxhdGU6XG4gICAgYDxkaXYgW25nQ2xhc3NdPVwiY29udGV4dC5oZWFkZXJDbGFzc1wiIFtuZ1N3aXRjaF09XCJ0aXRsZUh0bWxcIj5cbiAgICAgICAgPGJ1dHRvbiAqbmdJZj1cImNvbnRleHQuc2hvd0Nsb3NlXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2VcIiAoY2xpY2spPVwiZGlhbG9nLmRpc21pc3MoKVwiPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+w5c8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9XCIxXCIgW2lubmVySHRtbF09XCJjb250ZXh0LnRpdGxlSHRtbFwiPjwvZGl2PlxuICAgICAgICA8aDMgKm5nU3dpdGNoRGVmYXVsdCBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+e3tjb250ZXh0LnRpdGxlfX08L2gzPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgW25nQ2xhc3NdPVwiY29udGV4dC5ib2R5Q2xhc3NcIiBbaW5uZXJIdG1sXT1cImNvbnRleHQubWVzc2FnZVwiPjwvZGl2PlxuICAgIDxtb2RhbC1mb290ZXIgW2Zvb3RlckNsYXNzXT1cImNvbnRleHQuZm9vdGVyQ2xhc3NcIiBcbiAgICAgICAgICAgICAgICAgIFtidXR0b25zXT1cImNvbnRleHQuYnV0dG9uc1wiXG4gICAgICAgICAgICAgICAgICAob25CdXR0b25DbGljayk9XCJvbkZvb3RlckJ1dHRvbkNsaWNrKCRldmVudClcIj48L21vZGFsLWZvb3Rlcj5gXG59KVxuZXhwb3J0IGNsYXNzIEJTTWVzc2FnZU1vZGFsIGltcGxlbWVudHMgTW9kYWxDb21wb25lbnQ8TWVzc2FnZU1vZGFsUHJlc2V0PiB7XG4gICAgcHVibGljIGNvbnRleHQ6IE1lc3NhZ2VNb2RhbFByZXNldDtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZGlhbG9nOiBEaWFsb2dSZWY8TWVzc2FnZU1vZGFsUHJlc2V0Pikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBkaWFsb2cuY29udGV4dDtcbiAgICB9XG4gICAgXG4gICAgb25Gb290ZXJCdXR0b25DbGljaygkZXZlbnQ6IEZvb3RlckJ1dHRvbkNsaWNrRXZlbnQpIHtcbiAgICAgICAgJGV2ZW50LmJ0bi5vbkNsaWNrKHRoaXMsICRldmVudC4kZXZlbnQpO1xuICAgIH1cblxuICAgIGdldCB0aXRsZUh0bWwoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC50aXRsZUh0bWwgPyAxIDogMDtcbiAgICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvYm9vdHN0cmFwL21lc3NhZ2UtbW9kYWwudHNcbiAqKi8iLCJpbXBvcnQge01vZGFsIGFzIEJhc2VNb2RhbH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbCc7XG5pbXBvcnQge09uZUJ1dHRvblByZXNldEJ1aWxkZXJ9IGZyb20gJy4vLi4vYm9vdHN0cmFwL3ByZXNldHMvb25lLWJ1dHRvbi1wcmVzZXQnO1xuaW1wb3J0IHtUd29CdXR0b25QcmVzZXRCdWlsZGVyfSBmcm9tICcuLy4uL2Jvb3RzdHJhcC9wcmVzZXRzL3R3by1idXR0b24tcHJlc2V0JztcblxuZXhwb3J0IGludGVyZmFjZSBCU01vZGFsIGV4dGVuZHMgQmFzZU1vZGFsIHtcbiAgICBhbGVydCgpOiBPbmVCdXR0b25QcmVzZXRCdWlsZGVyO1xuICAgIHByb21wdCgpOiBPbmVCdXR0b25QcmVzZXRCdWlsZGVyO1xuICAgIGNvbmZpcm0oKTogVHdvQnV0dG9uUHJlc2V0QnVpbGRlcjtcbn1cblxuZXhwb3J0IGNvbnN0IE1vZGFsID0gQmFzZU1vZGFsO1xuZXhwb3J0IHR5cGUgTW9kYWwgPSBCU01vZGFsO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2Jvb3RzdHJhcC9tb2RhbC50c1xuICoqLyIsImltcG9ydCB7XG4gIEZsdWVudEFzc2lnbk1ldGhvZCxcbiAgcHJpdmF0ZUtleSxcbiAgc2V0QXNzaWduQWxpYXMsXG4gIGV4dGVuZCxcbiAgYXJyYXlVbmlvblxufSBmcm9tICcuLi8uLi8uLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsJztcbmltcG9ydCB7IEJTTWVzc2FnZU1vZGFsQnV0dG9uQ29uZmlnLCBCU01lc3NhZ2VNb2RhbEJ1dHRvbkhhbmRsZXIgfSBmcm9tICcuLi9tZXNzYWdlLW1vZGFsJztcbmltcG9ydCB7IEJTTW9kYWxDb250ZXh0LCBCU01vZGFsQ29udGV4dEJ1aWxkZXIgfSAgZnJvbSAnLi4vbW9kYWwtY29udGV4dCc7XG5pbXBvcnQgeyBCU01lc3NhZ2VNb2RhbCB9IGZyb20gJy4uL21lc3NhZ2UtbW9kYWwnO1xuXG5cbmNvbnN0IERFRkFVTFRfVkFMVUVTID0ge1xuICBjb21wb25lbnQ6IEJTTWVzc2FnZU1vZGFsLFxuICBoZWFkZXJDbGFzczogJ21vZGFsLWhlYWRlcicsXG4gIGJvZHlDbGFzczogJ21vZGFsLWJvZHknLFxuICBmb290ZXJDbGFzczogJ21vZGFsLWZvb3Rlcidcbn07XG5cbmNvbnN0IERFRkFVTFRfU0VUVEVSUyA9IFtcbiAgJ2hlYWRlckNsYXNzJyxcbiAgJ3RpdGxlJyxcbiAgJ3RpdGxlSHRtbCcsXG4gICdib2R5Q2xhc3MnLFxuICAnZm9vdGVyQ2xhc3MnXG5dO1xuXG5cbi8qKlxuICogRGF0YSBkZWZpbml0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZU1vZGFsUHJlc2V0IGV4dGVuZHMgQlNNb2RhbENvbnRleHQge1xuXG4gIC8qKlxuICAgKiBBIENsYXNzIGZvciB0aGUgaGVhZGVyICh0aXRsZSkgY29udGFpbmVyLlxuICAgKiBEZWZhdWx0OiBtb2RhbC1oZWFkZXJcbiAgICovXG4gIGhlYWRlckNsYXNzOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIENhcHRpb24gZm9yIHRoZSB0aXRsZSwgZW5jbG9zZWQgaW4gYSBIMyBjb250YWluZXIuXG4gICAqL1xuICB0aXRsZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBIVE1MIGZvciB0aGUgdGl0bGUsIGlmIHNldCBvdmVycmlkZXMgdGl0bGUgcHJvcGVydHkuXG4gICAqIFRoZSBIVE1MIGlzIHdyYXBwZWQgaW4gYSBESVYgZWxlbWVudCwgaW5zaWRlIHRoZSBoZWFkZXIgY29udGFpbmVyLlxuICAgKiBFeGFtcGxlOlxuICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgPGRpdj4gSFRNTCBDT05URU5UIElOU0VSVEVEIEhFUkUgPC9kaXY+XG4gICA8L2Rpdj5cbiAgICogTm90ZTogSFRNTCBpcyBub3QgY29tcGlsZWQuXG4gICAqL1xuICB0aXRsZUh0bWw6IHN0cmluZztcblxuICAvKipcbiAgICogYWxpYXNlZCBieSAnYm9keSdcbiAgICogQGFsaWFzZWRCeSBib2R5XG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBib2R5IG9mIHRoZSBtb2RhbC5cbiAgICogQ2FuIGJlIGVpdGhlciB0ZXh0IG9yIEhUTUwuXG4gICAqIE5vdGU6IFdoZW4gdXNpbmcgSFRNTCwgdGhlIHRlbXBsYXRlIGlzIG5vdCBjb21waWxlZC4gKGJpbmRpbmcgYW5kIGV4cHJlc3Npb24gd2lsbCBub3QgcGFyc2UpXG4gICAqIEBhbGlhc09mIG1lc3NhZ2VcbiAgICovXG4gIGJvZHk6IHN0cmluZztcblxuICAvKipcbiAgICogQSBDbGFzcyBmb3IgdGhlIGJvZHkgY29udGFpbmVyLlxuICAgKiBEZWZhdWx0OiBtb2RhbC1ib2R5XG4gICAqL1xuICBib2R5Q2xhc3M6IHN0cmluZztcblxuICAvKipcbiAgICogQSBDbGFzcyBmb3IgdGhlIGZvb3RlciBjb250YWluZXIuXG4gICAqIERlZmF1bHQ6IG1vZGFsLWZvb3RlclxuICAgKi9cbiAgZm9vdGVyQ2xhc3M6IHN0cmluZztcblxuICBidXR0b25zOiBCU01lc3NhZ2VNb2RhbEJ1dHRvbkNvbmZpZ1tdO1xufVxuXG4vKipcbiAqIEEgUHJlc2V0IHJlcHJlc2VudGluZyB0aGUgY29uZmlndXJhdGlvbiBuZWVkZWQgdG8gb3BlbiBNZXNzYWdlTW9kYWwuXG4gKiBUaGlzIGlzIGFuIGFic3RyYWN0IGltcGxlbWVudGF0aW9uIHdpdGggbm8gY29uY3JldGUgYmVoYXZpb3VyLlxuICogVXNlIGRlcml2ZWQgaW1wbGVtZW50YXRpb24uXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBNZXNzYWdlTW9kYWxQcmVzZXRCdWlsZGVyPFQgZXh0ZW5kcyBNZXNzYWdlTW9kYWxQcmVzZXQ+XG5leHRlbmRzIEJTTW9kYWxDb250ZXh0QnVpbGRlcjxUPiB7XG5cbiAgLyoqXG4gICAqIEEgQ2xhc3MgZm9yIHRoZSBoZWFkZXIgKHRpdGxlKSBjb250YWluZXIuXG4gICAqIERlZmF1bHQ6IG1vZGFsLWhlYWRlclxuICAgKi9cbiAgaGVhZGVyQ2xhc3M6IEZsdWVudEFzc2lnbk1ldGhvZDxzdHJpbmcsIHRoaXM+O1xuXG4gIC8qKlxuICAgKiBDYXB0aW9uIGZvciB0aGUgdGl0bGUsIGVuY2xvc2VkIGluIGEgSDMgY29udGFpbmVyLlxuICAgKi9cbiAgdGl0bGU6IEZsdWVudEFzc2lnbk1ldGhvZDxzdHJpbmcsIHRoaXM+O1xuXG4gIC8qKlxuICAgKiBIVE1MIGZvciB0aGUgdGl0bGUsIGlmIHNldCBvdmVycmlkZXMgdGl0bGUgcHJvcGVydHkuXG4gICAqIFRoZSBIVE1MIGlzIHdyYXBwZWQgaW4gYSBESVYgZWxlbWVudCwgaW5zaWRlIHRoZSBoZWFkZXIgY29udGFpbmVyLlxuICAgKiBFeGFtcGxlOlxuICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgPGRpdj4gSFRNTCBDT05URU5UIElOU0VSVEVEIEhFUkUgPC9kaXY+XG4gICA8L2Rpdj5cbiAgICogTm90ZTogSFRNTCBpcyBub3QgY29tcGlsZWQuXG4gICAqL1xuICB0aXRsZUh0bWw6IEZsdWVudEFzc2lnbk1ldGhvZDxzdHJpbmcsIHRoaXM+O1xuXG4gIC8qKlxuICAgKiBhbGlhc2VkIGJ5ICdib2R5J1xuICAgKiBAYWxpYXNlZEJ5IGJvZHlcbiAgICovXG4gIG1lc3NhZ2U6IEZsdWVudEFzc2lnbk1ldGhvZDxzdHJpbmcsIHRoaXM+O1xuXG4gIC8qKlxuICAgKiBUaGUgYm9keSBvZiB0aGUgbW9kYWwuXG4gICAqIENhbiBiZSBlaXRoZXIgdGV4dCBvciBIVE1MLlxuICAgKiBOb3RlOiBXaGVuIHVzaW5nIEhUTUwsIHRoZSB0ZW1wbGF0ZSBpcyBub3QgY29tcGlsZWQuIChiaW5kaW5nIGFuZCBleHByZXNzaW9uIHdpbGwgbm90IHBhcnNlKVxuICAgKiBAYWxpYXNPZiBtZXNzYWdlXG4gICAqL1xuICBib2R5OiBGbHVlbnRBc3NpZ25NZXRob2Q8c3RyaW5nLCB0aGlzPjtcblxuICAvKipcbiAgICogQSBDbGFzcyBmb3IgdGhlIGJvZHkgY29udGFpbmVyLlxuICAgKiBEZWZhdWx0OiBtb2RhbC1ib2R5XG4gICAqL1xuICBib2R5Q2xhc3M6IEZsdWVudEFzc2lnbk1ldGhvZDxzdHJpbmcsIHRoaXM+O1xuXG4gIC8qKlxuICAgKiBBIENsYXNzIGZvciB0aGUgZm9vdGVyIGNvbnRhaW5lci5cbiAgICogRGVmYXVsdDogbW9kYWwtZm9vdGVyXG4gICAqL1xuICBmb290ZXJDbGFzczogRmx1ZW50QXNzaWduTWV0aG9kPHN0cmluZywgdGhpcz47XG5cbiAgY29uc3RydWN0b3IoZGVmYXVsdFZhbHVlczogVCA9IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgaW5pdGlhbFNldHRlcnM6IHN0cmluZ1tdID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBiYXNlVHlwZTogbmV3ICgpID0+IFQgPSB1bmRlZmluZWQpIHtcbiAgICBzdXBlcihcbiAgICAgIGV4dGVuZDxhbnk+KGV4dGVuZCh7YnV0dG9uczogW119LCBERUZBVUxUX1ZBTFVFUyksIGRlZmF1bHRWYWx1ZXMgfHwge30pLFxuICAgICAgYXJyYXlVbmlvbjxzdHJpbmc+KERFRkFVTFRfU0VUVEVSUywgaW5pdGlhbFNldHRlcnMgfHwgW10pLFxuICAgICAgYmFzZVR5cGVcbiAgICApO1xuXG4gICAgc2V0QXNzaWduQWxpYXModGhpcywgJ2JvZHknLCAnbWVzc2FnZScsIHRydWUpO1xuICB9XG5cbiAgYWRkQnV0dG9uKGNzczogc3RyaW5nLCBjYXB0aW9uOiBzdHJpbmcsIG9uQ2xpY2s6IEJTTWVzc2FnZU1vZGFsQnV0dG9uSGFuZGxlcik6IHRoaXMge1xuICAgIGxldCBidG4gPSB7XG4gICAgICBjc3NDbGFzczogY3NzLFxuICAgICAgY2FwdGlvbjogY2FwdGlvbixcbiAgICAgIG9uQ2xpY2s6IG9uQ2xpY2tcbiAgICB9O1xuXG4gICAgbGV0IGtleSA9IHByaXZhdGVLZXkoJ2J1dHRvbnMnKTtcbiAgICAodGhpc1trZXldIGFzIEJTTWVzc2FnZU1vZGFsQnV0dG9uQ29uZmlnW10pLnB1c2goYnRuKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvYm9vdHN0cmFwL3ByZXNldHMvbWVzc2FnZS1tb2RhbC1wcmVzZXQudHNcbiAqKi8iLCJpbXBvcnQgeyBNb2RhbCB9IGZyb20gJy4vbW9kYWwnO1xuXG5leHBvcnQgeyBNb2RhbCwgSlNOYXRpdmVNb2RhbCB9IGZyb20gJy4vbW9kYWwnO1xuZXhwb3J0IHtcbiAgICBKU05hdGl2ZU1vZGFsQ29udGV4dCxcbiAgICBKU05hdGl2ZU1vZGFsQ29udGV4dEJ1aWxkZXJcbn0gZnJvbSAnLi9tb2RhbC1jb250ZXh0JztcbmV4cG9ydCB7IEpTTmF0aXZlTW9kYWxSZW5kZXJlciB9IGZyb20gJy4vanMtbmF0aXZlLW1vZGFsLXJlbmRlcmVyJztcbmV4cG9ydCB7IEpTTmF0aXZlUHJlc2V0QnVpbGRlciB9IGZyb20gJy4vcHJlc2V0cy9qcy1uYXRpdmUtcHJlc2V0JztcblxuZXhwb3J0IHsgSlNOYXRpdmVNb2RhbE1vZHVsZSB9IGZyb20gJy4vanMtbmF0aXZlLm1vZHVsZSc7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvanMtbmF0aXZlL2luZGV4LnRzXG4gKiovIiwiaW1wb3J0IHtNb2RhbCBhcyBCYXNlTW9kYWx9IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuaW1wb3J0IHtKU05hdGl2ZVByZXNldEJ1aWxkZXJ9IGZyb20gJy4vcHJlc2V0cy9qcy1uYXRpdmUtcHJlc2V0JztcblxuZXhwb3J0IGludGVyZmFjZSBKU05hdGl2ZU1vZGFsIGV4dGVuZHMgQmFzZU1vZGFsIHtcbiAgICBhbGVydCgpOiBKU05hdGl2ZVByZXNldEJ1aWxkZXI7XG4gICAgcHJvbXB0KCk6IEpTTmF0aXZlUHJlc2V0QnVpbGRlcjtcbiAgICBjb25maXJtKCk6IEpTTmF0aXZlUHJlc2V0QnVpbGRlcjtcbn1cblxuZXhwb3J0IGNvbnN0IE1vZGFsID0gQmFzZU1vZGFsO1xuZXhwb3J0IHR5cGUgTW9kYWwgPSBKU05hdGl2ZU1vZGFsO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2pzLW5hdGl2ZS9tb2RhbC50c1xuICoqLyIsImV4cG9ydCB7IERPTU1vZGFsUmVuZGVyZXIgfSBmcm9tICcuL2RvbS1tb2RhbC1yZW5kZXJlcic7XG5leHBvcnQgeyBNb2RhbCB9IGZyb20gJy4vbW9kYWwnO1xuZXhwb3J0IHsgRE9NT3V0c2lkZUV2ZW50UGx1Z2luIH0gZnJvbSAnLi9vdXRzaWRlLWV2ZW50LXBsdWdpbic7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3Byb3ZpZGVycy9pbmRleC50c1xuICoqLyIsImV4cG9ydCAqIGZyb20gJy4vZGVhbS1oZWFkJztcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2RlbW8vYXBwL2RlbW8taGVhZC9pbmRleC50c1xuICoqLyIsImltcG9ydCB7IE1vZGFsIGFzIEJhc2VNb2RhbCB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuXG5pbXBvcnQgeyBJbkFwcE1vZGFsQ29udGV4dEJ1aWxkZXIgfSBmcm9tICcuL21vZGFsLWNvbnRleHQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEluQXBwTW9kYWwgZXh0ZW5kcyBCYXNlTW9kYWwge1xuICAgIGFsZXJ0KCk6IEluQXBwTW9kYWxDb250ZXh0QnVpbGRlcjtcbn1cblxuZXhwb3J0IGNvbnN0IE1vZGFsID0gQmFzZU1vZGFsO1xuZXhwb3J0IHR5cGUgTW9kYWwgPSBJbkFwcE1vZGFsO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvaG9tZS9pbi1hcHAtcGx1Z2luL21vZGFsLnRzXG4gKiovIiwiaW1wb3J0IHtcbiAgQ29tcG9uZW50UmVmLFxuICBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gIFZpZXdDb250YWluZXJSZWYsXG4gIFJlZmxlY3RpdmVJbmplY3RvcixcbiAgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQoY2ZyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogYW55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZjcjogVmlld0NvbnRhaW5lclJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kaW5nczogUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJbXSk6IENvbXBvbmVudFJlZjxhbnk+IHtcbiAgcmV0dXJuIHZjci5jcmVhdGVDb21wb25lbnQoXG4gICAgY2ZyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHR5cGUpLFxuICAgIHZjci5sZW5ndGgsXG4gICAgZ2V0SW5qZWN0b3IodmNyLCBiaW5kaW5ncylcbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5qZWN0b3Iodmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZiwgYmluZGluZ3M6IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyW10pIHtcbiAgY29uc3QgY3R4SW5qZWN0b3IgPSB2aWV3Q29udGFpbmVyLnBhcmVudEluamVjdG9yO1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShiaW5kaW5ncykgJiYgYmluZGluZ3MubGVuZ3RoID4gMCA/XG4gICAgUmVmbGVjdGl2ZUluamVjdG9yLmZyb21SZXNvbHZlZFByb3ZpZGVycyhiaW5kaW5ncywgY3R4SW5qZWN0b3IpIDogY3R4SW5qZWN0b3I7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9mcmFtZXdvcmsvY3JlYXRlQ29tcG9uZW50LnRzXG4gKiovIiwiaW1wb3J0IHtleHRlbmQsIGFycmF5VW5pb259IGZyb20gJy4vdXRpbHMnO1xuY29uc3QgUFJJVkFURV9QUkVGSVggPSAnJCQnO1xuY29uc3QgUkVTRVJWRURfUkVHRVggPSAvXihcXCRcXCQpLiovO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZU1ldGhvZE5hbWUobmFtZTogc3RyaW5nKSB7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSWxsZWdhbCBtZXRob2QgbmFtZS4gRW1wdHkgbWV0aG9kIG5hbWUgaXMgbm90IGFsbG93ZWRgKTtcbiAgICB9IGVsc2UgaWYgKG5hbWUgaW4gdGhpcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEEgbWVtYmVyIG5hbWUgJyR7bmFtZX0nIGFscmVhZHkgZGVmaW5lZC5gKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgYXNzaWduZWQgcHJvcGVydHkgbmFtZXMgKG5vbiBwcml2YXRlKVxuICogQHBhcmFtIHN1YmplY3RcbiAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAqL1xuZnVuY3Rpb24gZ2V0QXNzaWduZWRQcm9wZXJ0eU5hbWVzKHN1YmplY3Q6IGFueSk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc3ViamVjdClcbiAgICAgICAgLmZpbHRlcihuYW1lID0+IFJFU0VSVkVEX1JFR0VYLnRlc3QobmFtZSkpXG4gICAgICAgIC5tYXAobmFtZSA9PiBuYW1lLnN1YnN0cigyKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcml2YXRlS2V5KG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFBSSVZBVEVfUFJFRklYICsgbmFtZTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0RGVmaW5lUHJvcGVydHlWYWx1ZShvYmo6IGFueSwgcHJvcGVydHlOYW1lLCB2YWx1ZTogKHZhbHVlOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wZXJ0eU5hbWUsIDxhbnk+e1xuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICB2YWx1ZVxuICAgIH0pO1xufVxuXG4vKipcbiAqIEdpdmVuIGEgRmx1ZW50QXNzaWduIGluc3RhbmNlLCBhcHBseSBhbGwgb2YgdGhlIHN1cHBsaWVkIGRlZmF1bHQgdmFsdWVzIHNvIGNhbGxpbmdcbiAqIGluc3RhbmNlLnRvSlNPTiB3aWxsIHJldHVybiB0aG9zZSB2YWx1ZXMgKGRvZXMgbm90IGNyZWF0ZSBhIHNldHRlciBmdW5jdGlvbilcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZXNcbiAqL1xuZnVuY3Rpb24gYXBwbHlEZWZhdWx0VmFsdWVzKGluc3RhbmNlOiBhbnksIGRlZmF1bHRWYWx1ZXM6IE9iamVjdCk6IHZvaWQge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRWYWx1ZXMpXG4gICAgICAgIC5mb3JFYWNoKG5hbWUgPT4gKDxhbnk+aW5zdGFuY2UpW3ByaXZhdGVLZXkobmFtZSldID0gKDxhbnk+ZGVmYXVsdFZhbHVlcylbbmFtZV0pO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGZ1bmN0aW9uIGZvciBzZXR0aW5nIGEgdmFsdWUgZm9yIGEgcHJvcGVydHkgb24gYSBnaXZlbiBvYmplY3QuXG4gKiBAcGFyYW0gb2JqIFRoZSBvYmplY3QgdG8gYXBwbHkgdGhlIGtleSAmIHNldHRlciBvbi5cbiAqIEBwYXJhbSBwcm9wZXJ0eU5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IG9uIHRoZSBvYmplY3RcbiAqIEBwYXJhbSB3cml0ZU9uY2UgSWYgdHJ1ZSB3aWxsIGFsbG93IHdyaXRpbmcgb25jZSAoZGVmYXVsdDogZmFsc2UpXG4gKlxuICogRXhhbXBsZTpcbiAqIGxldCBvYmogPSBuZXcgRmx1ZW50QXNzaWduPGFueT47XG4gKiBzZXRBc3NpZ25NZXRob2Qob2JqLCAnbXlQcm9wJyk7XG4gKiBvYmoubXlQcm9wKCdzb21lVmFsdWUnKTtcbiAqIGNvbnN0IHJlc3VsdCA9IG9iai50b0pTT04oKTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8veyBteVByb3A6ICdzb21lVmFsdWUnIH1cbiAqXG4gKlxuICogbGV0IG9iaiA9IG5ldyBGbHVlbnRBc3NpZ248YW55PjtcbiAqIHNldEFzc2lnbk1ldGhvZChvYmosICdteVByb3AnLCB0cnVlKTsgLy8gYXBwbHlpbmcgd3JpdGVPbmNlXG4gKiBvYmoubXlQcm9wKCdzb21lVmFsdWUnKTtcbiAqIG9iai5teVByb3AoJ3NvbWVWYWx1ZScpOyAvLyBFUlJPUjogT3ZlcnJpZGluZyBjb25maWcgcHJvcGVydHkgJ215UHJvcCcgaXMgbm90IGFsbG93ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRBc3NpZ25NZXRob2Q8VD4ob2JqOiBULCBwcm9wZXJ0eU5hbWU6IHN0cmluZywgd3JpdGVPbmNlOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgICB2YWxpZGF0ZU1ldGhvZE5hbWUuY2FsbChvYmosIHByb3BlcnR5TmFtZSk7XG5cbiAgICBjb25zdCBrZXkgPSBwcml2YXRlS2V5KHByb3BlcnR5TmFtZSk7XG4gICAgb2JqZWN0RGVmaW5lUHJvcGVydHlWYWx1ZShvYmosIHByb3BlcnR5TmFtZSwgKHZhbHVlOiBhbnkpID0+IHtcbiAgICAgICAgaWYgKHdyaXRlT25jZSAmJiB0aGlzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgT3ZlcnJpZGluZyBjb25maWcgcHJvcGVydHkgJyR7cHJvcGVydHlOYW1lfScgaXMgbm90IGFsbG93ZWQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBmdW5jdGlvbiBmb3Igc2V0dGluZyBhIHZhbHVlIHRoYXQgaXMgYW4gYWxpYXMgdG8gYW4gb3RoZXIgc2V0dGVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIG9iaiBUaGUgb2JqZWN0IHRvIGFwcGx5IHRoZSBrZXkgJiBzZXR0ZXIgb24uXG4gKiBAcGFyYW0gcHJvcGVydHlOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSBvbiB0aGUgb2JqZWN0XG4gKiBAcGFyYW0gc3JjUHJvcGVydHlOYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSBvbiB0aGUgb2JqZWN0IHRoaXMgYWxpYXMgcG9pbnRzIHRvXG4gKiBAcGFyYW0gaGFyZCBJZiB0cnVlLCB3aWxsIHNldCBhIHJlYWRvbmx5IHByb3BlcnR5IG9uIHRoZSBvYmplY3QgdGhhdCByZXR1cm5zIFxuICogICAgICAgIHRoZSB2YWx1ZSBvZiB0aGUgc291cmNlIHByb3BlcnR5LiBEZWZhdWx0OiBmYWxzZVxuICogICAgICAgIFxuICogRXhhbXBsZTpcbiAqIGxldCBvYmogPSBuZXcgRmx1ZW50QXNzaWduPGFueT4gO1xuICogc2V0QXNzaWduTWV0aG9kKG9iaiwgJ215UHJvcCcpOyBcbiAqIHNldEFzc2lnbkFsaWFzKG9iaiwgJ215UHJvcEFsaWFzJywgJ215UHJvcCcpO1xuICogb2JqLm15UHJvcEFsaWFzKCdzb21lVmFsdWUnKTtcbiAqIGNvbnN0IHJlc3VsdCA9IG9iai50b0pTT04oKTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8veyBteVByb3A6ICdzb21lVmFsdWUnIH1cbiAqIHJlc3VsdC5teVByb3BBbGlhcyAvLyB1bmRlZmluZWRcbiAqIFxuICpcbiAqIGxldCBvYmogPSBuZXcgRmx1ZW50QXNzaWduPGFueT4gO1xuICogc2V0QXNzaWduTWV0aG9kKG9iaiwgJ215UHJvcCcpO1xuICogc2V0QXNzaWduQWxpYXMob2JqLCAnbXlQcm9wQWxpYXMnLCAnbXlQcm9wJywgdHJ1ZSk7IC8vIHNldHRpbmcgYSBoYXJkIGFsaWFzLlxuICogb2JqLm15UHJvcEFsaWFzKCdzb21lVmFsdWUnKTtcbiAqIGNvbnN0IHJlc3VsdCA9IG9iai50b0pTT04oKTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8veyBteVByb3A6ICdzb21lVmFsdWUnIH1cbiAqIHJlc3VsdC5teVByb3BBbGlhcyAvLyBzb21lVmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEFzc2lnbkFsaWFzPFQ+KG9iajogVCwgcHJvcGVydHlOYW1lOiBzdHJpbmcsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1Byb3BlcnR5TmFtZTogc3RyaW5nLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXJkOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgICB2YWxpZGF0ZU1ldGhvZE5hbWUuY2FsbChvYmosIHByb3BlcnR5TmFtZSk7XG4gICAgXG4gICAgb2JqZWN0RGVmaW5lUHJvcGVydHlWYWx1ZShvYmosIHByb3BlcnR5TmFtZSwgKHZhbHVlOiBhbnkpID0+IHtcbiAgICAgICAgb2JqW3NyY1Byb3BlcnR5TmFtZV0odmFsdWUpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0pO1xuICAgIFxuICAgIGlmIChoYXJkID09PSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHByaXZhdGVLZXkocHJvcGVydHlOYW1lKSwgXG4gICAgICAgICAgICAgIHNyY0tleSA9IHByaXZhdGVLZXkoc3JjUHJvcGVydHlOYW1lKTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIDxhbnk+e1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBvYmpbc3JjS2V5XVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgZmx1ZW50IGFzc2lnbiBtZXRob2QuXG4gKiBBIGZ1bmN0aW9uIHRoYXQgZ2V0cyBhIHZhbHVlIGFuZCByZXR1cm5zIHRoZSBpbnN0YW5jZSBpdCB3b3JrcyBvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGbHVlbnRBc3NpZ25NZXRob2Q8VCwgWj4ge1xuICAgIC8vVE9ETzogU2V0dGluZyAndGhpcycgaW5zdGVhZCBvZiBaIGRvZXMgbm90IHdvcmssIHRoaXM9Q29uZmlnU2V0dGVyIGhlcmUuLi5cbiAgICAodmFsdWU6IFQpOiBaO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZsdWVudEFzc2lnbkZhY3Rvcnk8Wj4ge1xuICAgIGZsdWVudEFzc2lnbjogWjtcbiAgICBzZXRNZXRob2QobmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBhbnkpOiBJRmx1ZW50QXNzaWduRmFjdG9yeTxaPjtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnQgYSBmbHVlbnQgQVBJIGZhY3Rvcnkgd3JhcHBlciBmb3IgZGVmaW5pbmcgRmx1ZW50QXNzaWduIGluc3RhbmNlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEZsdWVudEFzc2lnbkZhY3Rvcnk8VD4ge1xuICAgIHByaXZhdGUgX2ZsdWVudEFzc2lnbjogRmx1ZW50QXNzaWduPFQ+O1xuXG4gICAgY29uc3RydWN0b3IoZmx1ZW50QXNzaWduPzogRmx1ZW50QXNzaWduPFQ+KSB7XG4gICAgICAgIHRoaXMuX2ZsdWVudEFzc2lnbiA9XG4gICAgICAgICAgICBmbHVlbnRBc3NpZ24gaW5zdGFuY2VvZiBGbHVlbnRBc3NpZ24gPyBmbHVlbnRBc3NpZ24gOiA8YW55Pm5ldyBGbHVlbnRBc3NpZ24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzZXR0ZXIgbWV0aG9kIG9uIHRoZSBGbHVlbnRBc3NpZ24gaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIHNldHRlciBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIElmIHNldCAobm90IHVuZGVmaW5lZCkgc2V0J3MgdGhlIHZhbHVlIG9uIHRoZSBpbnN0YW5jZSBpbW1lZGlhdGVseS5cbiAgICAgKiBAcmV0dXJucyB7Rmx1ZW50QXNzaWduRmFjdG9yeX1cbiAgICAgKi9cbiAgICBzZXRNZXRob2QobmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IGFueSA9IHVuZGVmaW5lZCk6IEZsdWVudEFzc2lnbkZhY3Rvcnk8VD4ge1xuICAgICAgICBzZXRBc3NpZ25NZXRob2QodGhpcy5fZmx1ZW50QXNzaWduLCBuYW1lKTtcbiAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAoPGFueT50aGlzLl9mbHVlbnRBc3NpZ24pW25hbWVdKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIEZsdWVudEFzc2lnbiBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7Rmx1ZW50QXNzaWduPFQ+fVxuICAgICAqL1xuICAgIGdldCBmbHVlbnRBc3NpZ24oKTogRmx1ZW50QXNzaWduPFQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZsdWVudEFzc2lnbjtcbiAgICB9XG59XG5cblxuXG4vKipcbiAqIFJlcHJlc2VudCBhbiBvYmplY3Qgd2hlcmUgZXZlcnkgcHJvcGVydHkgaXMgYSBmdW5jdGlvbiByZXByZXNlbnRpbmcgYW4gYXNzaWdubWVudCBmdW5jdGlvbi5cbiAqIENhbGxpbmcgZWFjaCBmdW5jdGlvbiB3aXRoIGEgdmFsdWUgd2lsbCBhc3NpZ24gdGhlIHZhbHVlIHRvIHRoZSBvYmplY3QgYW5kIHJldHVybiB0aGUgb2JqZWN0LlxuICogQ2FsbGluZyAndG9KU09OJyByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHByb3BlcnRpZXMgYnV0IHRoaXMgdGltZSByZXByZXNlbnRpbmcgdGhlXG4gKiBhc3NpZ25lZCB2YWx1ZXMuXG4gKlxuICogVGhpcyBhbGxvd3Mgc2V0dGluZyBhbiBvYmplY3QgaW4gYSBmbHVlbnQgQVBJIG1hbm5lci5cbiAqIEV4YW1wbGU6XG4gbGV0IGZsdWVudCA9IG5ldyBGbHVlbnRBc3NpZ248YW55Pih1bmRlZmluZWQsIFsnc29tZScsICd3ZW50J10pO1xuIGZsdWVudC5zb21lKCd0aGluZycpLndlbnQoJ3dyb25nJykudG9KU09OKCk7XG4gLy8geyBzb21lOiAndGhpbmcnLCB3ZW50OiAnd3JvbmcnIH1cbiAqL1xuZXhwb3J0IGNsYXNzIEZsdWVudEFzc2lnbjxUPiB7XG4gICAgcHJpdmF0ZSBfX2ZsdWVudCRiYXNlX186IG5ldyAoKSA9PiBUO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEZsdWVudEFzc2lnbkZhY3Rvcnk8Rmx1ZW50QXNzaWduPFQ+PiByZWFkeSB0byBkZWZpbmUgYSBGbHVlbnRBc3NpZ24gdHlwZS5cbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlcyBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGRlZmF1bHQgdmFsdWVzIGZvciB0aGUgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIGluaXRpYWxTZXR0ZXJzIEEgbGlzdCBvZiBpbml0aWFsIHNldHRlcnMgZm9yIHRoZSBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7Rmx1ZW50QXNzaWduRmFjdG9yeTxUPn1cbiAgICAgKi9cbiAgICBzdGF0aWMgY29tcG9zZTxUPihkZWZhdWx0VmFsdWVzOiBUID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxTZXR0ZXJzOiBzdHJpbmdbXSA9IHVuZGVmaW5lZCk6IEZsdWVudEFzc2lnbkZhY3Rvcnk8VD4ge1xuXG4gICAgICAgIHJldHVybiA8YW55PkZsdWVudEFzc2lnbi5jb21wb3NlV2l0aDxGbHVlbnRBc3NpZ248VD4+KFxuICAgICAgICAgICAgbmV3IEZsdWVudEFzc2lnbjxUPihkZWZhdWx0VmFsdWVzLCBpbml0aWFsU2V0dGVycykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBGbHVlbnRBc3NpZ25GYWN0b3J5PFo+IHdoZXJlIFogaXMgYW4gaW5zdGFuY2Ugb2YgRmx1ZW50QXNzaWduPD8+IG9yIGEgZGVyaXZlZFxuICAgICAqIGNsYXNzIG9mIGl0LlxuICAgICAqIEBwYXJhbSBmbHVlbnRBc3NpZ24gQW4gaW5zdGFuY2Ugb2YgRmx1ZW50QXNzaWduPD8+IG9yIGEgZGVyaXZlZCBjbGFzcyBvZiBGbHVlbnRBc3NpZ248Pz4uXG4gICAgICogQHJldHVybnMge2FueX1cbiAgICAgKi9cbiAgICBzdGF0aWMgY29tcG9zZVdpdGg8Wj4oZmx1ZW50QXNzaWduOiBaKTogSUZsdWVudEFzc2lnbkZhY3Rvcnk8Wj4ge1xuICAgICAgICByZXR1cm4gPGFueT5uZXcgRmx1ZW50QXNzaWduRmFjdG9yeTxhbnk+KDxhbnk+Zmx1ZW50QXNzaWduKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlcyBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGRlZmF1bHQgdmFsdWVzIGZvciB0aGUgdW5kZXJseWluZyBvYmplY3QuXG4gICAgICogQHBhcmFtIGluaXRpYWxTZXR0ZXJzIEEgbGlzdCBvZiBpbml0aWFsIHNldHRlcnMgZm9yIHRoaXMgRmx1ZW50QXNzaWduLlxuICAgICAqIEBwYXJhbSBiYXNlVHlwZSB0aGUgY2xhc3MvdHlwZSB0byBjcmVhdGUgYSBuZXcgYmFzZS4gb3B0aW9uYWwsIHt9IGlzIHVzZWQgaWYgbm90IHN1cHBsaWVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRlZmF1bHRWYWx1ZXM6IFQgfCBUW10gPSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgaW5pdGlhbFNldHRlcnM6IHN0cmluZ1tdID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGJhc2VUeXBlOiBuZXcgKCkgPT4gVCA9IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkZWZhdWx0VmFsdWVzKSkge1xuICAgICAgICAgICAgZGVmYXVsdFZhbHVlcy5mb3JFYWNoKGQgPT4gYXBwbHlEZWZhdWx0VmFsdWVzKHRoaXMsIGQpKTtcbiAgICAgICAgfSBlbHNlIGlmIChkZWZhdWx0VmFsdWVzKSB7XG4gICAgICAgICAgICBhcHBseURlZmF1bHRWYWx1ZXModGhpcywgZGVmYXVsdFZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGluaXRpYWxTZXR0ZXJzKSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpbml0aWFsU2V0dGVycy5mb3JFYWNoKG5hbWUgPT4gc2V0QXNzaWduTWV0aG9kKHRoaXMsIG5hbWUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXNlVHlwZSkge1xuICAgICAgICAgICAgdGhpcy5fX2ZsdWVudCRiYXNlX18gPSBiYXNlVHlwZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvSlNPTigpOiBUIHtcbiAgICAgICAgcmV0dXJuIGdldEFzc2lnbmVkUHJvcGVydHlOYW1lcyh0aGlzKVxuICAgICAgICAgICAgLnJlZHVjZSgob2JqOiBULCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwcml2YXRlS2V5KG5hbWUpO1xuICAgICAgICAgICAgICAgIC8vIHJlLWRlZmluZSBwcm9wZXJ0eSBkZXNjcmlwdG9ycyAod2UgZG9udCB3YW50IHRoZWlyIHZhbHVlKVxuICAgICAgICAgICAgICAgIGxldCBwcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywga2V5KTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcERlc2MpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbmFtZSwgcHJvcERlc2MpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICg8YW55Pm9iailbbmFtZV0gPSAoPGFueT50aGlzKVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgfSwgdGhpcy5fX2ZsdWVudCRiYXNlX18gPyBuZXcgdGhpcy5fX2ZsdWVudCRiYXNlX18oKSA6IDxhbnk+e30pO1xuICAgIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvZnJhbWV3b3JrL2ZsdWVudC1hc3NpZ24udHNcbiAqKi8iLCJpbXBvcnQgeyBDb21wb25lbnRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMvU3ViamVjdCc7XG5cbmltcG9ydCB7IFByb21pc2VDb21wbGV0ZXIgfSBmcm9tICcuLi9mcmFtZXdvcmsvdXRpbHMnO1xuaW1wb3J0IHsgTW9kYWxDb21wb25lbnQgfSBmcm9tICcuLi9tb2RlbHMvdG9rZW5zJztcblxuXG4vKipcbiAqIEFQSSB0byBhbiBvcGVuIG1vZGFsIHdpbmRvdy5cbiAqL1xuZXhwb3J0IGNsYXNzIERpYWxvZ1JlZjxUPiB7XG4gIC8qKlxuICAgKiBUaGUgcmVmZXJlbmNlIHRvIHRoZSBjb21wb25lbnQgcmVmLlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHJldHVybiB7Q29tcG9uZW50UmVmPGFueT59XG4gICAqL1xuICBjb250ZW50UmVmOiBDb21wb25lbnRSZWY8YW55PjtcblxuICAvKipcbiAgICogU3RhdGVzIGlmIHRoZSBtb2RhbCBpcyBpbnNpZGUgYSBzcGVjaWZpYyBlbGVtZW50LlxuICAgKi9cbiAgcHVibGljIGluRWxlbWVudDogYm9vbGVhbjtcblxuICAvKipcbiAgICogRmlyZWQgYmVmb3JlIGRpYWxvZyBpcyBkZXN0cm95ZWQuXG4gICAqIE5vIG5lZWQgdG8gdW5zdWJzY3JpYmUsIGRvbmUgYXV0b21hdGljYWxseS5cbiAgICovXG4gIHB1YmxpYyBvbkRlc3Ryb3k6IE9ic2VydmFibGU8dm9pZD47XG5cbiAgcHJpdmF0ZSBfcmVzdWx0RGVmZXJyZWQ6IFByb21pc2VDb21wbGV0ZXI8YW55PiA9IG5ldyBQcm9taXNlQ29tcGxldGVyPGFueT4oKTtcbiAgcHJpdmF0ZSBfb25EZXN0cm95OiBTdWJqZWN0PHZvaWQ+ID0gbmV3IFN1YmplY3Q8dm9pZD4oKTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgY29udGV4dD86IFQpIHtcbiAgICB0aGlzLm9uRGVzdHJveSA9IHRoaXMuX29uRGVzdHJveS5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIFByb21pc2UgdGhhdCBpcyByZXNvbHZlZCBvbiBhIGNsb3NlIGV2ZW50IGFuZCByZWplY3RlZCBvbiBhIGRpc21pc3MgZXZlbnQuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFQ+fGFueXwqfFByb21pc2U8YW55Pn1cbiAgICovXG4gIGdldCByZXN1bHQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5fcmVzdWx0RGVmZXJyZWQucHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgQ2xvc2UgdGhlIG1vZGFsIHdpdGggYSByZXR1cm4gdmFsdWUsIGkuZTogcmVzdWx0LlxuICAgKi9cbiAgY2xvc2UocmVzdWx0OiBhbnkgPSBudWxsKSB7XG4gICAgY29uc3QgX2Nsb3NlID0gKCkgPT4ge1xuICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICB0aGlzLl9yZXN1bHREZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gICAgfTtcbiAgICB0aGlzLl9maXJlSG9vazxib29sZWFuPignYmVmb3JlQ2xvc2UnKVxuICAgICAgLnRoZW4odmFsdWUgPT4gdmFsdWUgIT09IHRydWUgJiYgX2Nsb3NlKCkpXG4gICAgICAuY2F0Y2goX2Nsb3NlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgQ2xvc2UgdGhlIG1vZGFsIHdpdGhvdXQgYSByZXR1cm4gdmFsdWUsIGkuZTogY2FuY2VsbGVkLlxuICAgKiAgVGhpcyBjYWxsIGlzIGF1dG9tYXRpY2FsbHkgaW52b2tlZCB3aGVuIGEgdXNlciBlaXRoZXI6XG4gICAqICAtIFByZXNzZXMgYW4gZXhpdCBrZXlib2FyZCBrZXkgKGlmIGNvbmZpZ3VyZWQpLlxuICAgKiAgLSBDbGlja3Mgb3V0c2lkZSBvZiB0aGUgbW9kYWwgd2luZG93IChpZiBjb25maWd1cmVkKS5cbiAgICogIFVzdWFsbHksIGRpc21pc3MgcmVwcmVzZW50IGEgQ2FuY2VsIGJ1dHRvbiBvciBhIFggYnV0dG9uLlxuICAgKi9cbiAgZGlzbWlzcygpIHtcbiAgICBjb25zdCBfZGlzbWlzcyA9ICgpID0+IHtcbiAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgdGhpcy5fcmVzdWx0RGVmZXJyZWQucmVqZWN0KCk7XG4gICAgfTtcbiAgICB0aGlzLl9maXJlSG9vazxib29sZWFuPignYmVmb3JlRGlzbWlzcycpXG4gICAgICAudGhlbih2YWx1ZSA9PiB2YWx1ZSAhPT0gdHJ1ZSAmJiBfZGlzbWlzcygpKVxuICAgICAgLmNhdGNoKF9kaXNtaXNzKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fb25EZXN0cm95Lm5leHQobnVsbCk7XG4gICAgdGhpcy5fb25EZXN0cm95LmNvbXBsZXRlKCk7XG4gIH1cblxuICBwcml2YXRlIF9maXJlSG9vazxUPihuYW1lOiAnYmVmb3JlQ2xvc2UnIHwgJ2JlZm9yZURpc21pc3MnKTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgaW5zdGFuY2U6IE1vZGFsQ29tcG9uZW50PHRoaXM+ID0gdGhpcy5jb250ZW50UmVmICYmIHRoaXMuY29udGVudFJlZi5pbnN0YW5jZSxcbiAgICAgIGZuOiBGdW5jdGlvbiA9IGluc3RhbmNlICYmIHR5cGVvZiBpbnN0YW5jZVtuYW1lXSA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnN0YW5jZVtuYW1lXTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZm4gPyBmbi5jYWxsKGluc3RhbmNlKSA6IGZhbHNlKTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9tb2RlbHMvZGlhbG9nLXJlZi50c1xuICoqLyIsImltcG9ydCB7IEluamVjdGFibGUsIFZpZXdDb250YWluZXJSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgRmx1ZW50QXNzaWduLCBGbHVlbnRBc3NpZ25NZXRob2QgfSBmcm9tICcuLy4uL2ZyYW1ld29yay9mbHVlbnQtYXNzaWduJztcbmltcG9ydCB7IGV4dGVuZCwgYXJyYXlVbmlvbiB9IGZyb20gJy4vLi4vZnJhbWV3b3JrL3V0aWxzJztcbmltcG9ydCB7IERpYWxvZ1JlZiB9IGZyb20gJy4vZGlhbG9nLXJlZic7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1ZBTFVFUyA9IHtcbiAgICBpc0Jsb2NraW5nOiB0cnVlLFxuICAgIGtleWJvYXJkOiBbMjddLFxuICAgIHN1cHBvcnRzS2V5OiBmdW5jdGlvbiBzdXBwb3J0c0tleShrZXlDb2RlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICg8QXJyYXk8bnVtYmVyPj50aGlzLmtleWJvYXJkKS5pbmRleE9mKGtleUNvZGUpID4gLTE7XG4gICAgfVxufTtcblxuY29uc3QgREVGQVVMVF9TRVRURVJTID0gW1xuICAgICdpc0Jsb2NraW5nJyxcbiAgICAna2V5Ym9hcmQnLFxuICAgICdtZXNzYWdlJ1xuXTtcblxuZXhwb3J0IGNsYXNzIE1vZGFsQ29udGV4dCB7XG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIGlmIHRoZSBtb2RhbCBpcyBibG9ja2luZyBtb2RhbC5cbiAgICAgKiBBIEJsb2NraW5nIG1vZGFsIGlzIG5vdCBjbG9zYWJsZSBieSBjbGlja2luZyBvdXRzaWRlIG9mIHRoZSBtb2RhbCB3aW5kb3cuXG4gICAgICogRGVmYXVsdHMgdG8gZmFsc2UuXG4gICAgICovXG4gICAgaXNCbG9ja2luZzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEtleWJvYXJkIHZhbHVlL3MgdGhhdCBjbG9zZSB0aGUgbW9kYWwuXG4gICAgICogQWNjZXB0cyBlaXRoZXIgYSBzaW5nbGUgbnVtZXJpYyB2YWx1ZSBvciBhbiBhcnJheSBvZiBudW1lcmljIHZhbHVlcy5cbiAgICAgKiBBIG1vZGFsIGNsb3NlZCBieSBhIGtleWJvYXJkIHN0cm9rZSB3aWxsIHJlc3VsdCBpbiBhICdyZWplY3QnIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBwcm9taXNlLlxuICAgICAqIERlZmF1bHRzIHRvIDI3LCBzZXQgYG51bGxgIGltcGxpY2l0bHkgdG8gZGlzYWJsZS5cbiAgICAgKi9cbiAgICBrZXlib2FyZDogQXJyYXk8bnVtYmVyPiB8IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb3JlIG1lc3NhZ2UgdG8gZGlzcGxheS5cbiAgICAgKiBBIG1vZGFsIG1pZ2h0IGhhdmUgYW4gZXh0ZW5kZWQgbWVzc2FnZSAoZS5nOiBIVE1MIG1lc3NhZ2UpIG9yIG90aGVyIGZpZWxkcyAoZS5nOiB0aXRsZSkgYnV0XG4gICAgICogYWxsIG1vZGVscywgYXQgY29yZSwgY29udmV5IGEgbWVzc2FnZSB0aHVzIG1lc3NhZ2UgaXMgY29tbW9uIHRvIGFsbCBtb2RhbHMuXG4gICAgICovXG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIFxuICAgIG5vcm1hbGl6ZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNCbG9ja2luZyAhPT0gZmFsc2UpXG4gICAgICAgICAgICB0aGlzLmlzQmxvY2tpbmcgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzLmtleWJvYXJkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkID0gW107XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMua2V5Ym9hcmQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkID0gWzxudW1iZXI+dGhpcy5rZXlib2FyZF07XG4gICAgICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoPEFycmF5PG51bWJlcj4+dGhpcy5rZXlib2FyZCkpIHtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQgPSBERUZBVUxUX1ZBTFVFUy5rZXlib2FyZDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIGNvcmUgY29udGV4dCBidWlsZGVyIGZvciBhIG1vZGFsIHdpbmRvdyBpbnN0YW5jZSwgdXNlZCB0byBkZWZpbmUgdGhlIGNvbnRleHQgdXBvblxuICogYSBtb2RhbCBjaG9vc2UgaXQncyBiZWhhdmlvdXIuXG4gKi9cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBNb2RhbENvbnRleHRCdWlsZGVyPFQgZXh0ZW5kcyBNb2RhbENvbnRleHQ+IGV4dGVuZHMgRmx1ZW50QXNzaWduPFQ+IHtcbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhlIG1vZGFsIGlzIGJsb2NraW5nIG1vZGFsLlxuICAgICAqIEEgQmxvY2tpbmcgbW9kYWwgaXMgbm90IGNsb3NhYmxlIGJ5IGNsaWNraW5nIG91dHNpZGUgb2YgdGhlIG1vZGFsIHdpbmRvdy5cbiAgICAgKiBEZWZhdWx0cyB0byBmYWxzZS5cbiAgICAgKi9cbiAgICBpc0Jsb2NraW5nOiBGbHVlbnRBc3NpZ25NZXRob2Q8Ym9vbGVhbiwgdGhpcz47XG5cbiAgICAvKipcbiAgICAgKiBLZXlib2FyZCB2YWx1ZS9zIHRoYXQgY2xvc2UgdGhlIG1vZGFsLlxuICAgICAqIEFjY2VwdHMgZWl0aGVyIGEgc2luZ2xlIG51bWVyaWMgdmFsdWUgb3IgYW4gYXJyYXkgb2YgbnVtZXJpYyB2YWx1ZXMuXG4gICAgICogQSBtb2RhbCBjbG9zZWQgYnkgYSBrZXlib2FyZCBzdHJva2Ugd2lsbCByZXN1bHQgaW4gYSAncmVqZWN0JyBub3RpZmljYXRpb24gZnJvbSB0aGUgcHJvbWlzZS5cbiAgICAgKiBEZWZhdWx0cyB0byAyNywgc2V0IGBudWxsYCBpbXBsaWNpdGx5IHRvIGRpc2FibGUuXG4gICAgICovXG4gICAga2V5Ym9hcmQ6IEZsdWVudEFzc2lnbk1ldGhvZDxBcnJheTxudW1iZXI+IHwgbnVtYmVyLCB0aGlzPjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb3JlIG1lc3NhZ2UgdG8gZGlzcGxheS5cbiAgICAgKiBBIG1vZGFsIG1pZ2h0IGhhdmUgYW4gZXh0ZW5kZWQgbWVzc2FnZSAoZS5nOiBIVE1MIG1lc3NhZ2UpIG9yIG90aGVyIGZpZWxkcyAoZS5nOiB0aXRsZSkgYnV0XG4gICAgICogYWxsIG1vZGVscywgYXQgY29yZSwgY29udmV5IGEgbWVzc2FnZSB0aHVzIG1lc3NhZ2UgaXMgY29tbW9uIHRvIGFsbCBtb2RhbHMuXG4gICAgICovXG4gICAgbWVzc2FnZTogRmx1ZW50QXNzaWduTWV0aG9kPHN0cmluZywgdGhpcz47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgZGVmYXVsdFZhbHVlczogVCB8IFRbXSA9IHVuZGVmaW5lZCxcbiAgICAgICAgaW5pdGlhbFNldHRlcnM6IHN0cmluZ1tdID0gdW5kZWZpbmVkLFxuICAgICAgICBiYXNlVHlwZTogbmV3ICgpID0+IFQgPSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgICAgc3VwZXIoXG4gICAgICAgICAgICBleHRlbmQ8YW55PihERUZBVUxUX1ZBTFVFUywgZGVmYXVsdFZhbHVlcyB8fCB7fSksXG4gICAgICAgICAgICBhcnJheVVuaW9uPHN0cmluZz4oREVGQVVMVF9TRVRURVJTLCBpbml0aWFsU2V0dGVycyB8fCBbXSksXG4gICAgICAgICAgICBiYXNlVHlwZVxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb2RhbENvbnRyb2xsaW5nQ29udGV4dEJ1aWxkZXI8VD4ge1xuICAgIG9wZW4odmlld0NvbnRhaW5lcj86IFZpZXdDb250YWluZXJSZWYpOiBQcm9taXNlPERpYWxvZ1JlZjxUPj47XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL21vZGVscy9tb2RhbC1jb250ZXh0LnRzXG4gKiovIiwiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBWaWV3RW5jYXBzdWxhdGlvbixcbiAgT25EZXN0cm95LFxuICB0cmlnZ2VyLFxuICBzdGF0ZSxcbiAgc3R5bGUsXG4gIGtleWZyYW1lcyxcbiAgYW5pbWF0ZSxcbiAgdHJhbnNpdGlvblxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgRGlhbG9nUmVmIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbCc7XG5pbXBvcnQgeyBCU01vZGFsQ29udGV4dCB9IGZyb20gJy4vbW9kYWwtY29udGV4dCc7XG5cbmxldCBkaWFsb2dSZWZDb3VudCA9IDA7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgbW9kYWwgYmFja2Ryb3AuXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21vZGFsLWJhY2tkcm9wJyxcbiAgaG9zdDoge1xuICAgICdbc3R5bGUucG9zaXRpb25dJzogJ2hzLnBzJyxcbiAgICAnW3N0eWxlLmhlaWdodF0nOiAnaHMuc3onLFxuICAgICdbc3R5bGUud2lkdGhdJzogJ2hzLnN6JyxcbiAgICAnW3N0eWxlLnRvcF0nOiAnaHMucHQnLFxuICAgICdbc3R5bGUubGVmdF0nOiAnaHMucHQnLFxuICAgICdbc3R5bGUucmlnaHRdJzogJ2hzLnB0JyxcbiAgICAnW3N0eWxlLmJvdHRvbV0nOiAnaHMucHQnXG4gIH0sXG4gIGFuaW1hdGlvbnM6IFtcbiAgICB0cmlnZ2VyKCdmYWRlJywgW1xuICAgICAgdHJhbnNpdGlvbigndm9pZCA9PiBpbicsIFtcbiAgICAgICAgYW5pbWF0ZSgnMTUwbXMgbGluZWFyJywga2V5ZnJhbWVzKFtcbiAgICAgICAgICBzdHlsZSh7b3BhY2l0eTogMH0pLFxuICAgICAgICAgIHN0eWxlKHtvcGFjaXR5OiAwLjV9KVxuICAgICAgICBdKSlcbiAgICAgIF0pLFxuICAgICAgc3RhdGUoJ291dCcsICBzdHlsZSh7IG9wYWNpdHk6IDAgfSApKSxcbiAgICAgIHRyYW5zaXRpb24oJyogPT4gb3V0JywgW1xuICAgICAgICBhbmltYXRlKCcxNTBtcyBsaW5lYXInLCBrZXlmcmFtZXMoW1xuICAgICAgICAgIHN0eWxlKHtvcGFjaXR5OiAwLjV9KSxcbiAgICAgICAgICBzdHlsZSh7b3BhY2l0eTogMC41fSlcbiAgICAgICAgXSkpLFxuICAgICAgICBhbmltYXRlKCcxNTBtcyBsaW5lYXInLCBrZXlmcmFtZXMoW1xuICAgICAgICAgIHN0eWxlKHtvcGFjaXR5OiAwLjV9KSxcbiAgICAgICAgICBzdHlsZSh7b3BhY2l0eTogMH0pLFxuICAgICAgICBdKSlcbiAgICAgIF0pXG4gICAgXSlcbiAgXSxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgdGVtcGxhdGU6IGA8ZGl2IFtzdHlsZS5wb3NpdGlvbl09XCJocy5wc1wiIGNsYXNzPVwibW9kYWwtYmFja2Ryb3AgaW5cIiBbQGZhZGVdPVwiZmFkZVN0YXRlXCI+PC9kaXY+XG48bW9kYWwtY29udGFpbmVyPjwvbW9kYWwtY29udGFpbmVyPmBcbn0pXG5leHBvcnQgY2xhc3MgQlNNb2RhbEJhY2tkcm9wIGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgZmFkZVN0YXRlOiAnaW4nIHwgJ291dCcgPSAnaW4nO1xuXG4gIHByaXZhdGUgaHMgPSB7cHM6IG51bGwsIHN6OiBudWxsLCBwdDogbnVsbH07XG5cbiAgY29uc3RydWN0b3IoZGlhbG9nOiBEaWFsb2dSZWY8QlNNb2RhbENvbnRleHQ+KSB7XG4gICAgZGlhbG9nUmVmQ291bnQrKztcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsLW9wZW4nKTtcblxuICAgIGlmIChkaWFsb2cuaW5FbGVtZW50KSB7XG4gICAgICB0aGlzLmhzLnBzID0gJ2Fic29sdXRlJztcbiAgICAgIHRoaXMuaHMuc3ogPSAnMTAwJSc7XG4gICAgICB0aGlzLmhzLnB0ID0gJzAnO1xuICAgIH1cblxuICAgIGRpYWxvZy5vbkRlc3Ryb3kuc3Vic2NyaWJlKCgpID0+IHRoaXMuZmFkZVN0YXRlID0gJ291dCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlbXAgd29ya2Fyb3VuZCBmb3IgYW5pbWF0aW9uIHdoZXJlIGRlc3RydWN0aW9uIG9mIHRoZSB0b3AgbGV2ZWwgY29tcG9uZW50IGRvZXMgbm90XG4gICAqIHRyaWdnZXIgY2hpbGQgYW5pbWF0aW9ucy4gU29sdXRpb24gc2hvdWxkIGJlIGZvdW5kIGVpdGhlciBpbiBhbmltYXRpb24gbW9kdWxlIG9yIGluIGRlc2lnblxuICAgKiBvZiB0aGUgbW9kYWwgY29tcG9uZW50IHRyZWUuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgY2FuRGVzdHJveSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoKSwgMzEwKTtcbiAgICB9KTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIGlmICgtLWRpYWxvZ1JlZkNvdW50ID09PSAwKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLW9wZW4nKTtcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy9ib290c3RyYXAvbW9kYWwtYmFja2Ryb3AudHNcbiAqKi8iLCJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgVmlld0NvbnRhaW5lclJlZixcbiAgVmlld0NoaWxkLFxuICBWaWV3RW5jYXBzdWxhdGlvbixcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgRWxlbWVudFJlZixcbiAgdHJpZ2dlcixcbiAgc3RhdGUsXG4gIHN0eWxlLFxuICBrZXlmcmFtZXMsXG4gIGFuaW1hdGUsXG4gIHRyYW5zaXRpb25cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7XG4gIGNyZWF0ZUNvbXBvbmVudCxcbiAgRGlhbG9nUmVmLFxuICBNb2RhbENvbXBpbGVDb25maWcsXG4gIHN1cHBvcnRzS2V5XG59IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuXG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJy4vbW9kYWwnO1xuaW1wb3J0IHsgQlNNb2RhbENvbnRleHQgfSBmcm9tICcuL21vZGFsLWNvbnRleHQnO1xuXG4vKipcbiAqIEEgY29tcG9uZW50IHRoYXQgYWN0cyBhcyBhIHRvcCBsZXZlbCBjb250YWluZXIgZm9yIGFuIG9wZW4gbW9kYWwgd2luZG93LlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtb2RhbC1jb250YWluZXInLFxuICBob3N0OiB7XG4gICAgJ3RhYmluZGV4JzogJy0xJyxcbiAgICAncm9sZSc6ICdkaWFsb2cnLFxuICAgICdjbGFzcyc6ICdtb2RhbCcsXG4gICAgJ3N0eWxlJzogJ2Rpc3BsYXk6IGJsb2NrJyxcbiAgICAnW3N0eWxlLnBvc2l0aW9uXSc6ICdwb3NpdGlvbicsXG4gICAgJyhib2R5OmtleWRvd24pJzogJ2RvY3VtZW50S2V5cHJlc3MoJGV2ZW50KSdcbiAgfSxcbiAgYW5pbWF0aW9uczogW1xuICAgIHRyaWdnZXIoJ2ZhZGUnLCBbXG4gICAgICB0cmFuc2l0aW9uKCd2b2lkID0+IGluJywgW1xuICAgICAgICBhbmltYXRlKCcxMDBtcyBsaW5lYXInLCBrZXlmcmFtZXMoW1xuICAgICAgICAgIHN0eWxlKHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsIC0yNSUpJyB9KSxcbiAgICAgICAgICBzdHlsZSh7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAtMjUlKScgfSlcbiAgICAgICAgXSkpLFxuICAgICAgICBhbmltYXRlKCczMDBtcyBsaW5lYXInLCBrZXlmcmFtZXMoW1xuICAgICAgICAgIHN0eWxlKHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsIC0yNSUpJywgb2Zmc2V0OiAwIH0pLFxuICAgICAgICAgIHN0eWxlKHsgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsIC0xMi41JSknLCBvZmZzZXQ6IDAuNSB9KSxcbiAgICAgICAgICBzdHlsZSh7IG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAwKScsIG9mZnNldDogMSB9KVxuICAgICAgICBdKSlcbiAgICAgIF0pLFxuICAgICAgc3RhdGUoJ291dCcsICBzdHlsZSh7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAtMjUlKSd9ICkpLFxuICAgICAgdHJhbnNpdGlvbignaW4gPT4gb3V0JywgW1xuICAgICAgICBhbmltYXRlKCcxNTBtcyBsaW5lYXInLCBrZXlmcmFtZXMoW1xuICAgICAgICAgIHN0eWxlKHsgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDAsIDApJyB9KSxcbiAgICAgICAgICBzdHlsZSh7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAtMTIuNSUpJyB9KSxcbiAgICAgICAgXSkpXG4gICAgICBdKVxuICAgIF0pXG4gIF0sXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gIC8qIHRzbGludDpkaXNhYmxlICovXG4gIHRlbXBsYXRlOiBgPGRpdiBbbmdDbGFzc109XCJkaWFsb2cuY29udGV4dC5kaWFsb2dDbGFzc1wiIFxuICAgICAgICAgIFtjbGFzcy5tb2RhbC1sZ109XCJkaWFsb2cuY29udGV4dC5zaXplID09IFxcJ2xnXFwnXCJcbiAgICAgICAgICBbY2xhc3MubW9kYWwtc21dPVwiZGlhbG9nLmNvbnRleHQuc2l6ZSA9PSBcXCdzbVxcJ1wiXG4gICAgICAgICAgW0BmYWRlXT1cImZhZGVTdGF0ZVwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHN0eWxlPVwiZGlzcGxheTpibG9ja1wiICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCJcbiAgICAgICAgICAgICAgKGNsaWNrT3V0c2lkZSk9XCJvbkNsaWNrT3V0c2lkZSgpXCI+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogbm9uZVwiICNtb2RhbERpYWxvZz48L2Rpdj5cbiAgICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmBcbiAgLyogdHNsaW50OmVuYWJsZSAqL1xufSlcbmV4cG9ydCBjbGFzcyBCU01vZGFsQ29udGFpbmVyIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG4gIHB1YmxpYyBwb3NpdGlvbjogc3RyaW5nO1xuXG4gIGZhZGVTdGF0ZTogJ2luJyB8ICdvdXQnID0gJ2luJztcblxuICBAVmlld0NoaWxkKCdtb2RhbERpYWxvZycsIHtyZWFkOiBWaWV3Q29udGFpbmVyUmVmfSkgcHJpdmF0ZSBfdmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZjtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZGlhbG9nOiBEaWFsb2dSZWY8QlNNb2RhbENvbnRleHQ+LFxuICAgICAgICAgICAgICBwcml2YXRlIGVsOiBFbGVtZW50UmVmLFxuICAgICAgICAgICAgICBwcml2YXRlIF9jb21waWxlQ29uZmlnOiBNb2RhbENvbXBpbGVDb25maWcsXG4gICAgICAgICAgICAgIHByaXZhdGUgX21vZGFsOiBNb2RhbCxcbiAgICAgICAgICAgICAgcHJpdmF0ZSBfY3I6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikge1xuICAgIGlmICghZGlhbG9nLmluRWxlbWVudCkge1xuICAgICAgdGhpcy5wb3NpdGlvbiA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIH1cbiAgICBkaWFsb2cub25EZXN0cm95LnN1YnNjcmliZSgoKSA9PiB0aGlzLmZhZGVTdGF0ZSA9ICdvdXQnKTtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBpZiAodGhpcy5lbC5uYXRpdmVFbGVtZW50KSB7XG4gICAgICB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvKiAgVE9ETzpcbiAgICAgICAgSW4gUkM1IGR5bmFtaWMgY29tcG9uZW50IGNyZWF0aW9uIGlzIG5vIGxvbmdlciBhc3luYy5cbiAgICAgICAgU29tZXdoZXJlIGRvd24gdGhlIHBpcGUgb2YgdGhlIGNyZWF0ZWQgY29tcG9uZW50IGEgdmFsdWUgY2hhbmdlIGhhcHBlbnMgdGhhdCBmaXJlc1xuICAgICAgICBhIENEIGV4Y2VwdGlvbi4gc2V0VGltZW91dCBpcyBhIHdvcmthcm91bmQgdGhhdCBtaW1pY3MgdGhlIGFzeW5jIGJlaGF2aW9yLlxuICAgICAgICBGaW5kIG91dCB0aGUgZXJyb3IgYW5kIHJlbW92ZSBzZXRUaW1lb3V0LlxuICAgICAqL1xuICAgIHNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgIHRoaXMuZGlhbG9nLmNvbnRlbnRSZWYgPSBjcmVhdGVDb21wb25lbnQoXG4gICAgICAgIHRoaXMuX2NyLFxuICAgICAgICB0aGlzLl9jb21waWxlQ29uZmlnLmNvbXBvbmVudCxcbiAgICAgICAgdGhpcy5fdmlld0NvbnRhaW5lcixcbiAgICAgICAgdGhpcy5fY29tcGlsZUNvbmZpZy5iaW5kaW5ncyk7XG4gICAgfSk7XG4gIH1cblxuICBvbkNsaWNrT3V0c2lkZSgpIHtcbiAgICBpZiAodGhpcy5fbW9kYWwuaXNUb3BNb3N0KHRoaXMuZGlhbG9nKSAmJiAhdGhpcy5kaWFsb2cuY29udGV4dC5pc0Jsb2NraW5nKVxuICAgICAgdGhpcy5kaWFsb2cuZGlzbWlzcygpO1xuICB9XG5cbiAgZG9jdW1lbnRLZXlwcmVzcyhldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgIC8vIGNoZWNrIHRoYXQgdGhpcyBtb2RhbCBpcyB0aGUgbGFzdCBpbiB0aGUgc3RhY2suXG4gICAgaWYgKCF0aGlzLl9tb2RhbC5pc1RvcE1vc3QodGhpcy5kaWFsb2cpKSByZXR1cm47XG5cblxuICAgIGlmIChzdXBwb3J0c0tleShldmVudC5rZXlDb2RlLCA8YW55PnRoaXMuZGlhbG9nLmNvbnRleHQua2V5Ym9hcmQpKSB7XG4gICAgICB0aGlzLmRpYWxvZy5kaXNtaXNzKCk7XG4gICAgfVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvYm9vdHN0cmFwL21vZGFsLWNvbnRhaW5lci50c1xuICoqLyIsImltcG9ydCB7XG4gIE1vZGFsT3BlbkNvbnRleHQsXG4gIE1vZGFsT3BlbkNvbnRleHRCdWlsZGVyLFxuICBGbHVlbnRBc3NpZ25NZXRob2QsXG4gIGV4dGVuZCxcbiAgYXJyYXlVbmlvblxufSBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsJztcblxuY29uc3QgREVGQVVMVF9WQUxVRVMgPSB7XG4gIGRpYWxvZ0NsYXNzOiAnbW9kYWwtZGlhbG9nJyxcbiAgc2hvd0Nsb3NlOiBmYWxzZVxufTtcblxuY29uc3QgREVGQVVMVF9TRVRURVJTID0gW1xuICAnZGlhbG9nQ2xhc3MnLFxuICAnc2l6ZScsXG4gICdzaG93Q2xvc2UnXG5dO1xuXG5cbmV4cG9ydCB0eXBlIEJvb3RzdHJhcE1vZGFsU2l6ZSA9ICdzbScgfCAnbGcnO1xuXG5leHBvcnQgY2xhc3MgQlNNb2RhbENvbnRleHQgZXh0ZW5kcyBNb2RhbE9wZW5Db250ZXh0IHtcbiAgLyoqXG4gICAqIEEgQ2xhc3MgZm9yIHRoZSBtb2RhbCBkaWFsb2cgY29udGFpbmVyLlxuICAgKiBEZWZhdWx0OiBtb2RhbC1kaWFsb2dcbiAgICovXG4gIGRpYWxvZ0NsYXNzOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNpemUgb2YgdGhlIG1vZGFsLlxuICAgKiAnbGcnIG9yICdzbScgb25seS5cbiAgICogTk9URTogTm8gdmFsaWRhdGlvbi5cbiAgICogRGVmYXVsdCB0byAnJ1xuICAgKi9cbiAgc2l6ZTogQm9vdHN0cmFwTW9kYWxTaXplO1xuXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3cgYSBjbG9zZSBidXR0b24gb24gdGhlIHRvcCByaWdodCBjb3JuZXIuXG4gICAqL1xuICBzaG93Q2xvc2U6IGJvb2xlYW47XG5cblxuICBub3JtYWxpemUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmRpYWxvZ0NsYXNzKSB7XG4gICAgICB0aGlzLmRpYWxvZ0NsYXNzID0gREVGQVVMVF9WQUxVRVMuZGlhbG9nQ2xhc3M7XG4gICAgfVxuXG4gICAgc3VwZXIubm9ybWFsaXplKCk7XG4gIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgQlNNb2RhbENvbnRleHRCdWlsZGVyPFQgZXh0ZW5kcyBCU01vZGFsQ29udGV4dD4gZXh0ZW5kcyBNb2RhbE9wZW5Db250ZXh0QnVpbGRlcjxUPiB7XG4gIC8qKlxuICAgKiBTaXplIG9mIHRoZSBtb2RhbC5cbiAgICogJ2xnJyBvciAnc20nIG9ubHkuXG4gICAqIE5PVEU6IE5vIHZhbGlkYXRpb24uXG4gICAqIERlZmF1bHQgdG8gJ2xnJ1xuICAgKi9cbiAgc2l6ZTogRmx1ZW50QXNzaWduTWV0aG9kPHN0cmluZywgdGhpcz47XG5cbiAgLyoqXG4gICAqIEEgQ2xhc3MgZm9yIHRoZSBtb2RhbCBkaWFsb2cgY29udGFpbmVyLlxuICAgKiBEZWZhdWx0OiBtb2RhbC1kaWFsb2dcbiAgICovXG4gIGRpYWxvZ0NsYXNzOiBGbHVlbnRBc3NpZ25NZXRob2Q8Qm9vdHN0cmFwTW9kYWxTaXplLCB0aGlzPjtcblxuICAvKipcbiAgICogV2hlbiB0cnVlLCBzaG93IGEgY2xvc2UgYnV0dG9uIG9uIHRoZSB0b3AgcmlnaHQgY29ybmVyLlxuICAgKi9cbiAgc2hvd0Nsb3NlOiBGbHVlbnRBc3NpZ25NZXRob2Q8Ym9vbGVhbiwgdGhpcz47XG5cbiAgY29uc3RydWN0b3IoZGVmYXVsdFZhbHVlczogVCA9IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgaW5pdGlhbFNldHRlcnM6IHN0cmluZ1tdID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBiYXNlVHlwZTogbmV3ICgpID0+IFQgPSB1bmRlZmluZWQpIHtcbiAgICBzdXBlcihcbiAgICAgIGV4dGVuZDxhbnk+KERFRkFVTFRfVkFMVUVTLCBkZWZhdWx0VmFsdWVzIHx8IHt9KSxcbiAgICAgIGFycmF5VW5pb248c3RyaW5nPihERUZBVUxUX1NFVFRFUlMsIGluaXRpYWxTZXR0ZXJzIHx8IFtdKSxcbiAgICAgIGJhc2VUeXBlIHx8IDxhbnk+QlNNb2RhbENvbnRleHQgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy83MjM0XG4gICAgKTtcbiAgfVxufVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvYm9vdHN0cmFwL21vZGFsLWNvbnRleHQudHNcbiAqKi8iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJTTWVzc2FnZU1vZGFsQnV0dG9uQ29uZmlnIH0gZnJvbSAnLi9tZXNzYWdlLW1vZGFsJztcblxuZXhwb3J0IGludGVyZmFjZSBGb290ZXJCdXR0b25DbGlja0V2ZW50IHtcbiAgICBidG46IEJTTWVzc2FnZU1vZGFsQnV0dG9uQ29uZmlnO1xuICAgICRldmVudDogTW91c2VFdmVudDtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBtb2RhbCBmb290ZXIgZm9yIHN0b3JpbmcgYnV0dG9ucy5cbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdtb2RhbC1mb290ZXInLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgdGVtcGxhdGU6XG5gPGRpdiBbbmdDbGFzc109XCJmb290ZXJDbGFzc1wiPlxuICAgIDxidXR0b24gKm5nRm9yPVwibGV0IGJ0biBvZiBidXR0b25zO1wiXG4gICAgICAgICAgICBbbmdDbGFzc109XCJidG4uY3NzQ2xhc3NcIlxuICAgICAgICAgICAgKGNsaWNrKT1cIm9uQ2xpY2soYnRuLCAkZXZlbnQpXCI+e3tidG4uY2FwdGlvbn19PC9idXR0b24+XG48L2Rpdj5gXG59KVxuZXhwb3J0IGNsYXNzIEJTTW9kYWxGb290ZXIge1xuICAgIC8qKlxuICAgICAqIENsYXNzIG5hbWUgdXNlZCBmb3IgdGhlIGZvb3RlciBjb250YWluZXIuXG4gICAgICovXG4gICAgQElucHV0KCkgcHVibGljIGZvb3RlckNsYXNzOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBIGNvbGxlY3Rpb24gb2YgYnV0dG9uIGNvbmZpZ3VyYXRpb25zLCBlYWNoIGNvbmZpZ3VyYXRpb24gaXMgYSBidXR0b24gdG8gZGlzcGxheS5cbiAgICAgKi9cbiAgICBASW5wdXQoKSBwdWJsaWMgYnV0dG9uczogQlNNZXNzYWdlTW9kYWxCdXR0b25Db25maWdbXTtcblxuICAgIC8qKlxuICAgICAqIEVtaXR0ZWQgd2hlbiBhIGJ1dHRvbiB3YXMgY2xpY2tlZCBcbiAgICAgKiBAdHlwZSB7RXZlbnRFbWl0dGVyPEZvb3RlckJ1dHRvbkNsaWNrRXZlbnQ+fVxuICAgICAqL1xuICAgIEBPdXRwdXQoKSBwdWJsaWMgb25CdXR0b25DbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8Rm9vdGVyQnV0dG9uQ2xpY2tFdmVudD4oKTtcblxuICAgIGNvbnN0cnVjdG9yKCkge31cblxuICAgIG9uQ2xpY2soYnRuOiBhbnksICRldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMub25CdXR0b25DbGljay5lbWl0KHtidG4sICRldmVudH0pO1xuICAgIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy9ib290c3RyYXAvbW9kYWwtZm9vdGVyLnRzXG4gKiovIiwiaW1wb3J0IHsgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1vZGFsLCBGbHVlbnRBc3NpZ25NZXRob2QsIGV4dGVuZCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuaW1wb3J0IHsgQlNNZXNzYWdlTW9kYWwgfSBmcm9tICcuLi9tZXNzYWdlLW1vZGFsJztcbmltcG9ydCB7IE1lc3NhZ2VNb2RhbFByZXNldEJ1aWxkZXIsIE1lc3NhZ2VNb2RhbFByZXNldCB9IGZyb20gJy4vbWVzc2FnZS1tb2RhbC1wcmVzZXQnO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgT25lQnV0dG9uUHJlc2V0IGV4dGVuZHMgTWVzc2FnZU1vZGFsUHJlc2V0IHtcbiAgLyoqXG4gICAqIENhcHRpb24gZm9yIHRoZSBPSyBidXR0b24uXG4gICAqIERlZmF1bHQ6IE9LXG4gICAqL1xuICBva0J0bjogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIENsYXNzIGZvciB0aGUgT0sgYnV0dG9uLlxuICAgKiBEZWZhdWx0OiBidG4gYnRuLXByaW1hcnlcbiAgICovXG4gIG9rQnRuQ2xhc3M6IHN0cmluZztcbn1cblxuLyoqXG4gKiBBIFByZXNldCBmb3IgYSBjbGFzc2ljIDEgYnV0dG9uIG1vZGFsIHdpbmRvdy5cbiAqL1xuZXhwb3J0IGNsYXNzIE9uZUJ1dHRvblByZXNldEJ1aWxkZXIgZXh0ZW5kcyBNZXNzYWdlTW9kYWxQcmVzZXRCdWlsZGVyPE9uZUJ1dHRvblByZXNldD4ge1xuICBva0J0bjogRmx1ZW50QXNzaWduTWV0aG9kPHN0cmluZywgdGhpcz47XG4gIG9rQnRuQ2xhc3M6IEZsdWVudEFzc2lnbk1ldGhvZDxzdHJpbmcsIHRoaXM+O1xuXG4gIGNvbnN0cnVjdG9yKG1vZGFsOiBNb2RhbCwgZGVmYXVsdFZhbHVlczogT25lQnV0dG9uUHJlc2V0ID0gdW5kZWZpbmVkKSB7XG4gICAgc3VwZXIoZXh0ZW5kPGFueT4oe1xuICAgICAgbW9kYWw6IG1vZGFsLFxuICAgICAgb2tCdG46ICdPSycsXG4gICAgICBva0J0bkNsYXNzOiAnYnRuIGJ0bi1wcmltYXJ5J1xuICAgIH0sIGRlZmF1bHRWYWx1ZXMgfHwge30pLCBbXG4gICAgICAnb2tCdG4nLFxuICAgICAgJ29rQnRuQ2xhc3MnXG4gICAgXSk7XG4gIH1cblxuICAkJGJlZm9yZU9wZW4oY29uZmlnOiBPbmVCdXR0b25QcmVzZXQpOiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcltdIHtcbiAgICB0aGlzLmFkZEJ1dHRvbihcbiAgICAgIGNvbmZpZy5va0J0bkNsYXNzLFxuICAgICAgY29uZmlnLm9rQnRuLFxuICAgICAgKGNtcDogQlNNZXNzYWdlTW9kYWwsICRldmVudDogTW91c2VFdmVudCkgPT4gY21wLmRpYWxvZy5jbG9zZSh0cnVlKVxuICAgICk7XG4gICAgcmV0dXJuIHN1cGVyLiQkYmVmb3JlT3Blbihjb25maWcpO1xuICB9XG59XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy9ib290c3RyYXAvcHJlc2V0cy9vbmUtYnV0dG9uLXByZXNldC50c1xuICoqLyIsImltcG9ydCB7IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBGbHVlbnRBc3NpZ25NZXRob2QsXG4gICAgZXh0ZW5kXG59IGZyb20gJy4uLy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuaW1wb3J0IHsgTW9kYWwgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsJztcbmltcG9ydCB7IEJTTWVzc2FnZU1vZGFsIH0gZnJvbSAnLi4vbWVzc2FnZS1tb2RhbCc7XG5pbXBvcnQgeyBNZXNzYWdlTW9kYWxQcmVzZXRCdWlsZGVyIH0gZnJvbSAnLi9tZXNzYWdlLW1vZGFsLXByZXNldCc7XG5pbXBvcnQgeyBPbmVCdXR0b25QcmVzZXQgfSBmcm9tICcuL29uZS1idXR0b24tcHJlc2V0JztcblxuXG5leHBvcnQgaW50ZXJmYWNlIFR3b0J1dHRvblByZXNldCBleHRlbmRzIE9uZUJ1dHRvblByZXNldCB7XG4gIC8qKlxuICAgKiBDYXB0aW9uIGZvciB0aGUgQ2FuY2VsIGJ1dHRvbi5cbiAgICogRGVmYXVsdDogQ2FuY2VsXG4gICAqL1xuICBjYW5jZWxCdG46IHN0cmluZztcblxuICAvKipcbiAgICogQSBDbGFzcyBmb3IgdGhlIENhbmNlbCBidXR0b24uXG4gICAqIERlZmF1bHQ6IGJ0biBidG4tZGVmYXVsdFxuICAgKi9cbiAgY2FuY2VsQnRuQ2xhc3M6IHN0cmluZztcbn1cblxuLyoqXG4gKiBBIFByZXNldCBmb3IgYSBjbGFzc2ljIDIgYnV0dG9uIG1vZGFsIHdpbmRvdy5cbiAqL1xuZXhwb3J0IGNsYXNzIFR3b0J1dHRvblByZXNldEJ1aWxkZXIgZXh0ZW5kcyBNZXNzYWdlTW9kYWxQcmVzZXRCdWlsZGVyPFR3b0J1dHRvblByZXNldD4ge1xuICBva0J0bjogRmx1ZW50QXNzaWduTWV0aG9kPHN0cmluZywgdGhpcz47XG4gIG9rQnRuQ2xhc3M6IEZsdWVudEFzc2lnbk1ldGhvZDxzdHJpbmcsIHRoaXM+O1xuICBjYW5jZWxCdG46IEZsdWVudEFzc2lnbk1ldGhvZDxzdHJpbmcsIHRoaXM+O1xuICBjYW5jZWxCdG5DbGFzczogRmx1ZW50QXNzaWduTWV0aG9kPHN0cmluZywgdGhpcz47XG5cbiAgY29uc3RydWN0b3IobW9kYWw6IE1vZGFsLCBkZWZhdWx0VmFsdWVzOiBUd29CdXR0b25QcmVzZXQgPSB1bmRlZmluZWQpIHtcbiAgICBzdXBlcihleHRlbmQ8YW55Pih7XG4gICAgICBtb2RhbDogbW9kYWwsXG4gICAgICBva0J0bjogJ09LJyxcbiAgICAgIG9rQnRuQ2xhc3M6ICdidG4gYnRuLXByaW1hcnknLFxuICAgICAgY2FuY2VsQnRuOiAnQ2FuY2VsJyxcbiAgICAgIGNhbmNlbEJ0bkNsYXNzOiAnYnRuIGJ0bi1kZWZhdWx0J1xuICAgIH0sIGRlZmF1bHRWYWx1ZXMgfHwge30pLCBbXG4gICAgICAnb2tCdG4nLFxuICAgICAgJ29rQnRuQ2xhc3MnLFxuICAgICAgJ2NhbmNlbEJ0bicsXG4gICAgICAnY2FuY2VsQnRuQ2xhc3MnXG4gICAgXSk7XG4gIH1cblxuICAkJGJlZm9yZU9wZW4oY29uZmlnOiBUd29CdXR0b25QcmVzZXQpOiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcltdIHtcbiAgICB0aGlzLmFkZEJ1dHRvbihcbiAgICAgIGNvbmZpZy5va0J0bkNsYXNzLFxuICAgICAgY29uZmlnLm9rQnRuLFxuICAgICAgKGNtcDogQlNNZXNzYWdlTW9kYWwsICRldmVudDogTW91c2VFdmVudCkgPT4gY21wLmRpYWxvZy5jbG9zZSh0cnVlKVxuICAgIClcbiAgICAgIC5hZGRCdXR0b24oXG4gICAgICAgIGNvbmZpZy5jYW5jZWxCdG5DbGFzcyxcbiAgICAgICAgY29uZmlnLmNhbmNlbEJ0bixcbiAgICAgICAgKGNtcDogQlNNZXNzYWdlTW9kYWwsICRldmVudDogTW91c2VFdmVudCkgPT4gY21wLmRpYWxvZy5kaXNtaXNzKClcbiAgICAgICk7XG5cbiAgICByZXR1cm4gc3VwZXIuJCRiZWZvcmVPcGVuKGNvbmZpZyk7XG4gIH1cbn1cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2Jvb3RzdHJhcC9wcmVzZXRzL3R3by1idXR0b24tcHJlc2V0LnRzXG4gKiovIiwiaW1wb3J0IHtcbiAgVmlld0NvbnRhaW5lclJlZixcbiAgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXIsXG4gIEluamVjdGFibGUsXG4gIFR5cGVcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7XG4gIERpYWxvZ1JlZixcbiAgTW9kYWxSZW5kZXJlcixcbiAgRFJPUF9JTl9UWVBFXG59IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuXG5pbXBvcnQgeyBKU05hdGl2ZU1vZGFsQ29udGV4dCB9IGZyb20gJy4vbW9kYWwtY29udGV4dCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBKU05hdGl2ZU1vZGFsUmVuZGVyZXIgaW1wbGVtZW50cyBNb2RhbFJlbmRlcmVyIHtcblxuICByZW5kZXIodHlwZTogVHlwZSxcbiAgICAgICAgIHZpZXdDb250YWluZXI6IFZpZXdDb250YWluZXJSZWYsXG4gICAgICAgICBiaW5kaW5nczogUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJbXSxcbiAgICAgICAgIGRpYWxvZzogRGlhbG9nUmVmPEpTTmF0aXZlTW9kYWxDb250ZXh0Pik6IERpYWxvZ1JlZjxhbnk+IHtcblxuICAgIGxldCByZXN1bHQ6IHN0cmluZyB8IGJvb2xlYW47XG4gICAgc3dpdGNoIChkaWFsb2cuY29udGV4dC5kaWFsb2dUeXBlKSB7XG4gICAgICBjYXNlIERST1BfSU5fVFlQRS5hbGVydDpcbiAgICAgICAgd2luZG93LmFsZXJ0KGRpYWxvZy5jb250ZXh0Lm1lc3NhZ2UpO1xuICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRFJPUF9JTl9UWVBFLnByb21wdDpcbiAgICAgICAgcmVzdWx0ID0gd2luZG93LnByb21wdChkaWFsb2cuY29udGV4dC5tZXNzYWdlLCBkaWFsb2cuY29udGV4dC5wcm9tcHREZWZhdWx0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERST1BfSU5fVFlQRS5jb25maXJtOlxuICAgICAgICByZXN1bHQgPSB3aW5kb3cuY29uZmlybShkaWFsb2cuY29udGV4dC5tZXNzYWdlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgZGlhbG9nLmRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgfTtcblxuICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICBkaWFsb2cuZGlzbWlzcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaWFsb2cuY2xvc2UocmVzdWx0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGlhbG9nO1xuICB9XG59XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy9qcy1uYXRpdmUvanMtbmF0aXZlLW1vZGFsLXJlbmRlcmVyLnRzXG4gKiovIiwiaW1wb3J0IHtcbiAgRFJPUF9JTl9UWVBFLFxuICBNb2RhbE9wZW5Db250ZXh0QnVpbGRlcixcbiAgTW9kYWxPcGVuQ29udGV4dCxcbiAgRmx1ZW50QXNzaWduTWV0aG9kLFxuICBhcnJheVVuaW9uXG59IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuXG5jb25zdCBERUZBVUxUX1NFVFRFUlMgPSBbXG4gICdwcm9tcHREZWZhdWx0J1xuXTtcblxuZXhwb3J0IGNsYXNzIEpTTmF0aXZlTW9kYWxDb250ZXh0IGV4dGVuZHMgTW9kYWxPcGVuQ29udGV4dCB7XG4gIHByb21wdERlZmF1bHQ6IHN0cmluZztcbiAgZGlhbG9nVHlwZTogRFJPUF9JTl9UWVBFO1xuXG4gIG5vcm1hbGl6ZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMubWVzc2FnZSkgdGhpcy5tZXNzYWdlID0gJyc7XG4gICAgaWYgKHRoaXMuZGlhbG9nVHlwZSA9PT0gdW5kZWZpbmVkKSB0aGlzLmRpYWxvZ1R5cGUgPSBEUk9QX0lOX1RZUEUuYWxlcnQ7XG4gIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgSlNOYXRpdmVNb2RhbENvbnRleHRCdWlsZGVyPFQgZXh0ZW5kcyBKU05hdGl2ZU1vZGFsQ29udGV4dD5cbmV4dGVuZHMgTW9kYWxPcGVuQ29udGV4dEJ1aWxkZXI8VD4ge1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIHByb21wdCBpbnB1dFxuICAgKi9cbiAgcHJvbXB0RGVmYXVsdDogRmx1ZW50QXNzaWduTWV0aG9kPHN0cmluZywgdGhpcz47XG5cbiAgY29uc3RydWN0b3IoZGVmYXVsdFZhbHVlczogVCA9IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgaW5pdGlhbFNldHRlcnM6IHN0cmluZ1tdID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBiYXNlVHlwZTogbmV3ICgpID0+IFQgPSB1bmRlZmluZWQpIHtcbiAgICBzdXBlcihcbiAgICAgIGRlZmF1bHRWYWx1ZXMgfHwgPGFueT57fSxcbiAgICAgIGFycmF5VW5pb248c3RyaW5nPihERUZBVUxUX1NFVFRFUlMsIGluaXRpYWxTZXR0ZXJzIHx8IFtdKSxcbiAgICAgIGJhc2VUeXBlIHx8IDxhbnk+SlNOYXRpdmVNb2RhbENvbnRleHRcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNzIzNFxuICAgICk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy9qcy1uYXRpdmUvbW9kYWwtY29udGV4dC50c1xuICoqLyIsImltcG9ydCB7IFZpZXdDb250YWluZXJSZWYsIFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEaWFsb2dSZWYsIERST1BfSU5fVFlQRSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuaW1wb3J0IHsgTW9kYWwgfSBmcm9tICcuLi9tb2RhbCc7XG5cbmltcG9ydCB7XG4gICAgSlNOYXRpdmVNb2RhbENvbnRleHQsXG4gICAgSlNOYXRpdmVNb2RhbENvbnRleHRCdWlsZGVyXG59IGZyb20gJy4uL21vZGFsLWNvbnRleHQnO1xuXG5leHBvcnQgY2xhc3MgSlNOYXRpdmVQcmVzZXRCdWlsZGVyIGV4dGVuZHMgSlNOYXRpdmVNb2RhbENvbnRleHRCdWlsZGVyPEpTTmF0aXZlTW9kYWxDb250ZXh0PiB7XG4gICAgXG4gICAgY29uc3RydWN0b3IobW9kYWw6IE1vZGFsLCBkaWFsb2dUeXBlOiBEUk9QX0lOX1RZUEUpIHtcbiAgICAgICAgc3VwZXIoPGFueT57bW9kYWwsIGRpYWxvZ1R5cGV9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIb29rIHRvIGFsdGVyIGNvbmZpZyBhbmQgcmV0dXJuIGJpbmRpbmdzLlxuICAgICAqIEBwYXJhbSBjb25maWdcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgJCRiZWZvcmVPcGVuKGNvbmZpZzogSlNOYXRpdmVNb2RhbENvbnRleHQpOiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcltdIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9wZW4gYSBtb2RhbCB3aW5kb3cgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhpcyBjb25maWcgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHZpZXdDb250YWluZXIgSWYgc2V0IG9wZW5zIHRoZSBtb2RhbCBpbnNpZGUgdGhlIHN1cHBsaWVkIHZpZXdDb250YWluZXJcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPERpYWxvZ1JlZj5cbiAgICAgKi9cbiAgICBvcGVuKHZpZXdDb250YWluZXI/OiBWaWV3Q29udGFpbmVyUmVmKTogUHJvbWlzZTxEaWFsb2dSZWY8SlNOYXRpdmVNb2RhbENvbnRleHQ+PiB7XG4gICAgICAgIGxldCBjb25maWc6IEpTTmF0aXZlTW9kYWxDb250ZXh0ID0gdGhpcy50b0pTT04oKTtcblxuICAgICAgICBpZiAoISAoY29uZmlnLm1vZGFsIGluc3RhbmNlb2YgTW9kYWwpICkge1xuICAgICAgICAgICAgcmV0dXJuIDxhbnk+UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdDb25maWd1cmF0aW9uIEVycm9yOiBtb2RhbCBzZXJ2aWNlIG5vdCBzZXQuJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJpbmRpbmdzID0gdHlwZW9mIHRoaXMuJCRiZWZvcmVPcGVuID09PSAnZnVuY3Rpb24nICYmIHRoaXMuJCRiZWZvcmVPcGVuKGNvbmZpZyk7XG4gICAgICAgIHJldHVybiBjb25maWcubW9kYWwub3Blbig8YW55PnRydWUsIGNvbmZpZywgYmluZGluZ3MsIDxhbnk+dHJ1ZSk7XG4gICAgfVxufVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvanMtbmF0aXZlL3ByZXNldHMvanMtbmF0aXZlLXByZXNldC50c1xuICoqLyIsImV4cG9ydCB7IE1vZGFsIH0gZnJvbSAnLi9tb2RhbCc7XG5leHBvcnQgeyBWZXhNb2RhbEJhY2tkcm9wIH0gZnJvbSAnLi9tb2RhbC1iYWNrZHJvcCc7XG5leHBvcnQgeyBWZXhNb2RhbENvbnRlbnQgfSBmcm9tICcuL21vZGFsLWNvbnRlbnQnO1xuZXhwb3J0IHsgVkVYQnVpbHRJblRoZW1lcywgVkVYTW9kYWxDb250ZXh0LCBWRVhNb2RhbENvbnRleHRCdWlsZGVyIH0gZnJvbSAnLi9tb2RhbC1jb250ZXh0JztcbmV4cG9ydCB7IERyb3BJblByZXNldCwgRHJvcEluUHJlc2V0QnVpbGRlciB9IGZyb20gJy4vcHJlc2V0cy9kcm9waW4tcHJlc2V0JztcbmV4cG9ydCB7XG4gIERpYWxvZ0Zvcm1Nb2RhbCxcbiAgRm9ybURyb3BJbixcbiAgVkVYQnV0dG9uQ2xpY2tFdmVudCxcbiAgVkVYQnV0dG9uQ29uZmlnLFxuICBWRVhCdXR0b25IYW5kbGVyLFxuICBWRVhEaWFsb2dCdXR0b25zXG59IGZyb20gJy4vZGlhbG9nLWZvcm0tbW9kYWwnO1xuZXhwb3J0IHsgRGlhbG9nUHJlc2V0LCBEaWFsb2dQcmVzZXRCdWlsZGVyIH0gZnJvbSAnLi9wcmVzZXRzL2RpYWxvZy1wcmVzZXQnO1xuXG5cbmV4cG9ydCB7IFZleE1vZGFsTW9kdWxlIH0gZnJvbSAnLi92ZXgubW9kdWxlJztcblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL3ZleC9pbmRleC50c1xuICoqLyIsImltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIFZpZXdFbmNhcHN1bGF0aW9uLFxuICAgIE9uRGVzdHJveVxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERpYWxvZ1JlZiwgc3VwcG9ydHNLZXkgfSBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsJztcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi9tb2RhbCc7XG5pbXBvcnQgeyBWRVhNb2RhbENvbnRleHQgfSBmcm9tICcuL21vZGFsLWNvbnRleHQnO1xuXG5sZXQgZGlhbG9nUmVmQ291bnQgPSAwO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIG1vZGFsIGJhY2tkcm9wLlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ21vZGFsLWJhY2tkcm9wJyxcbiAgICBob3N0OiB7XG4gICAgICAgICdbY2xhc3MuaW4tZWxlbWVudF0nOiAnZGlhbG9nLmluRWxlbWVudCcsXG4gICAgICAgICdbc3R5bGUucG9zaXRpb25dJzogJ2hzLnBzJyxcbiAgICAgICAgJ1tzdHlsZS5oZWlnaHRdJzogJ2hzLnN6JyxcbiAgICAgICAgJ1tzdHlsZS53aWR0aF0nOiAnaHMuc3onLFxuICAgICAgICAnW3N0eWxlLnRvcF0nOiAnaHMucHQnLFxuICAgICAgICAnW3N0eWxlLmxlZnRdJzogJ2hzLnB0JyxcbiAgICAgICAgJ1tzdHlsZS5yaWdodF0nOiAnaHMucHQnLFxuICAgICAgICAnW3N0eWxlLmJvdHRvbV0nOiAnaHMucHQnLFxuICAgICAgICAnKGJvZHk6a2V5ZG93biknOiAnZG9jdW1lbnRLZXlwcmVzcygkZXZlbnQpJ1xuICAgIH0sXG4gICAgc3R5bGVVcmxzOiBbXG4gICAgICAgICdjb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvdmV4L21vZGFsLWJhY2tkcm9wLmNzcydcbiAgICBdLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgdGVtcGxhdGU6XG5gPGRpdiBbY2xhc3NdPVwiY3NzQ2xhc3NcIj5cbiAgICA8ZGl2IFtjbGFzc109XCJkaWFsb2cuY29udGV4dC5vdmVybGF5Q2xhc3NOYW1lXCI+PC9kaXY+XG4gICAgPG1vZGFsLWNvbnRlbnQ+PC9tb2RhbC1jb250ZW50PiAgICBcbjwvZGl2PmBcbn0pXG5leHBvcnQgY2xhc3MgVmV4TW9kYWxCYWNrZHJvcCBpbXBsZW1lbnRzIE9uRGVzdHJveSB7XG4gICAgcHJpdmF0ZSBoczogYW55ID0ge307XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBkaWFsb2c6IERpYWxvZ1JlZjxWRVhNb2RhbENvbnRleHQ+LFxuICAgICAgICBwcml2YXRlIF9tb2RhbDogTW9kYWwpIHtcbiAgICAgICAgZGlhbG9nUmVmQ291bnQrKztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCd2ZXgtb3BlbicpO1xuXG4gICAgICAgIGlmIChkaWFsb2cuaW5FbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmhzLnBzID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIHRoaXMuaHMuc3ogPSAnMTAwJSc7XG4gICAgICAgICAgICB0aGlzLmhzLnB0ID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBjc3NDbGFzcygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYHZleCB2ZXgtdGhlbWUtJHt0aGlzLmRpYWxvZy5jb250ZXh0LmNsYXNzTmFtZX1gO1xuICAgIH1cblxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBpZiAoLS1kaWFsb2dSZWZDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCd2ZXgtb3BlbicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZG9jdW1lbnRLZXlwcmVzcyhldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICAvLyBjaGVjayB0aGF0IHRoaXMgbW9kYWwgaXMgdGhlIGxhc3QgaW4gdGhlIHN0YWNrLlxuICAgICAgICBpZiAoIXRoaXMuX21vZGFsLmlzVG9wTW9zdCh0aGlzLmRpYWxvZykpIHJldHVybjtcblxuICAgICAgICBpZiAoc3VwcG9ydHNLZXkoZXZlbnQua2V5Q29kZSwgPGFueT50aGlzLmRpYWxvZy5jb250ZXh0LmtleWJvYXJkKSkge1xuICAgICAgICAgICAgdGhpcy5kaWFsb2cuZGlzbWlzcygpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL3ZleC9tb2RhbC1iYWNrZHJvcC50c1xuICoqLyIsImltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLFxuICBFbGVtZW50UmVmLFxuICBWaWV3Q29udGFpbmVyUmVmLFxuICBWaWV3Q2hpbGQsXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxuICBBZnRlclZpZXdJbml0XG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBjcmVhdGVDb21wb25lbnQsIE1vZGFsQ29tcGlsZUNvbmZpZywgRGlhbG9nUmVmIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbCc7XG5cbmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi9tb2RhbCc7XG5pbXBvcnQgeyBWRVhNb2RhbENvbnRleHQgfSBmcm9tICcuL21vZGFsLWNvbnRleHQnO1xuXG4vKipcbiAqIEEgY29tcG9uZW50IHRoYXQgYWN0cyBhcyBhIHRvcCBsZXZlbCBjb250YWluZXIgZm9yIGFuIG9wZW4gbW9kYWwgd2luZG93LlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtb2RhbC1jb250ZW50JyxcbiAgdGVtcGxhdGU6IGA8ZGl2IHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCJcbiAgICAgIFtjbGFzc109XCJjb250ZXh0LmNvbnRlbnRDbGFzc05hbWVcIiAoY2xpY2tPdXRzaWRlKT1cIm9uQ2xpY2tPdXRzaWRlKClcIiAjZGxnQ29udGFpbmVyPlxuICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBub25lXCIgI21vZGFsRGlhbG9nPjwvZGl2PiAgICBcbiAgICA8ZGl2ICpuZ0lmPVwiY29udGV4dC5zaG93Q2xvc2VCdXR0b25cIiBcbiAgICAgICAgIFtjbGFzc109XCJjb250ZXh0LmNsb3NlQ2xhc3NOYW1lXCIgXG4gICAgICAgICAoY2xpY2spPVwiZGlhbG9nLmRpc21pc3MoKVwiPjwvZGl2PlxuPC9kaXY+YCxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbn0pXG5leHBvcnQgY2xhc3MgVmV4TW9kYWxDb250ZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG4gIHByaXZhdGUgY29udGV4dDogVkVYTW9kYWxDb250ZXh0O1xuICBAVmlld0NoaWxkKCdkbGdDb250YWluZXInKSBwcml2YXRlIGRsZ0NvbnRhaW5lcjogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnbW9kYWxEaWFsb2cnLCB7cmVhZDogVmlld0NvbnRhaW5lclJlZn0pIHByaXZhdGUgX3ZpZXdDb250YWluZXI6IFZpZXdDb250YWluZXJSZWY7XG5cbiAgY29uc3RydWN0b3IocHVibGljIGRpYWxvZzogRGlhbG9nUmVmPFZFWE1vZGFsQ29udGV4dD4sXG4gICAgICAgICAgICAgIHByaXZhdGUgX21vZGFsOiBNb2RhbCxcbiAgICAgICAgICAgICAgcHJpdmF0ZSBfY29tcGlsZUNvbmZpZzogTW9kYWxDb21waWxlQ29uZmlnLFxuICAgICAgICAgICAgICBwcml2YXRlIF9jcjogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKSB7XG4gICAgdGhpcy5jb250ZXh0ID0gZGlhbG9nLmNvbnRleHQ7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgaWYgKHRoaXMuZGxnQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZGxnQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvKiAgVE9ETzpcbiAgICAgSW4gUkM1IGR5bmFtaWMgY29tcG9uZW50IGNyZWF0aW9uIGlzIG5vIGxvbmdlciBhc3luYy5cbiAgICAgU29tZXdoZXJlIGRvd24gdGhlIHBpcGUgb2YgdGhlIGNyZWF0ZWQgY29tcG9uZW50IGEgdmFsdWUgY2hhbmdlIGhhcHBlbnMgdGhhdCBmaXJlc1xuICAgICBhIENEIGV4Y2VwdGlvbi4gc2V0VGltZW91dCBpcyBhIHdvcmthcm91bmQgdGhhdCBtaW1pY3MgdGhlIGFzeW5jIGJlaGF2aW9yLlxuICAgICBGaW5kIG91dCB0aGUgZXJyb3IgYW5kIHJlbW92ZSBzZXRUaW1lb3V0LlxuICAgICAqL1xuICAgIHNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgIHRoaXMuZGlhbG9nLmNvbnRlbnRSZWYgPSBjcmVhdGVDb21wb25lbnQoXG4gICAgICAgIHRoaXMuX2NyLFxuICAgICAgICB0aGlzLl9jb21waWxlQ29uZmlnLmNvbXBvbmVudCxcbiAgICAgICAgdGhpcy5fdmlld0NvbnRhaW5lcixcbiAgICAgICAgdGhpcy5fY29tcGlsZUNvbmZpZy5iaW5kaW5ncyk7XG4gICAgfSk7XG4gIH1cblxuICBvbkNsaWNrT3V0c2lkZSgpIHtcbiAgICAvLyBjaGVjayB0aGF0IHRoaXMgbW9kYWwgaXMgdGhlIGxhc3QgaW4gdGhlIHN0YWNrLlxuICAgIGlmICh0aGlzLl9tb2RhbC5pc1RvcE1vc3QodGhpcy5kaWFsb2cpICYmICF0aGlzLmRpYWxvZy5jb250ZXh0LmlzQmxvY2tpbmcpXG4gICAgICB0aGlzLmRpYWxvZy5kaXNtaXNzKCk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy92ZXgvbW9kYWwtY29udGVudC50c1xuICoqLyIsImltcG9ydCB7XG4gIE1vZGFsT3BlbkNvbnRleHQsXG4gIE1vZGFsT3BlbkNvbnRleHRCdWlsZGVyLFxuICBGbHVlbnRBc3NpZ25NZXRob2QsXG4gIHByaXZhdGVLZXksXG4gIGV4dGVuZCxcbiAgYXJyYXlVbmlvblxufSBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsJztcblxuXG5jb25zdCBERUZBVUxUX1ZBTFVFUyA9IHtcbiAgY2xhc3NOYW1lOiA8VkVYQnVpbHRJblRoZW1lcz4nZGVmYXVsdCcsXG4gIG92ZXJsYXlDbGFzc05hbWU6ICd2ZXgtb3ZlcmxheScsXG4gIGNvbnRlbnRDbGFzc05hbWU6ICd2ZXgtY29udGVudCcsXG4gIGNsb3NlQ2xhc3NOYW1lOiAndmV4LWNsb3NlJ1xufTtcblxuY29uc3QgREVGQVVMVF9TRVRURVJTID0gW1xuICAnY2xhc3NOYW1lJyxcbiAgJ292ZXJsYXlDbGFzc05hbWUnLFxuICAnY29udGVudENsYXNzTmFtZScsXG4gICdjbG9zZUNsYXNzTmFtZScsXG4gICdzaG93Q2xvc2VCdXR0b24nXG5dO1xuXG5leHBvcnQgdHlwZSBWRVhCdWlsdEluVGhlbWVzXG4gID0gJ2RlZmF1bHQnIHwgJ29zJyB8ICdwbGFpbicgfCAnd2lyZWZyYW1lJyB8ICdmbGF0LWF0dGFjaycgfCAndG9wJyB8ICdib3R0b20tcmlnaHQtY29ybmVyJztcblxuZXhwb3J0IGNsYXNzIFZFWE1vZGFsQ29udGV4dCBleHRlbmRzIE1vZGFsT3BlbkNvbnRleHQge1xuICAvKipcbiAgICogU2V0IHRoZSBidWlsdCBpbiBzY2hlbWEgdG8gdXNlLlxuICAgKi9cbiAgY2xhc3NOYW1lOiBWRVhCdWlsdEluVGhlbWVzO1xuXG4gIG92ZXJsYXlDbGFzc05hbWU6IHN0cmluZztcbiAgY29udGVudENsYXNzTmFtZTogc3RyaW5nO1xuICBjbG9zZUNsYXNzTmFtZTogc3RyaW5nO1xuXG4gIHNob3dDbG9zZUJ1dHRvbjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIFZFWE1vZGFsQ29udGV4dEJ1aWxkZXI8VCBleHRlbmRzIFZFWE1vZGFsQ29udGV4dD4gZXh0ZW5kcyBNb2RhbE9wZW5Db250ZXh0QnVpbGRlcjxUPiB7XG4gIC8qKlxuICAgKiBTZXQgdGhlIGJ1aWx0IGluIHNjaGVtYSB0byB1c2UuXG4gICAqL1xuICBjbGFzc05hbWU6IEZsdWVudEFzc2lnbk1ldGhvZDxWRVhCdWlsdEluVGhlbWVzLCB0aGlzPjtcblxuICBvdmVybGF5Q2xhc3NOYW1lOiBGbHVlbnRBc3NpZ25NZXRob2Q8c3RyaW5nLCB0aGlzPjtcbiAgY29udGVudENsYXNzTmFtZTogRmx1ZW50QXNzaWduTWV0aG9kPHN0cmluZywgdGhpcz47XG4gIGNsb3NlQ2xhc3NOYW1lOiBGbHVlbnRBc3NpZ25NZXRob2Q8c3RyaW5nLCB0aGlzPjtcblxuICBzaG93Q2xvc2VCdXR0b246IEZsdWVudEFzc2lnbk1ldGhvZDxib29sZWFuLCB0aGlzPjtcblxuICBjb25zdHJ1Y3RvcihkZWZhdWx0VmFsdWVzOiBUID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBpbml0aWFsU2V0dGVyczogc3RyaW5nW10gPSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIGJhc2VUeXBlOiBuZXcgKCkgPT4gVCA9IHVuZGVmaW5lZCkge1xuICAgIHN1cGVyKFxuICAgICAgZXh0ZW5kPGFueT4oREVGQVVMVF9WQUxVRVMsIGRlZmF1bHRWYWx1ZXMgfHwge30pLFxuICAgICAgYXJyYXlVbmlvbjxzdHJpbmc+KERFRkFVTFRfU0VUVEVSUywgaW5pdGlhbFNldHRlcnMgfHwgW10pLFxuICAgICAgYmFzZVR5cGUgfHwgPGFueT5WRVhNb2RhbENvbnRleHQgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy83MjM0XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAYWxpYXNGb3IgaXNCbG9ja2luZ1xuICAgKi9cbiAgb3ZlcmxheUNsb3Nlc09uQ2xpY2sodmFsdWU6IGJvb2xlYW4pOiB0aGlzIHtcbiAgICB0aGlzW3ByaXZhdGVLZXkoJ2lzQmxvY2tpbmcnKV0gPSAhdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy92ZXgvbW9kYWwtY29udGV4dC50c1xuICoqLyIsImltcG9ydCB7IFR5cGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIEZsdWVudEFzc2lnbk1ldGhvZCxcbiAgcHJpdmF0ZUtleSxcbiAgZXh0ZW5kLFxuICBhcnJheVVuaW9uXG59IGZyb20gJy4uLy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuaW1wb3J0IHsgVkVYTW9kYWxDb250ZXh0LCBWRVhNb2RhbENvbnRleHRCdWlsZGVyIH0gZnJvbSAnLi4vbW9kYWwtY29udGV4dCc7XG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJy4uL21vZGFsJztcbmltcG9ydCB7XG4gIERpYWxvZ0Zvcm1Nb2RhbCBhcyBjb21wb25lbnQsXG4gIFZFWEJ1dHRvbkhhbmRsZXIsXG4gIFZFWEJ1dHRvbkNvbmZpZ1xufSBmcm9tICcuLi9kaWFsb2ctZm9ybS1tb2RhbCc7XG5cblxuY29uc3QgREVGQVVMVF9TRVRURVJTID0gW1xuICAnY29udGVudCdcbl07XG5cbi8qKlxuICogRGF0YSBkZWZpbml0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBEaWFsb2dQcmVzZXQgZXh0ZW5kcyBWRVhNb2RhbENvbnRleHQge1xuICBkZWZhdWx0UmVzdWx0OiBhbnk7XG4gIGNvbnRlbnQ6IFR5cGU7XG4gIGJ1dHRvbnM6IFZFWEJ1dHRvbkNvbmZpZ1tdO1xufVxuXG4vKipcbiAqIEEgUHJlc2V0IHJlcHJlc2VudGluZyB0aGUgY29uZmlndXJhdGlvbiBuZWVkZWQgdG8gb3BlbiBNZXNzYWdlTW9kYWwuXG4gKiBUaGlzIGlzIGFuIGFic3RyYWN0IGltcGxlbWVudGF0aW9uIHdpdGggbm8gY29uY3JldGUgYmVoYXZpb3VyLlxuICogVXNlIGRlcml2ZWQgaW1wbGVtZW50YXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBEaWFsb2dQcmVzZXRCdWlsZGVyPFQgZXh0ZW5kcyBEaWFsb2dQcmVzZXQ+XG5leHRlbmRzIFZFWE1vZGFsQ29udGV4dEJ1aWxkZXI8VD4ge1xuICAvKipcbiAgICogdGhlIG1lc3NhZ2UgdG8gZGlzcGxheSBvbiB0aGUgbW9kYWwuXG4gICAqL1xuICBjb250ZW50OiBGbHVlbnRBc3NpZ25NZXRob2Q8VHlwZSwgdGhpcz47XG5cbiAgY29uc3RydWN0b3IobW9kYWw6IE1vZGFsLFxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWVzOiBUID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBpbml0aWFsU2V0dGVyczogc3RyaW5nW10gPSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIGJhc2VUeXBlOiBuZXcgKCkgPT4gVCA9IHVuZGVmaW5lZCkge1xuICAgIHN1cGVyKFxuICAgICAgZXh0ZW5kPGFueT4oe21vZGFsLCBjb21wb25lbnQsIGJ1dHRvbnM6IFtdLCBkZWZhdWx0UmVzdWx0OiB0cnVlfSwgZGVmYXVsdFZhbHVlcyB8fCB7fSksXG4gICAgICBhcnJheVVuaW9uPHN0cmluZz4oREVGQVVMVF9TRVRURVJTLCBpbml0aWFsU2V0dGVycyB8fCBbXSksXG4gICAgICBiYXNlVHlwZSB8fCA8YW55PkRpYWxvZ1ByZXNldCAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzcyMzRcbiAgICApO1xuICB9XG5cbiAgYWRkQnV0dG9uKGNzczogc3RyaW5nLCBjYXB0aW9uOiBzdHJpbmcsIG9uQ2xpY2s6IFZFWEJ1dHRvbkhhbmRsZXIpOiB0aGlzIHtcbiAgICBsZXQgYnRuID0ge1xuICAgICAgY3NzQ2xhc3M6IGNzcyxcbiAgICAgIGNhcHRpb246IGNhcHRpb24sXG4gICAgICBvbkNsaWNrOiBvbkNsaWNrXG4gICAgfTtcblxuICAgIGxldCBrZXkgPSBwcml2YXRlS2V5KCdidXR0b25zJyk7XG4gICAgKHRoaXNba2V5XSBhcyBWRVhCdXR0b25Db25maWdbXSkucHVzaChidG4pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRPa0J1dHRvbih0ZXh0OiBzdHJpbmcgPSAnT0snKTogdGhpcyB7XG4gICAgdGhpcy5hZGRCdXR0b24oXG4gICAgICAndmV4LWRpYWxvZy1idXR0b24tcHJpbWFyeSB2ZXgtZGlhbG9nLWJ1dHRvbiB2ZXgtZmlyc3QnLFxuICAgICAgdGV4dCxcbiAgICAgIChjbXA6IGNvbXBvbmVudCwgJGV2ZW50OiBNb3VzZUV2ZW50KSA9PiBjbXAuZGlhbG9nLmNsb3NlKGNtcC5kaWFsb2cuY29udGV4dC5kZWZhdWx0UmVzdWx0KVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRDYW5jZWxCdXR0b24odGV4dDogc3RyaW5nID0gJ0NBTkNFTCcpOiB0aGlzIHtcbiAgICB0aGlzLmFkZEJ1dHRvbihcbiAgICAgICd2ZXgtZGlhbG9nLWJ1dHRvbi1zZWNvbmRhcnkgdmV4LWRpYWxvZy1idXR0b24gdmV4LWxhc3QnLFxuICAgICAgdGV4dCxcbiAgICAgIChjbXA6IGNvbXBvbmVudCwgJGV2ZW50OiBNb3VzZUV2ZW50KSA9PiBjbXAuZGlhbG9nLmRpc21pc3MoKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy92ZXgvcHJlc2V0cy9kaWFsb2ctcHJlc2V0LnRzXG4gKiovIiwiaW1wb3J0IHsgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIERST1BfSU5fVFlQRSxcbiAgRmx1ZW50QXNzaWduTWV0aG9kLFxuICBleHRlbmRcbn0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbCc7XG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJy4uL21vZGFsJztcbmltcG9ydCB7IERpYWxvZ0Zvcm1Nb2RhbCBhcyBjb21wb25lbnQsIEZvcm1Ecm9wSW4gYXMgY29udGVudCB9IGZyb20gJy4uL2RpYWxvZy1mb3JtLW1vZGFsJztcbmltcG9ydCB7IERpYWxvZ1ByZXNldCwgRGlhbG9nUHJlc2V0QnVpbGRlciB9IGZyb20gJy4vZGlhbG9nLXByZXNldCc7XG5cbmNvbnN0IERFRkFVTFRfVkFMVUVTID0ge1xuICBjb21wb25lbnQsXG4gIGNvbnRlbnQsXG4gIG9rQnRuOiAnT0snLFxuICBjYW5jZWxCdG46ICdDYW5jZWwnXG59O1xuXG5jb25zdCBERUZBVUxUX1NFVFRFUlMgPSBbXG4gICdva0J0bicsXG4gICdjYW5jZWxCdG4nLFxuICAncGxhY2Vob2xkZXInLFxuICAnc2hvd0Nsb3NlQnV0dG9uJ1xuXTtcblxuLyoqXG4gKiBEYXRhIGRlZmluaXRpb25cbiAqL1xuZXhwb3J0IGNsYXNzIERyb3BJblByZXNldCBleHRlbmRzIERpYWxvZ1ByZXNldCB7XG5cbiAgLyoqXG4gICAqIHRoZSBtZXNzYWdlIHRvIGRpc3BsYXkgb24gdGhlIG1vZGFsLlxuICAgKi9cbiAgbWVzc2FnZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBPSyBidXR0b24gY2FwdGlvbi5cbiAgICogRGVmYXVsdDogT0tcbiAgICogU2V0IHRvIGZhbHNlICgnJywgdW5kZWZpbmVkLCBudWxsLCBmYWxzZSkgdG8gcmVtb3ZlIGJ1dHRvbi5cbiAgICovXG4gIG9rQnRuOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIENhbmNlbCBidXR0b24gY2FwdGlvbi5cbiAgICogRGVmYXVsdDogQ2FuY2VsXG4gICAqIFNldCB0byBmYWxzZSAoJycsIHVuZGVmaW5lZCwgbnVsbCwgZmFsc2UpIHRvIHJlbW92ZSBidXR0b24uXG4gICAqL1xuICBjYW5jZWxCdG46IHN0cmluZztcblxuICAvKipcbiAgICogQSBwbGFjZWhvbGRlciBmb3IgdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqIFZhbGlkIG9ubHkgZm9yIHByb21wdCBtb2RhbC5cbiAgICovXG4gIHBsYWNlaG9sZGVyOiBzdHJpbmc7XG5cbiAgZHJvcEluVHlwZTogRFJPUF9JTl9UWVBFO1xuXG4gIGdldCBzaG93SW5wdXQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZHJvcEluVHlwZSA9PT0gRFJPUF9JTl9UWVBFLnByb21wdDtcbiAgfVxufVxuXG4vKipcbiAqIEEgUHJlc2V0IHJlcHJlc2VudGluZyBhbGwgMyBkcm9wIGlucyAoYWxlcnQsIHByb21wdCwgY29uZmlybSlcbiAqL1xuZXhwb3J0IGNsYXNzIERyb3BJblByZXNldEJ1aWxkZXIgZXh0ZW5kcyBEaWFsb2dQcmVzZXRCdWlsZGVyPERyb3BJblByZXNldD4ge1xuXG4gIC8qKlxuICAgKiB0aGUgbWVzc2FnZSB0byBkaXNwbGF5IG9uIHRoZSBtb2RhbC5cbiAgICovXG4gIG1lc3NhZ2U6IEZsdWVudEFzc2lnbk1ldGhvZDxzdHJpbmcsIHRoaXM+O1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBPayBidXR0b24gY2FwdGlvbi5cbiAgICovXG4gIG9rQnRuOiBGbHVlbnRBc3NpZ25NZXRob2Q8c3RyaW5nLCB0aGlzPjtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgQ2FuY2VsIGJ1dHRvbiBjYXB0aW9uLlxuICAgKi9cbiAgY2FuY2VsQnRuOiBGbHVlbnRBc3NpZ25NZXRob2Q8c3RyaW5nLCB0aGlzPjtcblxuICAvKipcbiAgICogQSBwbGFjZWhvbGRlciBmb3IgdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqIFZhbGlkIG9ubHkgZm9yIHByb21wdCBtb2RhbC5cbiAgICovXG4gIHBsYWNlaG9sZGVyOiBGbHVlbnRBc3NpZ25NZXRob2Q8c3RyaW5nLCB0aGlzPjtcblxuICBjb25zdHJ1Y3Rvcihtb2RhbDogTW9kYWwsIGRyb3BJblR5cGU6IERST1BfSU5fVFlQRSwgZGVmYXVsdFZhbHVlczogRHJvcEluUHJlc2V0ID0gdW5kZWZpbmVkKSB7XG4gICAgc3VwZXIoXG4gICAgICBtb2RhbCxcbiAgICAgIGV4dGVuZDxhbnk+KGV4dGVuZCh7bW9kYWwsIGRyb3BJblR5cGV9LCBERUZBVUxUX1ZBTFVFUyksIGRlZmF1bHRWYWx1ZXMgfHwge30pLFxuICAgICAgREVGQVVMVF9TRVRURVJTLFxuICAgICAgRHJvcEluUHJlc2V0XG4gICAgKTtcbiAgfVxuXG4gICQkYmVmb3JlT3Blbihjb25maWc6IERyb3BJblByZXNldCk6IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyW10ge1xuICAgIGlmIChjb25maWcub2tCdG4pIHtcbiAgICAgIHRoaXMuYWRkT2tCdXR0b24oY29uZmlnLm9rQnRuKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGNvbmZpZy5kcm9wSW5UeXBlKSB7XG4gICAgICBjYXNlIERST1BfSU5fVFlQRS5wcm9tcHQ6XG4gICAgICAgIGNvbmZpZy5kZWZhdWx0UmVzdWx0ID0gdW5kZWZpbmVkO1xuICAgICAgY2FzZSBEUk9QX0lOX1RZUEUuY29uZmlybTpcbiAgICAgICAgaWYgKGNvbmZpZy5jYW5jZWxCdG4pIHtcbiAgICAgICAgICB0aGlzLmFkZENhbmNlbEJ1dHRvbihjb25maWcuY2FuY2VsQnRuKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLiQkYmVmb3JlT3Blbihjb25maWcpO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvdmV4L3ByZXNldHMvZHJvcGluLXByZXNldC50c1xuICoqLyIsImltcG9ydCB7XG4gIFZpZXdDb250YWluZXJSZWYsXG4gIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXIsXG4gIEluamVjdGFibGVcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCBjcmVhdGVDb21wb25lbnQgZnJvbSAnLi4vZnJhbWV3b3JrL2NyZWF0ZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2dSZWYgfSBmcm9tICcuLi9tb2RlbHMvZGlhbG9nLXJlZic7XG5pbXBvcnQgeyBNb2RhbFJlbmRlcmVyIH0gZnJvbSAnLi4vbW9kZWxzL3Rva2Vucyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBET01Nb2RhbFJlbmRlcmVyIGltcGxlbWVudHMgTW9kYWxSZW5kZXJlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2NyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpIHtcbiAgfVxuXG4gIHJlbmRlcih0eXBlOiBhbnksXG4gICAgICAgICB2aWV3Q29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmLFxuICAgICAgICAgYmluZGluZ3M6IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyW10sXG4gICAgICAgICBkaWFsb2c6IERpYWxvZ1JlZjxhbnk+KTogRGlhbG9nUmVmPGFueT4ge1xuXG5cbiAgICBjb25zdCBjbXBSZWYgPSBjcmVhdGVDb21wb25lbnQodGhpcy5fY3IsIHR5cGUsIHZpZXdDb250YWluZXIsIGJpbmRpbmdzKTtcblxuICAgIGlmIChkaWFsb2cuaW5FbGVtZW50KSB7XG4gICAgICB2aWV3Q29udGFpbmVyLmVsZW1lbnQubmF0aXZlRWxlbWVudC5hcHBlbmRDaGlsZChjbXBSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY21wUmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cblxuICAgIGRpYWxvZy5vbkRlc3Ryb3kuc3Vic2NyaWJlKCAoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGNtcFJlZi5pbnN0YW5jZS5jYW5EZXN0cm95ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNtcFJlZi5pbnN0YW5jZS5jYW5EZXN0cm95KCkudGhlbiAoICgpID0+IGNtcFJlZi5kZXN0cm95KCkgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNtcFJlZi5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGlhbG9nO1xuICB9XG59XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcHJvdmlkZXJzL2RvbS1tb2RhbC1yZW5kZXJlci50c1xuICoqLyIsImltcG9ydCB7IENvbXBvbmVudCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7XG4gIE1vZGFsLFxuICAvLyBOb3QgdXNlZCBidXQgaWYgbm90IHNldCwgVFMgYnVpbGQgZXJyb3JzOlxuICAvLyBSZXR1cm4gdHlwZSBvZiBleHBvcnRlZCBmdW5jdGlvbiBoYXMgb3IgaXMgdXNpbmcgbmFtZSAnWCdmcm9tIGV4dGVybmFsIG1vZHVsZSAnWSdcbiAgLy8gYnV0IGNhbm5vdCBiZSBuYW1lZC5cbiAgQlNNb2RhbFxufSBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvYm9vdHN0cmFwJztcblxuaW1wb3J0IHsgRGVtb0hlYWQsIE1vZGFsQ29tbWFuZERlc2NyaXB0b3IgfSBmcm9tICcuLi8uLi9kZW1vLWhlYWQvaW5kZXgnO1xuaW1wb3J0IHsgQWRkaXRpb25DYWxjdWxhdGVXaW5kb3dEYXRhLCBBZGRpdGlvbkNhbGN1bGF0ZVdpbmRvdyB9IGZyb20gJy4vY3VzdG9tLW1vZGFsLXNhbXBsZSc7XG5pbXBvcnQgKiBhcyBwcmVzZXRzIGZyb20gJy4uL3ByZXNldHMnO1xuXG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2Jvb3RzdHJhcC1kZW1vLXBhZ2UnLFxuICBzdHlsZVVybHM6IFsnZGVtby9hcHAvYm9vdHN0cmFwLWRlbW8vYm9vdHN0cmFwLWRlbW8tcGFnZS9ib290c3RyYXAtZGVtby1wYWdlLmNzcyddLFxuICB0ZW1wbGF0ZVVybDogJ2RlbW8vYXBwL2Jvb3RzdHJhcC1kZW1vL2Jvb3RzdHJhcC1kZW1vLXBhZ2UvYm9vdHN0cmFwLWRlbW8tcGFnZS50cGwuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgQm9vdHN0cmFwRGVtb1BhZ2Uge1xuICBwdWJsaWMgbW9kYWxDb21tYW5kczogTW9kYWxDb21tYW5kRGVzY3JpcHRvcltdO1xuXG4gIEBWaWV3Q2hpbGQoRGVtb0hlYWQpIHByaXZhdGUgZGVtb0hlYWQ6IERlbW9IZWFkO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBtb2RhbDogTW9kYWwpIHtcbiAgICB0aGlzLm1vZGFsQ29tbWFuZHMgPSBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdhbGVydCBkcm9wIGluJyxcbiAgICAgICAgZmFjdG9yeTogKCkgPT4gcHJlc2V0cy5hbGVydCh0aGlzLm1vZGFsKS5vcGVuKClcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdwcm9tcHQgZHJvcCBpbicsXG4gICAgICAgIGZhY3Rvcnk6ICgpID0+IHByZXNldHMucHJvbXB0KHRoaXMubW9kYWwpLm9wZW4oKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogJ2NvbmZpcm0gZHJvcCBpbicsXG4gICAgICAgIGZhY3Rvcnk6ICgpID0+IHByZXNldHMuY29uZmlybSh0aGlzLm1vZGFsKS5vcGVuKClcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdDYXNjYWRpbmcgZXhhbXBsZScsXG4gICAgICAgIGZhY3Rvcnk6ICgpID0+IHByZXNldHMuY2FzY2FkaW5nKHRoaXMubW9kYWwpLm9wZW4oKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogJ0luIEVsZW1lbnQgZXhhbXBsZScsXG4gICAgICAgIGZhY3Rvcnk6ICgpID0+IHByZXNldHMuaW5FbGVtZW50KHRoaXMubW9kYWwpLm9wZW4odGhpcy5kZW1vSGVhZC52Y0NvbW1hbmRzKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogJ0N1c3RvbSBNb2RhbCBleGFtcGxlJyxcbiAgICAgICAgZmFjdG9yeTogKCkgPT5cbiAgICAgICAgICB0aGlzLm1vZGFsLm9wZW4oQWRkaXRpb25DYWxjdWxhdGVXaW5kb3csIG5ldyBBZGRpdGlvbkNhbGN1bGF0ZVdpbmRvd0RhdGEoMiwgMykpXG4gICAgICB9XG4gICAgXTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvYm9vdHN0cmFwLWRlbW8vYm9vdHN0cmFwLWRlbW8tcGFnZS9ib290c3RyYXAtZGVtby1wYWdlLnRzXG4gKiovIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IERpYWxvZ1JlZiwgTW9kYWxDb21wb25lbnQgfSBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsJztcbmltcG9ydCB7IEJTTW9kYWxDb250ZXh0IH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2Jvb3RzdHJhcC9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBBZGRpdGlvbkNhbGN1bGF0ZVdpbmRvd0RhdGEgZXh0ZW5kcyBCU01vZGFsQ29udGV4dCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBudW0xOiBudW1iZXIsIHB1YmxpYyBudW0yOiBudW1iZXIpIHtcbiAgICBzdXBlcigpO1xuICB9XG59XG5cbi8qKlxuICogQSBTYW1wbGUgb2YgaG93IHNpbXBsZSBpdCBpcyB0byBjcmVhdGUgYSBuZXcgd2luZG93LCB3aXRoIGl0cyBvd24gaW5qZWN0cy5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbW9kYWwtY29udGVudCcsXG4gIHN0eWxlczogW2BcbiAgICAgICAgLmN1c3RvbS1tb2RhbC1jb250YWluZXIge1xuICAgICAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jdXN0b20tbW9kYWwtaGVhZGVyIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMTkxNjE7XG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDNweCA1cHggMHB4IHJnYmEoMCwwLDAsMC43NSk7XG4gICAgICAgICAgICAtbW96LWJveC1zaGFkb3c6IDBweCAzcHggNXB4IDBweCByZ2JhKDAsMCwwLDAuNzUpO1xuICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDNweCA1cHggMHB4IHJnYmEoMCwwLDAsMC43NSk7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAtMTVweDtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDQwcHg7XG4gICAgICAgIH1cbiAgICBgXSxcbiAgLy9UT0RPOiBbbmdDbGFzc10gaGVyZSBvbiBwdXJwb3NlLCBubyByZWFsIHVzZSwganVzdCB0byBzaG93IGhvdyB0byB3b3JrYXJvdW5kIG5nMiBpc3N1ZSAjNDMzMC5cbiAgLy8gUmVtb3ZlIHdoZW4gc29sdmVkLlxuICAvKiB0c2xpbnQ6ZGlzYWJsZSAqLyB0ZW1wbGF0ZTogYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWZsdWlkIGN1c3RvbS1tb2RhbC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgY3VzdG9tLW1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgxPkEgQ3VzdG9tIG1vZGFsIGRlc2lnbjwvaDE+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIiBbbmdDbGFzc109XCJ7J215Y2xhc3MnIDogc2hvdWxkVXNlTXlDbGFzc31cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqdW1ib3Ryb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5EbyB0aGUgbWF0aCB0byBxdWl0OjwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImxlYWRcIj5JIHJlY2VpdmVkIGFuIGluamVjdGlvbiBvZiB0aGUgbnVtYmVyIDxzdHJvbmc+e3tjb250ZXh0Lm51bTF9fTwvc3Ryb25nPiBhbmQgdGhlIG51bWJlciA8c3Ryb25nPnt7Y29udGV4dC5udW0yfX08L3N0cm9uZz48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5XaGF0IGlzIHRoZSBzdW0/PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbFwiIHR5cGU9XCJ0ZXh0XCIgI2Fuc3dlciAoa2V5dXApPVwib25LZXlVcChhbnN3ZXIudmFsdWUpXCIgYXV0b2ZvY3VzPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gXG59KVxuZXhwb3J0IGNsYXNzIEFkZGl0aW9uQ2FsY3VsYXRlV2luZG93IGltcGxlbWVudHMgTW9kYWxDb21wb25lbnQ8QWRkaXRpb25DYWxjdWxhdGVXaW5kb3dEYXRhPiB7XG4gIGNvbnRleHQ6IEFkZGl0aW9uQ2FsY3VsYXRlV2luZG93RGF0YTtcblxuICBwdWJsaWMgd3JvbmdBbnN3ZXI6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IocHVibGljIGRpYWxvZzogRGlhbG9nUmVmPEFkZGl0aW9uQ2FsY3VsYXRlV2luZG93RGF0YT4pIHtcbiAgICB0aGlzLmNvbnRleHQgPSBkaWFsb2cuY29udGV4dDtcbiAgICB0aGlzLndyb25nQW5zd2VyID0gdHJ1ZTtcbiAgfVxuXG4gIG9uS2V5VXAodmFsdWUpIHtcbiAgICB0aGlzLndyb25nQW5zd2VyID0gdmFsdWUgIT0gNTtcbiAgICB0aGlzLmRpYWxvZy5jbG9zZSgpO1xuICB9XG5cblxuICBiZWZvcmVEaXNtaXNzKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYmVmb3JlQ2xvc2UoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMud3JvbmdBbnN3ZXI7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2RlbW8vYXBwL2Jvb3RzdHJhcC1kZW1vL2Jvb3RzdHJhcC1kZW1vLXBhZ2UvY3VzdG9tLW1vZGFsLXNhbXBsZS50c1xuICoqLyIsImltcG9ydCB7IENvbXBvbmVudCwgVmlld0VuY2Fwc3VsYXRpb24sIFZpZXdDb250YWluZXJSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1vZGFsLCBCb290c3RyYXBNb2RhbE1vZHVsZSB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy9ib290c3RyYXAnO1xuXG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2Jvb3RzdHJhcC1kZW1vJyxcbiAgdGVtcGxhdGU6IGA8cm91dGVyLW91dGxldD48L3JvdXRlci1vdXRsZXQ+YCxcbiAgLy8gV2Ugb3ZlcnJpZGUgcHJvdmlkZXJzIHNldCBieSB0aGUgTW9kdWxlIHNpbmNlIHRoaXMgYXBwIGlzIHVzaW5nIG11bHRpcGxlIG1vZHVsZSBwbHVnaW5zXG4gIC8vIChqcy1uYXRpdmUsIHZleCwgYm9vdHN0cmFwKSB3aGljaCBtZXNzZXMgdXAgdGhlIHByb3ZpZGVyIHRyZWUgKGxhc3QgcGx1Z2luIHdpbnMpXG4gIC8vIHVzdWFsbHkgYW4gYXBwIHdpbGwgdXNlIG9uZSBwbHVnaW4gYW5kIHRoaXMgbGluZSBpcyBub3QgbmVlZGVkLlxuICBwcm92aWRlcnM6IEJvb3RzdHJhcE1vZGFsTW9kdWxlLmdldFByb3ZpZGVycygpLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIEJvb3RzdHJhcERlbW8ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbW9kYWw6IE1vZGFsLCB2aWV3Q29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmKSB7XG4gICAgLyoqXG4gICAgICogQSBEZWZhdWx0IHZpZXcgY29udGFpbmVyIHJlZiwgdXN1YWxseSB0aGUgYXBwIHJvb3QgY29udGFpbmVyIHJlZi5cbiAgICAgKiBIYXMgdG8gYmUgc2V0IG1hbnVhbGx5IHVudGlsIHdlIGNhbiBmaW5kIGEgd2F5IHRvIGdldCBpdCBhdXRvbWF0aWNhbGx5LlxuICAgICAqL1xuICAgIG1vZGFsLmRlZmF1bHRWaWV3Q29udGFpbmVyID0gdmlld0NvbnRhaW5lcjtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvYm9vdHN0cmFwLWRlbW8vYm9vdHN0cmFwLWRlbW8udHNcbiAqKi8iLCJpbXBvcnQgeyBDb21wb25lbnQsIFZpZXdFbmNhcHN1bGF0aW9uLCBWaWV3Q29udGFpbmVyUmVmLCBWaWV3Q2hpbGQsIFRlbXBsYXRlUmVmfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgSW5BcHBNb2RhbE1vZHVsZSwgTW9kYWwgfSBmcm9tICcuL2luLWFwcC1wbHVnaW4vaW5kZXgnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2hvbWUnLFxuICAgIHByb3ZpZGVyczogSW5BcHBNb2RhbE1vZHVsZS5nZXRQcm92aWRlcnMoKSxcbiAgICB0ZW1wbGF0ZVVybDogJ2RlbW8vYXBwL2hvbWUvaG9tZS50cGwuaHRtbCcsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBIb21lIHtcbiAgICBAVmlld0NoaWxkKCdpbmplY3RQb2ludCcsIHtyZWFkOiBWaWV3Q29udGFpbmVyUmVmfSkgcHJpdmF0ZSBpbmplY3RWQzogVmlld0NvbnRhaW5lclJlZjtcbiAgICBAVmlld0NoaWxkKCdteVRlbXBsYXRlJywge3JlYWQ6IFRlbXBsYXRlUmVmfSkgcHJpdmF0ZSBteVRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBtb2RhbDogTW9kYWwpIHt9XG5cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMubW9kYWwuYWxlcnQoKVxuICAgICAgICAgICAgLnRpdGxlKCdBbmd1bGFyIDIgTW9kYWwnKVxuICAgICAgICAgICAgLnRlbXBsYXRlUmVmKHRoaXMubXlUZW1wbGF0ZSlcbiAgICAgICAgICAgIC5vcGVuKHRoaXMuaW5qZWN0VkMpO1xuXG4gICAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvaG9tZS9ob21lLnRzXG4gKiovIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi9tb2RhbCc7XG5pbXBvcnQgeyBJbkFwcE1vZGFsQmFja2Ryb3AgfSBmcm9tICcuL21vZGFsLWJhY2tkcm9wJztcbmltcG9ydCB7IEluQXBwTW9kYWxDb250ZXh0QnVpbGRlciB9IGZyb20gJy4vbW9kYWwtY29udGV4dCc7XG5cbmltcG9ydCB7XG4gIE1vZGFsIGFzIEJhc2VNb2RhbCxcbiAgTW9kYWxCYWNrZHJvcENvbXBvbmVudCxcbiAgTW9kYWxEcm9wSW5GYWN0b3J5XG59IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuXG5cbmV4cG9ydCB7IE1vZGFsIH0gZnJvbSAnLi9tb2RhbCc7XG5leHBvcnQgeyBJbkFwcE1vZGFsQ29udGV4dCwgSW5BcHBNb2RhbENvbnRleHRCdWlsZGVyIH0gZnJvbSAnLi9tb2RhbC1jb250ZXh0JztcblxuZnVuY3Rpb24gZ2V0UHJvdmlkZXJzKCk6IGFueVtdIHtcbiAgcmV0dXJuIFtcbiAgICB7IHByb3ZpZGU6IEJhc2VNb2RhbCwgdXNlQ2xhc3M6IE1vZGFsIH0sXG4gICAgeyBwcm92aWRlOiBNb2RhbCwgdXNlQ2xhc3M6IE1vZGFsIH0sXG4gICAgeyBwcm92aWRlOiBNb2RhbEJhY2tkcm9wQ29tcG9uZW50LCB1c2VWYWx1ZTogSW5BcHBNb2RhbEJhY2tkcm9wIH0sXG4gICAgeyBwcm92aWRlOiBNb2RhbERyb3BJbkZhY3RvcnksIHVzZVZhbHVlOiB7XG4gICAgICBhbGVydDogbW9kYWwgPT4gbmV3IEluQXBwTW9kYWxDb250ZXh0QnVpbGRlcihtb2RhbCksXG4gICAgICBwcm9tcHQ6IHVuZGVmaW5lZCxcbiAgICAgIGNvbmZpcm06IHVuZGVmaW5lZFxuICAgIH19XG4gIF07XG59XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtDb21tb25Nb2R1bGVdLFxuICBkZWNsYXJhdGlvbnM6IFtcbiAgICBJbkFwcE1vZGFsQmFja2Ryb3BcbiAgXSxcbiAgcHJvdmlkZXJzOiBnZXRQcm92aWRlcnMoKSxcbiAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgSW5BcHBNb2RhbEJhY2tkcm9wXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgSW5BcHBNb2RhbE1vZHVsZSB7XG4gIHN0YXRpYyBnZXRQcm92aWRlcnMoKTogYW55W10ge1xuICAgIHJldHVybiBnZXRQcm92aWRlcnMoKTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvaG9tZS9pbi1hcHAtcGx1Z2luL2luZGV4LnRzXG4gKiovIiwiaW1wb3J0IHsgVGVtcGxhdGVSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gICAgTW9kYWwsXG4gICAgTW9kYWxPcGVuQ29udGV4dEJ1aWxkZXIsIFxuICAgIE1vZGFsT3BlbkNvbnRleHQsXG4gICAgRmx1ZW50QXNzaWduTWV0aG9kXG59IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuXG5cbmV4cG9ydCBjbGFzcyBJbkFwcE1vZGFsQ29udGV4dCBleHRlbmRzIE1vZGFsT3BlbkNvbnRleHQge1xuICAgIFxuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgdGVtcGxhdGVSZWY6IFRlbXBsYXRlUmVmPGFueT47XG4gICAgbm9ybWFsaXplKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMubWVzc2FnZSkgdGhpcy5tZXNzYWdlID0gJyc7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBJbkFwcE1vZGFsQ29udGV4dEJ1aWxkZXIgZXh0ZW5kcyBNb2RhbE9wZW5Db250ZXh0QnVpbGRlcjxJbkFwcE1vZGFsQ29udGV4dD4ge1xuICAgIHRpdGxlOiBGbHVlbnRBc3NpZ25NZXRob2Q8c3RyaW5nLCB0aGlzPjtcbiAgICB0ZW1wbGF0ZVJlZjogRmx1ZW50QXNzaWduTWV0aG9kPFRlbXBsYXRlUmVmPGFueT4sIHRoaXM+O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG1vZGFsOiBNb2RhbFxuICAgICkge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIDxhbnk+eyBtb2RhbCB9LFxuICAgICAgICAgICAgWyd0aXRsZScsICd0ZW1wbGF0ZVJlZiddLFxuICAgICAgICAgICAgPGFueT5JbkFwcE1vZGFsQ29udGV4dCBcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNzIzNFxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvaG9tZS9pbi1hcHAtcGx1Z2luL21vZGFsLWNvbnRleHQudHNcbiAqKi8iLCJpbXBvcnQgeyBDb21wb25lbnQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IE1vZGFsLCBKU05hdGl2ZU1vZGFsTW9kdWxlIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2pzLW5hdGl2ZSc7XG5pbXBvcnQgeyBNb2RhbENvbW1hbmREZXNjcmlwdG9yIH0gZnJvbSAnLi4vZGVtby1oZWFkL2luZGV4JztcbmltcG9ydCAqIGFzIHByZXNldHMgZnJvbSAnLi9wcmVzZXRzJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdqcy1uYXRpdmUtZGVtbycsXG4gICAgdGVtcGxhdGVVcmw6ICdkZW1vL2FwcC9qcy1uYXRpdmUtZGVtby9qcy1uYXRpdmUtZGVtby50cGwuaHRtbCcsXG4gICAgLy8gV2Ugb3ZlcnJpZGUgcHJvdmlkZXJzIHNldCBieSB0aGUgTW9kdWxlIHNpbmNlIHRoaXMgYXBwIGlzIHVzaW5nIG11bHRpcGxlIG1vZHVsZSBwbHVnaW5zXG4gICAgLy8gKGpzLW5hdGl2ZSwgdmV4LCBib290c3RyYXApIHdoaWNoIG1lc3NlcyB1cCB0aGUgcHJvdmlkZXIgdHJlZSAobGFzdCBwbHVnaW4gd2lucylcbiAgICAvLyB1c3VhbGx5IGFuIGFwcCB3aWxsIHVzZSBvbmUgcGx1Z2luIGFuZCB0aGlzIGxpbmUgaXMgbm90IG5lZWRlZC5cbiAgICBwcm92aWRlcnM6IEpTTmF0aXZlTW9kYWxNb2R1bGUuZ2V0UHJvdmlkZXJzKCksXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBKU05hdGl2ZURlbW8ge1xuICAgIHB1YmxpYyBtb2RhbENvbW1hbmRzOiBNb2RhbENvbW1hbmREZXNjcmlwdG9yW107XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbW9kYWw6IE1vZGFsKSB7XG4gICAgICAgIHRoaXMubW9kYWxDb21tYW5kcyA9IFsnYWxlcnQnLCAncHJvbXB0JywgJ2NvbmZpcm0nXS5tYXAoZHJvcGluID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGV4dDogYCR7ZHJvcGlufSBkcm9wIGluYCxcbiAgICAgICAgICAgICAgICBmYWN0b3J5OiAoKSA9PiBwcmVzZXRzW2Ryb3Bpbl0odGhpcy5tb2RhbCkub3BlbigpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9kZW1vL2FwcC9qcy1uYXRpdmUtZGVtby9qcy1uYXRpdmUtZGVtby50c1xuICoqLyIsImltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgVmlld0VuY2Fwc3VsYXRpb25cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IE1vZGFsQ29tcG9uZW50LCBEaWFsb2dSZWYgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsJztcblxuaW1wb3J0IHtcbiAgRGlhbG9nUHJlc2V0XG59IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy92ZXgvaW5kZXgnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsb2dpbi1kaWFsb2cnLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9XCJ2ZXgtZGlhbG9nLW1lc3NhZ2VcIj57e2NvbnRleHQubWVzc2FnZX19PC9kaXY+XG4gICAgPGRpdiAqbmdJZj1cImNvbnRleHQuc2hvd0lucHV0XCIgY2xhc3M9XCJ2ZXgtZGlhbG9nLWlucHV0XCI+XG4gICAgICAgIDxpbnB1dCBuYW1lPVwidmV4XCIgXG4gICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIFxuICAgICAgICAgICAgICAgY2xhc3M9XCJ2ZXgtZGlhbG9nLXByb21wdC1pbnB1dFwiXG4gICAgICAgICAgICAgICBbKG5nTW9kZWwpXT1cImNvbnRleHQuZGVmYXVsdFJlc3VsdFwiIFxuICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ7e2NvbnRleHQucGxhY2Vob2xkZXJ9fVwiPlxuICAgIDwvZGl2PmBcbn0pXG5cbmV4cG9ydCBjbGFzcyBMb2dpbkRpYWxvZyBpbXBsZW1lbnRzIE1vZGFsQ29tcG9uZW50PERpYWxvZ1ByZXNldD4ge1xuICBwcml2YXRlIGNvbnRleHQ6IERpYWxvZ1ByZXNldDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZGlhbG9nOiBEaWFsb2dSZWY8RGlhbG9nUHJlc2V0Pikge1xuICAgIHRoaXMuY29udGV4dCA9IGRpYWxvZy5jb250ZXh0O1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9kZW1vL2FwcC92ZXgtZGVtby9sb2dpbi1kaWFsb2cudHNcbiAqKi8iLCJpbXBvcnQgeyBDb21wb25lbnQsIFZpZXdFbmNhcHN1bGF0aW9uLCBWaWV3Q29udGFpbmVyUmVmLCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHtcbiAgVkVYQnVpbHRJblRoZW1lcyxcbiAgTW9kYWwsXG4gIERpYWxvZ1ByZXNldCxcbiAgRGlhbG9nRm9ybU1vZGFsLFxuICBEaWFsb2dQcmVzZXRCdWlsZGVyLFxuICBWZXhNb2RhbE1vZHVsZVxufSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvdmV4JztcblxuaW1wb3J0IHsgRGVtb0hlYWQsIE1vZGFsQ29tbWFuZERlc2NyaXB0b3IgfSBmcm9tICcuLi9kZW1vLWhlYWQvaW5kZXgnO1xuaW1wb3J0ICogYXMgcHJlc2V0cyBmcm9tICcuL3ByZXNldHMnO1xuaW1wb3J0IHsgTG9naW5EaWFsb2cgfSBmcm9tICcuL2xvZ2luLWRpYWxvZyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3ZleC1kZW1vJyxcbiAgc3R5bGVVcmxzOiBbXG4gICAgJ2RlbW8vYXBwL3ZleC1kZW1vLy9jc3MvdmV4LmNzcycsXG4gICAgJ2RlbW8vYXBwL3ZleC1kZW1vLy9jc3MvdmV4LXRoZW1lLWRlZmF1bHQuY3NzJyxcbiAgICAnZGVtby9hcHAvdmV4LWRlbW8vL2Nzcy92ZXgtdGhlbWUtb3MuY3NzJyxcbiAgICAnZGVtby9hcHAvdmV4LWRlbW8vL2Nzcy92ZXgtdGhlbWUtcGxhaW4uY3NzJyxcbiAgICAnZGVtby9hcHAvdmV4LWRlbW8vL2Nzcy92ZXgtdGhlbWUtd2lyZWZyYW1lLmNzcycsXG4gICAgJ2RlbW8vYXBwL3ZleC1kZW1vLy9jc3MvdmV4LXRoZW1lLWZsYXQtYXR0YWNrLmNzcycsXG4gICAgJ2RlbW8vYXBwL3ZleC1kZW1vLy9jc3MvdmV4LXRoZW1lLXRvcC5jc3MnLFxuICAgICdkZW1vL2FwcC92ZXgtZGVtby8vY3NzL3ZleC10aGVtZS1ib3R0b20tcmlnaHQtY29ybmVyLmNzcydcbiAgXSxcbiAgdGVtcGxhdGVVcmw6ICdkZW1vL2FwcC92ZXgtZGVtby92ZXgtZGVtby50cGwuaHRtbCcsXG4gIC8vIFdlIG92ZXJyaWRlIHByb3ZpZGVycyBzZXQgYnkgdGhlIE1vZHVsZSBzaW5jZSB0aGlzIGFwcCBpcyB1c2luZyBtdWx0aXBsZSBtb2R1bGUgcGx1Z2luc1xuICAvLyAoanMtbmF0aXZlLCB2ZXgsIGJvb3RzdHJhcCkgd2hpY2ggbWVzc2VzIHVwIHRoZSBwcm92aWRlciB0cmVlIChsYXN0IHBsdWdpbiB3aW5zKVxuICAvLyB1c3VhbGx5IGFuIGFwcCB3aWxsIHVzZSBvbmUgcGx1Z2luIGFuZCB0aGlzIGxpbmUgaXMgbm90IG5lZWRlZC5cbiAgcHJvdmlkZXJzOiBWZXhNb2RhbE1vZHVsZS5nZXRQcm92aWRlcnMoKSxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBWZXhEZW1vIHtcbiAgbW9kYWxDb21tYW5kczogTW9kYWxDb21tYW5kRGVzY3JpcHRvcltdO1xuICB0aGVtZTogVkVYQnVpbHRJblRoZW1lcyA9IDxWRVhCdWlsdEluVGhlbWVzPidkZWZhdWx0JztcbiAgQFZpZXdDaGlsZChEZW1vSGVhZCkgcHJpdmF0ZSBkZW1vSGVhZDogRGVtb0hlYWQ7XG5cbiAgY29uc3RydWN0b3IocHVibGljIG1vZGFsOiBNb2RhbCwgdmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZikge1xuICAgIC8qKlxuICAgICAqIEEgRGVmYXVsdCB2aWV3IGNvbnRhaW5lciByZWYsIHVzdWFsbHkgdGhlIGFwcCByb290IGNvbnRhaW5lciByZWYuXG4gICAgICogSGFzIHRvIGJlIHNldCBtYW51YWxseSB1bnRpbCB3ZSBjYW4gZmluZCBhIHdheSB0byBnZXQgaXQgYXV0b21hdGljYWxseS5cbiAgICAgKi9cbiAgICB0aGlzLm1vZGFsLmRlZmF1bHRWaWV3Q29udGFpbmVyID0gdmlld0NvbnRhaW5lcjtcblxuICAgIHRoaXMubW9kYWxDb21tYW5kcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdGV4dDogJ2FsZXJ0IGRyb3AgaW4nLFxuICAgICAgICBmYWN0b3J5OiAoKSA9PiBwcmVzZXRzLmFsZXJ0LmNhbGwodGhpcywgdGhpcy5tb2RhbCkub3BlbigpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAncHJvbXB0IGRyb3AgaW4nLFxuICAgICAgICBmYWN0b3J5OiAoKSA9PiBwcmVzZXRzLnByb21wdC5jYWxsKHRoaXMsIHRoaXMubW9kYWwpLm9wZW4oKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogJ2NvbmZpcm0gZHJvcCBpbicsXG4gICAgICAgIGZhY3Rvcnk6ICgpID0+IHByZXNldHMuY29uZmlybS5jYWxsKHRoaXMsIHRoaXMubW9kYWwpLm9wZW4oKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogJ0Nhc2NhZGluZyBleGFtcGxlJyxcbiAgICAgICAgZmFjdG9yeTogKCkgPT4gcHJlc2V0cy5jYXNjYWRpbmcuY2FsbCh0aGlzLCB0aGlzLm1vZGFsKS5vcGVuKClcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdJbiBFbGVtZW50IGV4YW1wbGUnLFxuICAgICAgICBmYWN0b3J5OiAoKSA9PiBwcmVzZXRzLmFsZXJ0LmNhbGwodGhpcywgdGhpcy5tb2RhbCkub3Blbih0aGlzLmRlbW9IZWFkLnZjQ29tbWFuZHMpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAnQ3VzdG9tIE1vZGFsIGV4YW1wbGUnLFxuICAgICAgICBmYWN0b3J5OiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBEaWFsb2dQcmVzZXRCdWlsZGVyPERpYWxvZ1ByZXNldD4odGhpcy5tb2RhbClcbiAgICAgICAgICAgIC5jbGFzc05hbWUodGhpcy50aGVtZSlcbiAgICAgICAgICAgIC5jb250ZW50KExvZ2luRGlhbG9nKVxuICAgICAgICAgICAgLm1lc3NhZ2UoJ0FyeSB5b3UgY29taW5nIHRvIHRoZSBldmVudD8nKVxuICAgICAgICAgICAgLmFkZE9rQnV0dG9uKCdZZXAhJylcbiAgICAgICAgICAgIC5hZGRCdXR0b24oXG4gICAgICAgICAgICAgICd2ZXgtZGlhbG9nLWJ1dHRvbi1wcmltYXJ5IHZleC1kaWFsb2ctYnV0dG9uJyxcbiAgICAgICAgICAgICAgJ01heWJlPycsXG4gICAgICAgICAgICAgIChjbXA6IERpYWxvZ0Zvcm1Nb2RhbCwgJGV2ZW50OiBNb3VzZUV2ZW50KSA9PiBjbXAuZGlhbG9nLmNsb3NlKCdNYXliZScpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuYWRkQ2FuY2VsQnV0dG9uKCdOb3BlIScpXG4gICAgICAgICAgICAub3BlbigpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAnbm8gYnV0dG9ucycsXG4gICAgICAgIGZhY3Rvcnk6ICgpID0+IHByZXNldHMubm9CdXR0b25zLmNhbGwodGhpcywgdGhpcy5tb2RhbCkub3BlbigpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAnY3VzdG9tIGJ1dHRvbnMnLFxuICAgICAgICBmYWN0b3J5OiAoKSA9PiBwcmVzZXRzLmN1c3RvbUJ1dHRvbnMuY2FsbCh0aGlzLCB0aGlzLm1vZGFsKS5vcGVuKClcbiAgICAgIH1cbiAgICBdO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9kZW1vL2FwcC92ZXgtZGVtby92ZXgtZGVtby50c1xuICoqLyIsImltcG9ydCB7IE5nTW9kdWxlLCBNb2R1bGVXaXRoUHJvdmlkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IEVWRU5UX01BTkFHRVJfUExVR0lOUyB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuXG5pbXBvcnQgeyBET01PdXRzaWRlRXZlbnRQbHVnaW4gfSBmcm9tICcuL3Byb3ZpZGVycy9pbmRleCc7XG5pbXBvcnQgeyBNb2RhbFJlbmRlcmVyIH0gZnJvbSAnLi9tb2RlbHMvdG9rZW5zJztcbmltcG9ydCB7IERPTU1vZGFsUmVuZGVyZXIgfSBmcm9tICcuL3Byb3ZpZGVycy9kb20tbW9kYWwtcmVuZGVyZXInO1xuXG5ATmdNb2R1bGUoe1xufSlcbmV4cG9ydCBjbGFzcyBNb2RhbE1vZHVsZSB7XG4gIHN0YXRpYyBmb3JSb290KCk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgIHJldHVybiB7XG4gICAgICBuZ01vZHVsZTogTW9kYWxNb2R1bGUsXG4gICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgeyBwcm92aWRlOiBNb2RhbFJlbmRlcmVyLCB1c2VDbGFzczogRE9NTW9kYWxSZW5kZXJlciB9LFxuICAgICAgICB7IHByb3ZpZGU6IEVWRU5UX01BTkFHRVJfUExVR0lOUywgdXNlQ2xhc3M6IERPTU91dHNpZGVFdmVudFBsdWdpbiwgbXVsdGk6IHRydWUgfSxcbiAgICAgIF1cbiAgICB9O1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL2FuZ3VsYXIyLW1vZGFsLm1vZHVsZS50c1xuICoqLyIsImltcG9ydCB7IERpYWxvZ1JlZiB9IGZyb20gJy4vZGlhbG9nLXJlZic7XG5cbi8qKlxuICogQSBkdW1iIHN0YWNrIGltcGxlbWVudGF0aW9uIG92ZXIgYW4gYXJyYXkuXG4gKi9cbmV4cG9ydCBjbGFzcyBEaWFsb2dSZWZTdGFjazxUPiB7XG4gICAgcHJpdmF0ZSBfc3RhY2s6IERpYWxvZ1JlZjxUPltdID0gW107XG5cblxuICAgIHB1c2goZGlhbG9nUmVmOiBEaWFsb2dSZWY8VD4pOiB2b2lkIHtcbiAgICAgICAgbGV0IGlkeCA9IHRoaXMuX3N0YWNrLmluZGV4T2YoZGlhbG9nUmVmKTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHRoaXMuX3N0YWNrLnB1c2goZGlhbG9nUmVmKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdXNoIGEgRGlhbG9nUmVmIGludG8gdGhlIHN0YWNrIGFuZCBtYW5hZ2UgaXQgc28gd2hlbiBpdCdzIGRvbmVcbiAgICAgKiBpdCB3aWxsIGF1dG9tYXRpY2FsbHkga2ljayBpdHNlbGYgb3V0IG9mIHRoZSBzdGFjay5cbiAgICAgKiBAcGFyYW0gZGlhbG9nUmVmXG4gICAgICovXG4gICAgcHVzaE1hbmFnZWQoZGlhbG9nUmVmOiBEaWFsb2dSZWY8VD4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wdXNoKGRpYWxvZ1JlZik7XG4gICAgfVxuXG4gICAgcG9wKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9zdGFjay5wb3AoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBEaWFsb2dSZWYgZnJvbSB0aGUgc3RhY2suXG4gICAgICogQHBhcmFtIGRpYWxvZ1JlZlxuICAgICAqL1xuICAgIHJlbW92ZShkaWFsb2dSZWY6IERpYWxvZ1JlZjxUPik6IHZvaWQge1xuICAgICAgICBsZXQgaWR4ID0gdGhpcy5fc3RhY2suaW5kZXhPZihkaWFsb2dSZWYpO1xuICAgICAgICBpZiAoaWR4ID4gLTEpIHRoaXMuX3N0YWNrLnNwbGljZShpZHgsIDEpO1xuICAgIH1cblxuXG4gICAgaW5kZXgoaW5kZXg6IG51bWJlcik6IERpYWxvZ1JlZjxUPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFja1tpbmRleF07XG4gICAgfVxuXG4gICAgaW5kZXhPZihkaWFsb2dSZWY6IERpYWxvZ1JlZjxUPik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFjay5pbmRleE9mKGRpYWxvZ1JlZik7XG4gICAgfVxuXG4gICAgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhY2subGVuZ3RoO1xuICAgIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvbW9kZWxzL2RpYWxvZy1yZWYtc3RhY2sudHNcbiAqKi8iLCJpbXBvcnQgeyBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlciwgVmlld0NvbnRhaW5lclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBGbHVlbnRBc3NpZ25NZXRob2QgfSBmcm9tICcuLi9mcmFtZXdvcmsvZmx1ZW50LWFzc2lnbic7XG5pbXBvcnQgeyBNb2RhbENvbXBvbmVudCB9IGZyb20gJy4vdG9rZW5zJztcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi4vcHJvdmlkZXJzL2luZGV4JztcbmltcG9ydCB7IERpYWxvZ1JlZiB9IGZyb20gJy4vZGlhbG9nLXJlZic7XG5pbXBvcnQgeyBNb2RhbENvbnRleHQsIE1vZGFsQ29udGV4dEJ1aWxkZXIsIE1vZGFsQ29udHJvbGxpbmdDb250ZXh0QnVpbGRlciB9IGZyb20gJy4vbW9kYWwtY29udGV4dCc7XG5pbXBvcnQgeyBhcnJheVVuaW9uIH0gZnJvbSAnLi4vZnJhbWV3b3JrL3V0aWxzJztcblxuY29uc3QgREVGQVVMVF9TRVRURVJTID0gW1xuICAgICdjb21wb25lbnQnXG5dO1xuXG5leHBvcnQgY2xhc3MgTW9kYWxPcGVuQ29udGV4dCBleHRlbmRzIE1vZGFsQ29udGV4dCB7XG4gICAgY29tcG9uZW50OiBhbnk7XG4gICAgbW9kYWw6IE1vZGFsO1xufVxuXG4vKipcbiAqIEEgTW9kYWwgQ29udGV4dCB0aGF0IGtub3dzIGFib3V0IHRoZSBtb2RhbCBzZXJ2aWNlLCBhbmQgc28gY2FuIG9wZW4gYSBtb2RhbCB3aW5kb3cgb24gZGVtYW5kLlxuICogVXNlIHRoZSBmbHVlbnQgQVBJIHRvIGNvbmZpZ3VyZSB0aGUgcHJlc2V0IGFuZCB0aGVuIGludm9rZSB0aGUgJ29wZW4nIG1ldGhvZCB0byBvcGVuIGEgbW9kYWxcbiAqIGJhc2VkIG9uIHRoZSBjb250ZXh0LlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTW9kYWxPcGVuQ29udGV4dEJ1aWxkZXI8VCBleHRlbmRzIE1vZGFsT3BlbkNvbnRleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kcyBNb2RhbENvbnRleHRCdWlsZGVyPFQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wbGVtZW50cyBNb2RhbENvbnRyb2xsaW5nQ29udGV4dEJ1aWxkZXI8VD4ge1xuXG4gICAgLyoqXG4gICAgICogQSBDbGFzcyBmb3IgdGhlIGZvb3RlciBjb250YWluZXIuXG4gICAgICogRGVmYXVsdDogbW9kYWwtZm9vdGVyXG4gICAgICovXG4gICAgY29tcG9uZW50OiBGbHVlbnRBc3NpZ25NZXRob2Q8TW9kYWxDb21wb25lbnQ8VD4sIHRoaXM+O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGRlZmF1bHRWYWx1ZXM6IFQgPSB1bmRlZmluZWQsXG4gICAgICAgIGluaXRpYWxTZXR0ZXJzOiBzdHJpbmdbXSA9IHVuZGVmaW5lZCxcbiAgICAgICAgYmFzZVR5cGU6IG5ldyAoKSA9PiBUID0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlcyB8fCA8YW55Pnt9LFxuICAgICAgICAgICAgYXJyYXlVbmlvbjxzdHJpbmc+KERFRkFVTFRfU0VUVEVSUywgaW5pdGlhbFNldHRlcnMgfHwgW10pLFxuICAgICAgICAgICAgYmFzZVR5cGVcbiAgICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogSG9vayB0byBhbHRlciBjb25maWcgYW5kIHJldHVybiBiaW5kaW5ncy5cbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICovXG4gICAgcHJvdGVjdGVkICQkYmVmb3JlT3Blbihjb25maWc6IFQpOiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcltdIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH0gXG4gICAgXG4gICAgLyoqXG4gICAgICogT3BlbiBhIG1vZGFsIHdpbmRvdyBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGlzIGNvbmZpZyBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gdmlld0NvbnRhaW5lciBJZiBzZXQgb3BlbnMgdGhlIG1vZGFsIGluc2lkZSB0aGUgc3VwcGxpZWQgdmlld0NvbnRhaW5lclxuICAgICAqIEByZXR1cm5zIFByb21pc2U8RGlhbG9nUmVmPlxuICAgICAqL1xuICAgIG9wZW4odmlld0NvbnRhaW5lcj86IFZpZXdDb250YWluZXJSZWYpOiBQcm9taXNlPERpYWxvZ1JlZjxUPj4ge1xuICAgICAgICBsZXQgY29uZmlnOiBUID0gdGhpcy50b0pTT04oKTtcblxuICAgICAgICBpZiAoISAoY29uZmlnLm1vZGFsIGluc3RhbmNlb2YgTW9kYWwpICkge1xuICAgICAgICAgICAgcmV0dXJuIDxhbnk+UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdDb25maWd1cmF0aW9uIEVycm9yOiBtb2RhbCBzZXJ2aWNlIG5vdCBzZXQuJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJpbmRpbmdzID0gdHlwZW9mIHRoaXMuJCRiZWZvcmVPcGVuID09PSAnZnVuY3Rpb24nICYmIHRoaXMuJCRiZWZvcmVPcGVuKGNvbmZpZyk7XG4gICAgICAgIHJldHVybiBjb25maWcubW9kYWwub3Blbihjb25maWcuY29tcG9uZW50LCBjb25maWcsIGJpbmRpbmdzLCB2aWV3Q29udGFpbmVyKTtcbiAgICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL21vZGVscy9tb2RhbC1vcGVuLWNvbnRleHQudHNcbiAqKi8iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuaW1wb3J0IHsgTW9kYWwgfSBmcm9tICcuL21vZGFsJztcbmltcG9ydCB7IEJTTW9kYWxCYWNrZHJvcCB9IGZyb20gJy4vbW9kYWwtYmFja2Ryb3AnO1xuaW1wb3J0IHsgQlNNZXNzYWdlTW9kYWwgfSBmcm9tICcuL21lc3NhZ2UtbW9kYWwnO1xuaW1wb3J0IHsgQlNNb2RhbENvbnRhaW5lciB9IGZyb20gJy4vbW9kYWwtY29udGFpbmVyJztcbmltcG9ydCB7IEJTTW9kYWxGb290ZXIgfSBmcm9tICcuL21vZGFsLWZvb3Rlcic7XG5cblxuaW1wb3J0IHsgT25lQnV0dG9uUHJlc2V0QnVpbGRlciB9IGZyb20gJy4vcHJlc2V0cy9vbmUtYnV0dG9uLXByZXNldCc7XG5pbXBvcnQgeyBUd29CdXR0b25QcmVzZXRCdWlsZGVyIH0gZnJvbSAnLi9wcmVzZXRzL3R3by1idXR0b24tcHJlc2V0JztcblxuaW1wb3J0IHtcbiAgTW9kYWwgYXMgQmFzZU1vZGFsLFxuICBNb2RhbEJhY2tkcm9wQ29tcG9uZW50LFxuICBNb2RhbERyb3BJbkZhY3Rvcnlcbn0gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbCc7XG5cbmZ1bmN0aW9uIGdldFByb3ZpZGVycygpOiBhbnlbXSB7XG4gIHJldHVybiBbXG4gICAgeyBwcm92aWRlOiBCYXNlTW9kYWwsIHVzZUNsYXNzOiBNb2RhbCB9LFxuICAgIHsgcHJvdmlkZTogTW9kYWwsIHVzZUNsYXNzOiBNb2RhbCB9LFxuICAgIHsgcHJvdmlkZTogTW9kYWxCYWNrZHJvcENvbXBvbmVudCwgdXNlVmFsdWU6IEJTTW9kYWxCYWNrZHJvcCB9LFxuICAgIHsgcHJvdmlkZTogTW9kYWxEcm9wSW5GYWN0b3J5LCB1c2VWYWx1ZToge1xuICAgICAgYWxlcnQ6IG1vZGFsID0+IG5ldyBPbmVCdXR0b25QcmVzZXRCdWlsZGVyKG1vZGFsLCA8YW55Pntpc0Jsb2NraW5nOiBmYWxzZX0pLFxuICAgICAgcHJvbXB0OiBtb2RhbCA9PiBuZXcgT25lQnV0dG9uUHJlc2V0QnVpbGRlcihtb2RhbCwgPGFueT57aXNCbG9ja2luZzogdHJ1ZSwga2V5Ym9hcmQ6IG51bGx9KSxcbiAgICAgIGNvbmZpcm06IG1vZGFsID0+IG5ldyBUd29CdXR0b25QcmVzZXRCdWlsZGVyKG1vZGFsLCA8YW55Pntpc0Jsb2NraW5nOiB0cnVlLCBrZXlib2FyZDogbnVsbH0pXG4gICAgfX1cbiAgXTtcbn1cblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogWyBDb21tb25Nb2R1bGUgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgQlNNb2RhbEJhY2tkcm9wLFxuICAgIEJTTWVzc2FnZU1vZGFsLFxuICAgIEJTTW9kYWxDb250YWluZXIsXG4gICAgQlNNb2RhbEZvb3RlclxuICBdLFxuICBwcm92aWRlcnM6IGdldFByb3ZpZGVycygpLFxuICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICBCU01vZGFsQmFja2Ryb3AsXG4gICAgQlNNZXNzYWdlTW9kYWxcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBCb290c3RyYXBNb2RhbE1vZHVsZSB7XG4gIHN0YXRpYyBnZXRQcm92aWRlcnMoKTogYW55W10ge1xuICAgIHJldHVybiBnZXRQcm92aWRlcnMoKTtcbiAgfVxufVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvYm9vdHN0cmFwL2Jvb3RzdHJhcC5tb2R1bGUudHNcbiAqKi8iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJy4vbW9kYWwnO1xuaW1wb3J0IHsgSlNOYXRpdmVNb2RhbFJlbmRlcmVyIH0gZnJvbSAnLi9qcy1uYXRpdmUtbW9kYWwtcmVuZGVyZXInO1xuaW1wb3J0IHsgSlNOYXRpdmVQcmVzZXRCdWlsZGVyIH0gZnJvbSAnLi9wcmVzZXRzL2pzLW5hdGl2ZS1wcmVzZXQnO1xuXG5pbXBvcnQge1xuICBNb2RhbCBhcyBCYXNlTW9kYWwsXG4gIE1vZGFsQmFja2Ryb3BDb21wb25lbnQsXG4gIE1vZGFsRHJvcEluRmFjdG9yeSxcbiAgTW9kYWxSZW5kZXJlcixcbiAgRFJPUF9JTl9UWVBFXG59IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuXG5mdW5jdGlvbiBnZXRQcm92aWRlcnMoKTogYW55W10ge1xuICByZXR1cm4gW1xuICAgIHsgcHJvdmlkZTogQmFzZU1vZGFsLCB1c2VDbGFzczogTW9kYWwgfSxcbiAgICB7IHByb3ZpZGU6IE1vZGFsLCB1c2VDbGFzczogTW9kYWwgfSxcbiAgICB7IHByb3ZpZGU6IE1vZGFsUmVuZGVyZXIsIHVzZUNsYXNzOiBKU05hdGl2ZU1vZGFsUmVuZGVyZXIgfSxcbiAgICB7IHByb3ZpZGU6IE1vZGFsQmFja2Ryb3BDb21wb25lbnQsIHVzZVZhbHVlOiB7fSB9LFxuICAgIHsgcHJvdmlkZTogTW9kYWxEcm9wSW5GYWN0b3J5LCB1c2VWYWx1ZToge1xuICAgICAgYWxlcnQ6IG1vZGFsID0+IG5ldyBKU05hdGl2ZVByZXNldEJ1aWxkZXIobW9kYWwsIERST1BfSU5fVFlQRS5hbGVydCksXG4gICAgICBwcm9tcHQ6IG1vZGFsID0+IG5ldyBKU05hdGl2ZVByZXNldEJ1aWxkZXIobW9kYWwsIERST1BfSU5fVFlQRS5wcm9tcHQpLFxuICAgICAgY29uZmlybTogbW9kYWwgPT4gbmV3IEpTTmF0aXZlUHJlc2V0QnVpbGRlcihtb2RhbCwgRFJPUF9JTl9UWVBFLmNvbmZpcm0pXG4gICAgfX1cbiAgXTtcbn1cblxuQE5nTW9kdWxlKHtcbiAgcHJvdmlkZXJzOiBnZXRQcm92aWRlcnMoKVxufSlcbmV4cG9ydCBjbGFzcyBKU05hdGl2ZU1vZGFsTW9kdWxlIHtcblxuICBzdGF0aWMgZ2V0UHJvdmlkZXJzKCk6IGFueVtdIHtcbiAgICByZXR1cm4gZ2V0UHJvdmlkZXJzKCk7XG4gIH1cblxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2pzLW5hdGl2ZS9qcy1uYXRpdmUubW9kdWxlLnRzXG4gKiovIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi9tb2RhbCc7XG5cbmltcG9ydCB7XG4gIE1vZGFsIGFzIEJhc2VNb2RhbCxcbiAgTW9kYWxCYWNrZHJvcENvbXBvbmVudCxcbiAgTW9kYWxEcm9wSW5GYWN0b3J5LFxuICBEUk9QX0lOX1RZUEUgYXMgRElUeXBlXG59IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuXG5cbmltcG9ydCB7IERyb3BJblByZXNldEJ1aWxkZXIgYXMgQnVpbGRlciB9IGZyb20gJy4vcHJlc2V0cy9kcm9waW4tcHJlc2V0JztcbmltcG9ydCB7IFZleE1vZGFsQmFja2Ryb3AgfSBmcm9tICcuL21vZGFsLWJhY2tkcm9wJztcbmltcG9ydCB7IFZleE1vZGFsQ29udGVudCB9IGZyb20gJy4vbW9kYWwtY29udGVudCc7XG5pbXBvcnQgeyBEaWFsb2dGb3JtTW9kYWwsIEZvcm1Ecm9wSW4sIFZFWERpYWxvZ0J1dHRvbnMgfSBmcm9tICcuL2RpYWxvZy1mb3JtLW1vZGFsJztcblxuZnVuY3Rpb24gZ2V0UHJvdmlkZXJzKCk6IGFueVtdIHtcbiAgcmV0dXJuIFtcbiAgICB7IHByb3ZpZGU6IEJhc2VNb2RhbCwgdXNlQ2xhc3M6IE1vZGFsIH0sXG4gICAgeyBwcm92aWRlOiBNb2RhbCwgdXNlQ2xhc3M6IE1vZGFsIH0sXG4gICAgeyBwcm92aWRlOiBNb2RhbEJhY2tkcm9wQ29tcG9uZW50LCB1c2VWYWx1ZTogVmV4TW9kYWxCYWNrZHJvcCB9LFxuICAgIHsgcHJvdmlkZTogTW9kYWxEcm9wSW5GYWN0b3J5LCB1c2VWYWx1ZToge1xuICAgICAgYWxlcnQ6IG1vZGFsID0+IG5ldyBCdWlsZGVyKG1vZGFsLCBESVR5cGUuYWxlcnQsIDxhbnk+e2lzQmxvY2tpbmc6IGZhbHNlfSksXG4gICAgICBwcm9tcHQ6IG1vZGFsID0+IG5ldyBCdWlsZGVyKG1vZGFsLCBESVR5cGUucHJvbXB0LCA8YW55Pntpc0Jsb2NraW5nOiB0cnVlLCBrZXlib2FyZDogbnVsbH0pLFxuICAgICAgY29uZmlybTogbW9kYWwgPT4gbmV3IEJ1aWxkZXIobW9kYWwsIERJVHlwZS5jb25maXJtLCA8YW55Pntpc0Jsb2NraW5nOiB0cnVlLCBrZXlib2FyZDogbnVsbH0pXG4gICAgfX1cbiAgXTtcbn1cblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogWyBDb21tb25Nb2R1bGUgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgVmV4TW9kYWxCYWNrZHJvcCxcbiAgICBWZXhNb2RhbENvbnRlbnQsXG4gICAgRGlhbG9nRm9ybU1vZGFsLFxuICAgIEZvcm1Ecm9wSW4sXG4gICAgVkVYRGlhbG9nQnV0dG9uc1xuICBdLFxuICBwcm92aWRlcnM6IGdldFByb3ZpZGVycygpLFxuICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICBWZXhNb2RhbEJhY2tkcm9wLFxuICAgIERpYWxvZ0Zvcm1Nb2RhbCxcbiAgICBGb3JtRHJvcEluXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgVmV4TW9kYWxNb2R1bGUge1xuXG4gIHN0YXRpYyBnZXRQcm92aWRlcnMoKTogYW55W10ge1xuICAgIHJldHVybiBnZXRQcm92aWRlcnMoKTtcbiAgfVxuXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvdmV4L3ZleC5tb2R1bGUudHNcbiAqKi8iLCJpbXBvcnQge1xuICBUeXBlLFxuICBSZWZsZWN0aXZlSW5qZWN0b3IsXG4gIFZpZXdDb250YWluZXJSZWYsXG4gIEluamVjdGFibGUsXG4gIFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyLFxuICBPcHRpb25hbFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHtcbiAgTW9kYWxSZW5kZXJlcixcbiAgTW9kYWxDb21waWxlQ29uZmlnLFxuICBNb2RhbEJhY2tkcm9wQ29tcG9uZW50LFxuICBNb2RhbERyb3BJbkZhY3Rvcnlcbn0gZnJvbSAnLi4vbW9kZWxzL3Rva2Vucyc7XG5cbmltcG9ydCB7IERpYWxvZ1JlZlN0YWNrIH0gZnJvbSAnLi4vbW9kZWxzL2RpYWxvZy1yZWYtc3RhY2snO1xuaW1wb3J0IHsgRGlhbG9nUmVmIH0gZnJvbSAnLi4vbW9kZWxzL2RpYWxvZy1yZWYnO1xuaW1wb3J0IHsgTW9kYWxDb250ZXh0LCBNb2RhbENvbnRyb2xsaW5nQ29udGV4dEJ1aWxkZXIgfSBmcm9tICcuLi9tb2RlbHMvbW9kYWwtY29udGV4dCc7XG5cbmNvbnN0IF9zdGFjayA9IG5ldyBEaWFsb2dSZWZTdGFjazxhbnk+KCk7XG5jb25zdCB1bnN1cHBvcnRlZERyb3BJbjogYW55ID0gKCkgPT4ge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIERyb3AtaW4uJyk7XG59O1xuXG5jb25zdCBVbnN1cHBvcnRlZERyb3BJbkZhY3Rvcnk6IE1vZGFsRHJvcEluRmFjdG9yeSA9IHtcbiAgYWxlcnQ6IHVuc3VwcG9ydGVkRHJvcEluLFxuICBwcm9tcHQ6IHVuc3VwcG9ydGVkRHJvcEluLFxuICBjb25maXJtOiB1bnN1cHBvcnRlZERyb3BJblxufTtcblxuZnVuY3Rpb24gbm9ybWFsaXplRHJvcEluRmFjdG9yeShkcm9wSW5GYWN0b3J5OiBNb2RhbERyb3BJbkZhY3RvcnkpOiBNb2RhbERyb3BJbkZhY3Rvcnkge1xuICBpZiAoIWRyb3BJbkZhY3RvcnkpIHJldHVybiBVbnN1cHBvcnRlZERyb3BJbkZhY3Rvcnk7XG4gIHJldHVybiBbJ2FsZXJ0JywgJ3Byb21wdCcsICdjb25maXJtJ11cbiAgICAucmVkdWNlKChkaWYsIGtleSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBkaWZba2V5XSAhPT0gJ2Z1bmN0aW9uJykgZGlmW2tleV0gPSA8YW55PnVuc3VwcG9ydGVkRHJvcEluO1xuICAgICAgcmV0dXJuIGRpZjtcbiAgICB9LCBkcm9wSW5GYWN0b3J5KTtcbn1cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE1vZGFsIHtcbiAgLyoqXG4gICAqIEEgRGVmYXVsdCB2aWV3IGNvbnRhaW5lciByZWYsIHVzdWFsbHkgdGhlIGFwcCByb290IGNvbnRhaW5lciByZWYuXG4gICAqIE1ha2Ugc3VyZSBub3QgdG8gcHJvdmlkZSBzb21ldGhpbmcgdGhhdCBtaWdodCBnZXQgZGVzdHJveWVkLCBpdCB3aWxsIGRlc3Ryb3kgdGhlIG1vZGFscyB0b28uXG4gICAqIFRoZSBjb250YWluZXIgaXMgdXNlZCBhcyBsb2dpY2FsIHZpZXcgaG9sZGVyLCBlbGVtZW50cyBtaWdodCBiZSBtb3ZlZC5cbiAgICogSGFzIHRvIGJlIHNldCBtYW51YWxseSB1bnRpbCB3ZSBjYW4gZmluZCBhIHdheSB0byBnZXQgaXQgYXV0b21hdGljYWxseS5cbiAgICovXG4gIHB1YmxpYyBkZWZhdWx0Vmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZjtcbiAgcHJpdmF0ZSBfZHJvcEluOiBNb2RhbERyb3BJbkZhY3Rvcnk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfbW9kYWxSZW5kZXJlcjogTW9kYWxSZW5kZXJlcixcbiAgICAgICAgICAgICAgcHJpdmF0ZSBfYmFja2Ryb3A6IE1vZGFsQmFja2Ryb3BDb21wb25lbnQsXG4gICAgICAgICAgICAgIEBPcHRpb25hbCgpIF9kcm9wSW46IE1vZGFsRHJvcEluRmFjdG9yeSkge1xuICAgIHRoaXMuX2Ryb3BJbiA9IG5vcm1hbGl6ZURyb3BJbkZhY3RvcnkoX2Ryb3BJbik7XG4gIH1cblxuICBhbGVydCgpOiBNb2RhbENvbnRyb2xsaW5nQ29udGV4dEJ1aWxkZXI8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BJbi5hbGVydDxhbnk+KHRoaXMpO1xuICB9XG5cbiAgcHJvbXB0KCk6IE1vZGFsQ29udHJvbGxpbmdDb250ZXh0QnVpbGRlcjxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5fZHJvcEluLnByb21wdDxhbnk+KHRoaXMpO1xuICB9XG5cbiAgY29uZmlybSgpOiBNb2RhbENvbnRyb2xsaW5nQ29udGV4dEJ1aWxkZXI8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BJbi5jb25maXJtPGFueT4odGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgYSBtb2RhbCB3aW5kb3cgaW5zaWRlIGFuIGV4aXN0aW5nIGNvbXBvbmVudC5cbiAgICogSWZcbiAgICogQHBhcmFtIGNvbXBvbmVudFR5cGUgVGhlIGFuZ3VsYXIgQ29tcG9uZW50IHRvIHJlbmRlciBhcyB0aGUgbW9kYWwgY29udGVudC5cbiAgICogQHBhcmFtIGJpbmRpbmdzIFJlc29sdmVkIHByb3ZpZGVycyB0aGF0IHdpbGwgaW5qZWN0IGludG8gdGhlIGNvbXBvbmVudCBwcm92aWRlZC5cbiAgICogQHBhcmFtIGNvbnRleHQgVGhlIGNvbnRleHQgZm9yIHRoZSBtb2RhbCwgYXR0YWNoZWQgdG8gdGhlIGRpYWxvZyBpbnN0YW5jZSwgRGlhbG9nUmVmLmNvbnRleHQuXG4gICAqICAgICAgICBEZWZhdWx0OiB7fVxuICAgKiBAcGFyYW0gdmlld0NvbnRhaW5lciBUaGUgZWxlbWVudCB0byBibG9jayB1c2luZyB0aGUgbW9kYWwuXG4gICAqICAgICAgICBEZWZhdWx0OiBUaGUgdmFsdWUgc2V0IGluIGRlZmF1bHRWaWV3Q29udGFpbmVyLlxuICAgKiBAcGFyYW0gaW5zaWRlIElmIHRydWUsIHJlbmRlcidzIHRoZSBjb21wb25lbnQgaW5zaWRlIHRoZSBWaWV3Q29udGFpbmVyUmVmLFxuICAgKiAgICAgICAgb3RoZXJ3aXNlIHJlbmRlcidzIHRoZSBjb21wb25lbnQgaW4gdGhlIHJvb3QgZWxlbWVudCAoYm9keSBpbiBET00pXG4gICAqICAgICAgICBEZWZhdWx0OiB0cnVlIGlmIFZpZXdDb250YWluZXIgc3VwcGxpZWQsIGZhbHNlIGlmIG5vdCBzdXBwbGllZC5cbiAgICogQHJldHVybnMge1Byb21pc2U8RGlhbG9nUmVmPn1cbiAgICovXG4gIHB1YmxpYyBvcGVuKGNvbXBvbmVudFR5cGU6IFR5cGUsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IE1vZGFsQ29udGV4dCA9IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgYmluZGluZ3M6IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyW10gPSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHZpZXdDb250YWluZXI6IFZpZXdDb250YWluZXJSZWYgPSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIGluc2lkZT86IGJvb2xlYW4pOiBQcm9taXNlPERpYWxvZ1JlZjxhbnk+PiB7XG4gICAgaW5zaWRlID0gaW5zaWRlID09PSB1bmRlZmluZWQgPyAhIXZpZXdDb250YWluZXIgOiAhIWluc2lkZTtcblxuICAgIGlmICghdmlld0NvbnRhaW5lcikge1xuICAgICAgaWYgKCF0aGlzLmRlZmF1bHRWaWV3Q29udGFpbmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZGVmYXVsdFZpZXdDb250YWluZXIgbm90IHNldC4nKTtcbiAgICAgIH1cbiAgICAgIHZpZXdDb250YWluZXIgPSB0aGlzLmRlZmF1bHRWaWV3Q29udGFpbmVyO1xuICAgIH1cblxuICAgIGlmIChjb250ZXh0KSB7XG4gICAgICBjb250ZXh0Lm5vcm1hbGl6ZSgpO1xuICAgIH1cblxuICAgIGxldCBkaWFsb2cgPSBuZXcgRGlhbG9nUmVmKGNvbnRleHQgfHwge30pO1xuICAgIGRpYWxvZy5pbkVsZW1lbnQgPSBpbnNpZGU7XG5cbiAgICBsZXQgY29tcGlsZUNvbmZpZyA9IG5ldyBNb2RhbENvbXBpbGVDb25maWcoY29tcG9uZW50VHlwZSwgYmluZGluZ3MgfHwgW10pO1xuXG5cbiAgICBsZXQgYiA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtcbiAgICAgIHtwcm92aWRlOiBNb2RhbCwgdXNlVmFsdWU6IHRoaXN9LFxuICAgICAge3Byb3ZpZGU6IE1vZGFsUmVuZGVyZXIsIHVzZVZhbHVlOiB0aGlzLl9tb2RhbFJlbmRlcmVyfSxcbiAgICAgIHtwcm92aWRlOiBEaWFsb2dSZWYsIHVzZVZhbHVlOiBkaWFsb2d9LFxuICAgICAge3Byb3ZpZGU6IE1vZGFsQ29tcGlsZUNvbmZpZywgdXNlVmFsdWU6IGNvbXBpbGVDb25maWd9XG4gICAgXSk7XG5cbiAgICB0aGlzLl9tb2RhbFJlbmRlcmVyLnJlbmRlcih0aGlzLl9iYWNrZHJvcCwgdmlld0NvbnRhaW5lciwgYiwgZGlhbG9nKTtcbiAgICBfc3RhY2sucHVzaE1hbmFnZWQoZGlhbG9nKTtcbiAgICBkaWFsb2cub25EZXN0cm95LnN1YnNjcmliZSggKCkgPT4gX3N0YWNrLnJlbW92ZShkaWFsb2cpICk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRpYWxvZyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBnaXZlbiBEaWFsb2dSZWYgaXMgdGhlIHRvcCBtb3N0IHJlZiBpbiB0aGUgc3RhY2suXG4gICAqIFRPRE86IGRpc3Rpbmd1aXNoIGJldHdlZW4gYm9keSBtb2RhbCB2cyBpbiBlbGVtZW50IG1vZGFsLlxuICAgKiBAcGFyYW0gZGlhbG9nUmVmXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaXNUb3BNb3N0KGRpYWxvZ1JlZjogRGlhbG9nUmVmPGFueT4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gX3N0YWNrLmluZGV4T2YoZGlhbG9nUmVmKSA9PT0gX3N0YWNrLmxlbmd0aCAtIDE7XG4gIH1cblxuICBzdGFja1Bvc2l0aW9uKGRpYWxvZ1JlZjogRGlhbG9nUmVmPGFueT4pIHtcbiAgICByZXR1cm4gX3N0YWNrLmluZGV4T2YoZGlhbG9nUmVmKTtcbiAgfVxuXG4gIGdldCBzdGFja0xlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiBfc3RhY2subGVuZ3RoO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3Byb3ZpZGVycy9tb2RhbC50c1xuICoqLyIsIi8vIGhlYXZpbHkgaW5zcGlyZWQgYnk6XG4vLyBodHRwOi8vd3d3LmJlbm5hZGVsLmNvbS9ibG9nLzMwMjUtY3JlYXRpbmctY3VzdG9tLWRvbS1hbmQtaG9zdC1ldmVudC1iaW5kaW5ncy1pbi1hbmd1bGFyLTItYmV0YS02Lmh0bVxuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi9mcmFtZXdvcmsvdXRpbHMnO1xuXG5jb25zdCBldmVudE1hcCA9IHtcbiAgICBjbGlja091dHNpZGU6ICdjbGljaycsXG4gICAgbW91c2Vkb3duT3V0c2lkZTogJ21vdXNlZG93bicsXG4gICAgbW91c2V1cE91dHNpZGU6ICdtb3VzZXVwJyxcbiAgICBtb3VzZW1vdmVPdXRzaWRlOiAnbW91c2Vtb3ZlJ1xufTtcblxuLyoqXG4gKiBBbiBldmVudCBoYW5kbGVyIGZhY3RvcnkgZm9yIGV2ZW50IGhhbmRsZXJzIHRoYXQgYnViYmxlIHRoZSBldmVudCB0byBhIGdpdmVuIGhhbmRsZXJcbiAqIGlmIHRoZSBldmVudCB0YXJnZXQgaXMgbm90IGFuIGFuY2VzdG9yIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICogQHBhcmFtIGVsZW1lbnRcbiAqIEBwYXJhbSBoYW5kbGVyXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oYW55KTogdW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiBidWJibGVOb25BbmNlc3RvckhhbmRsZXJGYWN0b3J5KGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBoYW5kbGVyOiAoZXZlbnQpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoY3VycmVudC5wYXJlbnROb2RlICYmICggY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZSApKTtcblxuICAgICAgICBoYW5kbGVyKGV2ZW50KTtcbiAgICB9O1xufVxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRE9NT3V0c2lkZUV2ZW50UGx1Z2luIHsgLy8gZXh0ZW5kcyBFdmVudE1hbmFnZXJQbHVnaW5cbiAgICBtYW5hZ2VyOiBFdmVudE1hbmFnZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gVE9ETzogdXNlIERJIGZhY3RvcnkgZm9yIHRoaXMuXG4gICAgICAgIGlmICghZG9jdW1lbnQgfHwgdHlwZW9mIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lciA9IG5vb3AgYXMgYW55O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3VwcG9ydHMoZXZlbnROYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50TWFwLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSk7XG4gICAgfVxuXG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbGVtZW50OiBIVE1MRWxlbWVudCwgZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogRnVuY3Rpb24ge1xuICAgICAgICBjb25zdCB6b25lID0gdGhpcy5tYW5hZ2VyLmdldFpvbmUoKTtcblxuICAgICAgICAvLyBBIEZhY3RvcnkgdGhhdCByZWdpc3RlcnMgdGhlIGV2ZW50IG9uIHRoZSBkb2N1bWVudCwgaW5zdGVhZCBvZiB0aGUgZWxlbWVudC5cbiAgICAgICAgLy8gdGhlIGhhbmRsZXIgaXMgY3JlYXRlZCBhdCBydW50aW1lLCBhbmQgaXQgYWN0cyBhcyBhIHByb3BhZ2F0aW9uL2J1YmJsZSBwcmVkaWNhdGUsIGl0IHdpbGxcbiAgICAgICAgLy8gYnViYmxlIHVwIHRoZSBldmVudCAoaS5lOiBleGVjdXRlIG91ciBvcmlnaW5hbCBldmVudCBoYW5kbGVyKSBvbmx5IGlmIHRoZSBldmVudCB0YXJnZXJcbiAgICAgICAgLy8gaXMgYW4gYW5jZXN0b3Igb2Ygb3VyIGVsZW1lbnQuXG4gICAgICAgIC8vIFRoZSBldmVudCBpcyBmaXJlZCBpbnNpZGUgdGhlIGFuZ3VsYXIgem9uZSBzbyBjaGFuZ2UgZGV0ZWN0aW9uIGNhbiBraWNrIGludG8gYWN0aW9uLlxuICAgICAgICBjb25zdCBvbmNlT25PdXRzaWRlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPVxuICAgICAgICAgICAgICBidWJibGVOb25BbmNlc3RvckhhbmRsZXJGYWN0b3J5KGVsZW1lbnQsIGV2dCA9PiB6b25lLnJ1bkd1YXJkZWQoKCkgPT4gaGFuZGxlcihldnQpKSk7XG5cbiAgICAgICAgICAgIC8vIG1pbWljIEJyb3dzZXJEb21BZGFwdGVyLm9uQW5kQ2FuY2VsXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TWFwW2V2ZW50TmFtZV0sIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE1hcFtldmVudE5hbWVdLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHdlIHJ1biB0aGUgZXZlbnQgcmVnaXN0cmF0aW9uIGZvciB0aGUgZG9jdW1lbnQgaW4gYSBkaWZmZXJlbnQgem9uZSwgdGhpcyB3aWxsIG1ha2Ugc3VyZVxuICAgICAgICAvLyBjaGFuZ2UgZGV0ZWN0aW9uIGlzIG9mZi5cbiAgICAgICAgLy8gSXQgdHVybnMgb3V0IHRoYXQgaWYgYSBjb21wb25lbnQgdGhhdCB1c2UgRE9NT3V0c2lkZUV2ZW50UGx1Z2luIGlzIGJ1aWx0IGZyb20gYSBjbGlja1xuICAgICAgICAvLyBldmVudCwgd2UgbWlnaHQgZ2V0IGhlcmUgYmVmb3JlIHRoZSBldmVudCByZWFjaGVkIHRoZSBkb2N1bWVudCwgY2F1c2luZyBhIHF1aWNrIGZhbHNlXG4gICAgICAgIC8vIHBvc2l0aXZlIGhhbmRsaW5nICh3aGVuIHN0b3BQcm9wYWdhdGlvbigpIHdhcydudCBpbnZva2VkKS4gVG8gd29ya2Fyb3VuZCB0aGlzIHdlIHdhaXRcbiAgICAgICAgLy8gZm9yIHRoZSBuZXh0IHZtIHR1cm4gYW5kIHJlZ2lzdGVyLlxuICAgICAgICAvLyBFdmVudCByZWdpc3RyYXRpb24gcmV0dXJucyBhIGRpc3Bvc2UgZnVuY3Rpb24gZm9yIHRoYXQgZXZlbnQsIGFuZ3VsYXIgdXNlIGl0IHRvIGNsZWFuXG4gICAgICAgIC8vIHVwIGFmdGVyIGNvbXBvbmVudCBnZXQncyBkZXN0cm95ZWQuIFNpbmNlIHdlIG5lZWQgdG8gcmV0dXJuIGEgZGlzcG9zZSBmdW5jdGlvblxuICAgICAgICAvLyBzeW5jaHJvbm91c2x5IHdlIGhhdmUgdG8gcHV0IGEgd3JhcHBlciBmb3IgaXQgc2luY2Ugd2Ugd2lsbCBnZXQgaXQgYXN5bmNocm9ub3VzbHksXG4gICAgICAgIC8vIGkuZTogYWZ0ZXIgd2UgbmVlZCB0byByZXR1cm4gaXQuXG4gICAgICAgIC8vXG4gICAgICAgIHJldHVybiB6b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBmbjogRnVuY3Rpb247XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGZuID0gb25jZU9uT3V0c2lkZSgpLCAwKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiBmbigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhZGRHbG9iYWxFdmVudExpc3RlbmVyKHRhcmdldDogc3RyaW5nLCBldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pOiBGdW5jdGlvbiB7XG4gICAgICAgIHRocm93ICdub3Qgc3VwcG9ydGVkJztcbiAgICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3Byb3ZpZGVycy9vdXRzaWRlLWV2ZW50LXBsdWdpbi50c1xuICoqLyIsImltcG9ydCB7IE5nTW9kdWxlIH0gICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IExvY2F0aW9uU3RyYXRlZ3ksIEhhc2hMb2NhdGlvblN0cmF0ZWd5IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuaW1wb3J0IHsgQnJvd3Nlck1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuaW1wb3J0IHsgTW9kYWxNb2R1bGUgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsJztcblxuaW1wb3J0IHsgU2hhcmVkTW9kdWxlIH0gZnJvbSAnLi9zaGFyZWQubW9kdWxlJztcbmltcG9ydCB7IEJvb3RzdHJhcERlbW9Nb2R1bGUgfSBmcm9tICcuL2Jvb3RzdHJhcC1kZW1vL2Jvb3RzdHJhcC1kZW1vLm1vZHVsZSc7XG5pbXBvcnQgeyBWZXhEZW1vTW9kdWxlIH0gZnJvbSAnLi92ZXgtZGVtby92ZXgtZGVtby5tb2R1bGUnO1xuaW1wb3J0IHsgSlNOYXRpdmVEZW1vTW9kdWxlIH0gZnJvbSAnLi9qcy1uYXRpdmUtZGVtby9qcy1uYXRpdmUtZGVtby5tb2R1bGUnO1xuXG5pbXBvcnQgeyBBcHAgfSAgZnJvbSAnLi9hcHAnO1xuaW1wb3J0IHsgSG9tZSB9IGZyb20gJy4vaG9tZS9ob21lJztcbmltcG9ydCB7IHJvdXRpbmcgfSBmcm9tICcuL2FwcC5yb3V0ZXMnO1xuaW1wb3J0IHsgSW5BcHBNb2RhbE1vZHVsZSB9IGZyb20gJy4vaG9tZS9pbi1hcHAtcGx1Z2luL2luZGV4JztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIEJyb3dzZXJNb2R1bGUsXG4gICAgcm91dGluZyxcbiAgICBTaGFyZWRNb2R1bGUuZm9yUm9vdCgpLFxuICAgIE1vZGFsTW9kdWxlLmZvclJvb3QoKSxcbiAgICBCb290c3RyYXBEZW1vTW9kdWxlLFxuICAgIFZleERlbW9Nb2R1bGUsXG4gICAgSlNOYXRpdmVEZW1vTW9kdWxlLFxuICAgIEluQXBwTW9kYWxNb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbIEFwcCwgSG9tZSBdLFxuICBib290c3RyYXA6ICAgIFsgQXBwIF0sXG4gIHByb3ZpZGVyczogW1xuICAgIHsgcHJvdmlkZTogTG9jYXRpb25TdHJhdGVneSwgdXNlQ2xhc3M6IEhhc2hMb2NhdGlvblN0cmF0ZWd5IH0sXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgQXBwTW9kdWxlIHsgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvYXBwLm1vZHVsZS50c1xuICoqLyIsImltcG9ydCB7IE1vZHVsZVdpdGhQcm92aWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJvdXRlcywgUm91dGVyTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcblxuaW1wb3J0IHsgSG9tZSB9IGZyb20gJy4vaG9tZS9ob21lJztcblxuZXhwb3J0IGNvbnN0IHJvdXRlczogUm91dGVzID0gW1xuICB7IHBhdGg6ICdob21lJywgY29tcG9uZW50OiBIb21lIH0sXG4gIHsgcGF0aDogJycsIHJlZGlyZWN0VG86ICdob21lJywgdGVybWluYWw6IHRydWUgfVxuXTtcblxuZXhwb3J0IGNvbnN0IHJvdXRpbmc6IE1vZHVsZVdpdGhQcm92aWRlcnMgPSBSb3V0ZXJNb2R1bGUuZm9yUm9vdChyb3V0ZXMpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvYXBwLnJvdXRlcy50c1xuICoqLyIsImltcG9ydCB7IENvbXBvbmVudCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZPUk1fUFJPVklERVJTIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuLypcbiAqIEFwcCBDb21wb25lbnRcbiAqIFRvcCBMZXZlbCBDb21wb25lbnRcbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYXBwJyxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgc3R5bGVVcmxzOiBbXG4gICAgJ2RlbW8vYXBwL2FwcC5jc3MnXG4gIF0sXG4gIHRlbXBsYXRlVXJsOiAnZGVtby9hcHAvYXBwLmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIEFwcCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9kZW1vL2FwcC9hcHAudHNcbiAqKi8iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgQm9vdHN0cmFwTW9kYWxNb2R1bGUgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvYm9vdHN0cmFwJztcbmltcG9ydCB7IFNoYXJlZE1vZHVsZSB9IGZyb20gJy4uL3NoYXJlZC5tb2R1bGUnO1xuXG5cbmltcG9ydCB7IHJvdXRpbmcgfSBmcm9tICcuL2Jvb3RzdHJhcC1kZW1vLnJvdXRlcyc7XG5pbXBvcnQgeyBCb290c3RyYXBEZW1vIH0gZnJvbSAnLi9ib290c3RyYXAtZGVtbyc7XG5pbXBvcnQgeyBCb290c3RyYXBEZW1vUGFnZSB9IGZyb20gJy4vYm9vdHN0cmFwLWRlbW8tcGFnZS9ib290c3RyYXAtZGVtby1wYWdlJztcbmltcG9ydCB7IEFkZGl0aW9uQ2FsY3VsYXRlV2luZG93IH0gZnJvbSAnLi9ib290c3RyYXAtZGVtby1wYWdlL2N1c3RvbS1tb2RhbC1zYW1wbGUnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbIENvbW1vbk1vZHVsZSwgQm9vdHN0cmFwTW9kYWxNb2R1bGUsIHJvdXRpbmcsIFNoYXJlZE1vZHVsZSBdLFxuICBkZWNsYXJhdGlvbnM6IFtcbiAgICBCb290c3RyYXBEZW1vLFxuICAgIEJvb3RzdHJhcERlbW9QYWdlLFxuICAgIEFkZGl0aW9uQ2FsY3VsYXRlV2luZG93XG4gIF0sXG4gIGVudHJ5Q29tcG9uZW50czogWyBBZGRpdGlvbkNhbGN1bGF0ZVdpbmRvdyBdXG59KVxuZXhwb3J0IGNsYXNzIEJvb3RzdHJhcERlbW9Nb2R1bGUgeyB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9kZW1vL2FwcC9ib290c3RyYXAtZGVtby9ib290c3RyYXAtZGVtby5tb2R1bGUudHNcbiAqKi8iLCJpbXBvcnQgeyBNb2R1bGVXaXRoUHJvdmlkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSb3V0ZXJNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuXG5pbXBvcnQgeyBCb290c3RyYXBEZW1vIH0gZnJvbSAnLi9ib290c3RyYXAtZGVtbyc7XG5pbXBvcnQgeyBCb290c3RyYXBEZW1vUGFnZSB9IGZyb20gJy4vYm9vdHN0cmFwLWRlbW8tcGFnZS9ib290c3RyYXAtZGVtby1wYWdlJztcbmltcG9ydCB7IE1vZGFsQ3VzdG9taXNhdGlvbldpemFyZCB9IGZyb20gJy4vbW9kYWwtY3VzdG9taXNhdGlvbi13aXphcmQvbW9kYWwtY3VzdG9taXNhdGlvbi13aXphcmQnO1xuXG5leHBvcnQgY29uc3Qgcm91dGluZzogTW9kdWxlV2l0aFByb3ZpZGVycyA9IFJvdXRlck1vZHVsZS5mb3JDaGlsZChbXG4gIHsgcGF0aDogJ2Jvb3RzdHJhcC1kZW1vJywgY29tcG9uZW50OiBCb290c3RyYXBEZW1vLCBjaGlsZHJlbjogW1xuICAgICAgeyBwYXRoOiAnJywgY29tcG9uZW50OiBCb290c3RyYXBEZW1vUGFnZSwgdGVybWluYWw6IHRydWUgfSxcbiAgICAgIC8vIHsgcGF0aDogJ2N1c3RvbWl6ZU1vZGFscycsIGNvbXBvbmVudDogTW9kYWxDdXN0b21pc2F0aW9uV2l6YXJkIH1cbiAgICBdXG4gIH1cbl0pO1xuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9kZW1vL2FwcC9ib290c3RyYXAtZGVtby9ib290c3RyYXAtZGVtby5yb3V0ZXMudHNcbiAqKi8iLCJpbXBvcnQge1xuICAgIE1vZGFsLFxuICAgIEJTTW9kYWwsXG4gICAgT25lQnV0dG9uUHJlc2V0QnVpbGRlcixcbiAgICBUd29CdXR0b25QcmVzZXRCdWlsZGVyXG59IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy9ib290c3RyYXAvaW5kZXgnO1xuXG5leHBvcnQgZnVuY3Rpb24gYWxlcnQobW9kYWw6IE1vZGFsKTogT25lQnV0dG9uUHJlc2V0QnVpbGRlciB7XG4gICAgcmV0dXJuIG1vZGFsLmFsZXJ0KClcbiAgICAgICAgLnNpemUoJ2xnJylcbiAgICAgICAgLnNob3dDbG9zZSh0cnVlKVxuICAgICAgICAudGl0bGUoJ0Egc2ltcGxlIEFsZXJ0IHN0eWxlIG1vZGFsIHdpbmRvdycpXG4gICAgICAgIC5ib2R5KGBcbiAgICAgICAgPGg0PkFsZXJ0IGlzIGEgY2xhc3NpYyAodGl0bGUvYm9keS9mb290ZXIpIDEgYnV0dG9uIG1vZGFsIHdpbmRvdyB0aGF0IFxuICAgICAgICBkb2VzIG5vdCBibG9jay48L2g0PlxuICAgICAgICA8Yj5Db25maWd1cmF0aW9uOjwvYj5cbiAgICAgICAgPHVsPlxuICAgICAgICAgICAgPGxpPk5vbiBibG9ja2luZyAoY2xpY2sgYW55d2hlcmUgb3V0c2lkZSB0byBkaXNtaXNzKTwvbGk+XG4gICAgICAgICAgICA8bGk+U2l6ZSBsYXJnZTwvbGk+XG4gICAgICAgICAgICA8bGk+RGlzbWlzc2VkIHdpdGggZGVmYXVsdCBrZXlib2FyZCBrZXkgKEVTQyk8L2xpPlxuICAgICAgICAgICAgPGxpPkNsb3NlIHd0aCBidXR0b24gY2xpY2s8L2xpPlxuICAgICAgICAgICAgPGxpPkhUTUwgY29udGVudDwvbGk+XG4gICAgICAgIDwvdWw+YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9tcHQobW9kYWw6IE1vZGFsKTogT25lQnV0dG9uUHJlc2V0QnVpbGRlciB7XG4gICAgcmV0dXJuIG1vZGFsLnByb21wdCgpXG4gICAgICAgIC5zaXplKCdsZycpXG4gICAgICAgIC50aXRsZSgnQSBzaW1wbGUgUHJvbXB0IHN0eWxlIG1vZGFsIHdpbmRvdycpXG4gICAgICAgIC5ib2R5KGBcbiAgICAgICAgICAgIDxoND5Qcm9tcHQgaXMgYSBjbGFzc2ljICh0aXRsZS9ib2R5L2Zvb3RlcikgMSBidXR0b24gbW9kYWwgd2luZG93IHRoYXQgXG4gICAgICAgICAgICBibG9ja3MuPC9oND5cbiAgICAgICAgICAgIDxiPkNvbmZpZ3VyYXRpb246PC9iPlxuICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgIDxsaT5CbG9ja3MgKG9ubHkgYnV0dG9uIGNsaWNrIGNhbiBkaXNtaXNzKTwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPlNpemUgbGFyZ2U8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5LZXlib2FyZCBjYW4gbm90IGRpc21pc3M8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5IVE1MIGNvbnRlbnQ8L2xpPlxuICAgICAgICAgICAgPC91bD5gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpcm0obW9kYWw6IE1vZGFsKTogVHdvQnV0dG9uUHJlc2V0QnVpbGRlciB7XG4gICAgcmV0dXJuIG1vZGFsLmNvbmZpcm0oKVxuICAgICAgICAuc2l6ZSgnbGcnKVxuICAgICAgICAudGl0bGVIdG1sKGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC10aXRsZVwiIFxuICAgICAgICAgICAgICAgICBzdHlsZT1cImZvbnQtc2l6ZTogMjJweDsgY29sb3I6IGdyZXk7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1wiPlxuICAgICAgICAgICAgICAgICBBIHNpbXBsZSBDb25maXJtIHN0eWxlIG1vZGFsIHdpbmRvdzwvZGl2PmApXG4gICAgICAgIC5ib2R5KGBcbiAgICAgICAgICAgIDxoND5Db25maXJtIGlzIGEgY2xhc3NpYyAodGl0bGUvYm9keS9mb290ZXIpIDIgYnV0dG9uIG1vZGFsIHdpbmRvdyB0aGF0IGJsb2Nrcy48L2g0PlxuICAgICAgICAgICAgPGI+Q29uZmlndXJhdGlvbjo8L2I+XG4gICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgPGxpPkJsb2NrcyAob25seSBidXR0b24gY2xpY2sgY2FuIGNsb3NlL2Rpc21pc3MpPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+U2l6ZSBsYXJnZTwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPktleWJvYXJkIGNhbiBub3QgZGlzbWlzczwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPkhUTUwgVGl0bGU8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5IVE1MIGNvbnRlbnQ8L2xpPlxuICAgICAgICAgICAgPC91bD5gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhc2NhZGluZyhtb2RhbDogTW9kYWwpIHtcbiAgICBsZXQgcHJlc2V0cyA9IFtdO1xuXG4gICAgcHJlc2V0cy5wdXNoKGFsZXJ0KG1vZGFsKSk7XG4gICAgcHJlc2V0cy5wdXNoKHByb21wdChtb2RhbCkpO1xuICAgIHByZXNldHMucHVzaChjb25maXJtKG1vZGFsKSk7XG4gICAgcHJlc2V0cy5wdXNoKFxuICAgICAgICBtb2RhbC5wcm9tcHQoKVxuICAgICAgICAgICAgLnNpemUoJ3NtJylcbiAgICAgICAgICAgIC50aXRsZSgnQ2FzY2FkaW5nIG1vZGFscyEnKVxuICAgICAgICAgICAgLmJvZHkoJ0ZpbmQgeW91ciB3YXkgb3V0Li4uJylcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgb3BlbjogKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHJldCA9IHByZXNldHMuc2hpZnQoKS5vcGVuKCk7XG4gICAgICAgICAgICB3aGlsZSAocHJlc2V0cy5sZW5ndGggPiAwKSBwcmVzZXRzLnNoaWZ0KCkub3BlbigpO1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbkVsZW1lbnQobW9kYWw6IE1vZGFsKSB7XG4gICAgcmV0dXJuIG1vZGFsLnByb21wdCgpXG4gICAgICAgIC5zaXplKCdzbScpXG4gICAgICAgIC50aXRsZSgnQSBtb2RhbCBjb250YWluZWQgYnkgYW4gZWxlbWVudCcpXG4gICAgICAgIC5ib2R5KCdUcnkgc3RhY2tpbmcgdXAgbW9yZSBtb2RhbHMhJyk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9kZW1vL2FwcC9ib290c3RyYXAtZGVtby9wcmVzZXRzLnRzXG4gKiovIiwiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBWaWV3RW5jYXBzdWxhdGlvbixcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgRXZlbnRFbWl0dGVyLFxuICBWaWV3Q2hpbGQsXG4gIFZpZXdDb250YWluZXJSZWZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IERpYWxvZ1JlZiB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1vZGFsQ29tbWFuZERlc2NyaXB0b3Ige1xuICB0ZXh0OiBzdHJpbmc7XG4gIGZhY3Rvcnk6ICgpID0+IFByb21pc2U8RGlhbG9nUmVmPGFueT4+O1xufVxuZXhwb3J0IGludGVyZmFjZSBEcm9wSW5DbGlja0V2ZW50IHtcbiAgZXZlbnQ6IEV2ZW50O1xuICBzb3VyY2U6IE1vZGFsQ29tbWFuZERlc2NyaXB0b3I7XG59XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2RlbW8taGVhZCcsXG4gIHN0eWxlczogW1xuICAgIGBcbiAgICAgIC5idG4tZHJvcGluIHtcbiAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICAgIG1hcmdpbjogMTVweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjE5MTYxO1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCA1cHggMCByZ2JhKDAsMCwwLC4yNik7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMDtcbiAgICAgIH1cbiAgICAgIGBcbiAgXSxcbiAgdGVtcGxhdGVVcmw6ICdkZW1vL2FwcC9kZW1vLWhlYWQvZGVtby1oZWFkLmh0bWwnLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5FbXVsYXRlZFxufSlcbmV4cG9ydCBjbGFzcyBEZW1vSGVhZCB7XG4gIHJlc3VsdDogYW55O1xuICBASW5wdXQoKSB0aXRsZTogc3RyaW5nO1xuICBASW5wdXQoKSBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBASW5wdXQoKSBtb2RhbENvbW1hbmRzOiBNb2RhbENvbW1hbmREZXNjcmlwdG9yW107XG5cbiAgQE91dHB1dCgpIGRyb3BJbkNsaWNrOiBFdmVudEVtaXR0ZXI8RHJvcEluQ2xpY2tFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPERyb3BJbkNsaWNrRXZlbnQ+KCk7XG4gIEBWaWV3Q2hpbGQoJ2NvbW1hbmRzJywge3JlYWQ6IFZpZXdDb250YWluZXJSZWZ9KSBwdWJsaWMgdmNDb21tYW5kczogVmlld0NvbnRhaW5lclJlZjtcblxuXG4gIG9uQ2xpY2soZXZlbnQ6IEV2ZW50LCBidG46IE1vZGFsQ29tbWFuZERlc2NyaXB0b3IpIHtcbiAgICB0aGlzLmRyb3BJbkNsaWNrLmVtaXQoe1xuICAgICAgZXZlbnQsXG4gICAgICBzb3VyY2U6IGJ0blxuICAgIH0pO1xuICAgIHRoaXMucHJvY2Vzc0RpYWxvZyhidG4uZmFjdG9yeSgpKTtcbiAgfVxuXG4gIHByaXZhdGUgcHJvY2Vzc0RpYWxvZyhkaWFsb2c6IFByb21pc2U8RGlhbG9nUmVmPGFueT4+KSB7XG4gICAgZGlhbG9nLnRoZW4oKHJlc3VsdFByb21pc2UpID0+IHtcbiAgICAgIHJldHVybiByZXN1bHRQcm9taXNlLnJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgICB9LCAoKSA9PiB0aGlzLnJlc3VsdCA9ICdSZWplY3RlZCEnKTtcbiAgICB9KTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvZGVtby1oZWFkL2RlYW0taGVhZC50c1xuICoqLyIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTmdUZW1wbGF0ZU91dGxldCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmltcG9ydCB7IERpYWxvZ1JlZiB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwnO1xuaW1wb3J0IHsgTW9kYWwgfSBmcm9tICcuL21vZGFsJztcbmltcG9ydCB7IEluQXBwTW9kYWxDb250ZXh0IH0gZnJvbSAnLi9tb2RhbC1jb250ZXh0JztcblxuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ21vZGFsLWJhY2tkcm9wJyxcbiAgICBkaXJlY3RpdmVzOiBbIE5nVGVtcGxhdGVPdXRsZXQgXSxcbiAgICBzdHlsZXM6IFtgXG4uaW4tYXBwLW1vZGFsLWJhY2tkcm9wIHtcbiAgICBcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIHJpZ2h0OiAwO1xufWAsIGBcbmFydGljbGUge1xuICAgIG1hcmdpbjogYXV0bztcbiAgICB3aWR0aDogNjAwcHg7XG4gICAgYmFja2dyb3VuZDogaW5oZXJpdDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgIGJveC1zaGFkb3c6IDAgOHB4IDE2cHggcmdiYSgwLCAwLCAwLCAwLjI1KTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufVxuYXJ0aWNsZTpiZWZvcmUge1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgYmFja2dyb3VuZDogaW5oZXJpdDtcbiAgICAtd2Via2l0LWZpbHRlcjogYmx1cigxMHB4KSBzYXR1cmF0ZSgyKTtcbiAgICBmaWx0ZXI6IGJsdXIoMTBweCkgc2F0dXJhdGUoMik7XG59XG5hcnRpY2xlIC50aXRsZSB7XG4gICAgcGFkZGluZzogOHB4OyAgICBcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIzNSwgMjM1LCAyMzUsIDAuODUpO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgZm9udC1zaXplOjI0cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuYXJ0aWNsZSAuY29udGVudCB7XG4gICAgcGFkZGluZzogOHB4O1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC42Nik7XG59YFxuICAgIF0sXG4gICAgdGVtcGxhdGU6XG5gPGRpdiBjbGFzcz1cImluLWFwcC1tb2RhbC1iYWNrZHJvcFwiPlxuICAgIDxhcnRpY2xlPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGl0bGVcIj5cbiAgICAgICAgICAgIDxzcGFuPnt7ZGlhbG9nLmNvbnRleHQudGl0bGV9fTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgICAgICA8dGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwiZGlhbG9nLmNvbnRleHQudGVtcGxhdGVSZWZcIj48L3RlbXBsYXRlPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2FydGljbGU+ICAgIFxuPC9kaXY+YFxufSlcbmV4cG9ydCBjbGFzcyBJbkFwcE1vZGFsQmFja2Ryb3Age1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgZGlhbG9nOiBEaWFsb2dSZWY8SW5BcHBNb2RhbENvbnRleHQ+LFxuICAgICAgICBwcml2YXRlIF9tb2RhbDogTW9kYWwpIHtcbiAgICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9kZW1vL2FwcC9ob21lL2luLWFwcC1wbHVnaW4vbW9kYWwtYmFja2Ryb3AudHNcbiAqKi8iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgU2hhcmVkTW9kdWxlIH0gZnJvbSAnLi4vc2hhcmVkLm1vZHVsZSc7XG5pbXBvcnQgeyBKU05hdGl2ZU1vZGFsTW9kdWxlIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9hbmd1bGFyMi1tb2RhbC9wbHVnaW5zL2pzLW5hdGl2ZSc7XG5cbmltcG9ydCB7IHJvdXRpbmcgfSBmcm9tICcuL2pzLW5hdGl2ZS1kZW1vLnJvdXRlcyc7XG5pbXBvcnQgeyBKU05hdGl2ZURlbW8gfSBmcm9tICcuL2pzLW5hdGl2ZS1kZW1vJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogWyBDb21tb25Nb2R1bGUsIEpTTmF0aXZlTW9kYWxNb2R1bGUsIHJvdXRpbmcsIFNoYXJlZE1vZHVsZSBdLFxuICBkZWNsYXJhdGlvbnM6IFsgSlNOYXRpdmVEZW1vIF1cbn0pXG5leHBvcnQgY2xhc3MgSlNOYXRpdmVEZW1vTW9kdWxlIHsgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvanMtbmF0aXZlLWRlbW8vanMtbmF0aXZlLWRlbW8ubW9kdWxlLnRzXG4gKiovIiwiaW1wb3J0IHsgTW9kdWxlV2l0aFByb3ZpZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUm91dGVyTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcblxuaW1wb3J0IHsgSlNOYXRpdmVEZW1vIH0gZnJvbSAnLi9qcy1uYXRpdmUtZGVtbyc7XG5cbmV4cG9ydCBjb25zdCByb3V0aW5nOiBNb2R1bGVXaXRoUHJvdmlkZXJzID0gUm91dGVyTW9kdWxlLmZvckNoaWxkKFtcbiAgeyBwYXRoOiAnanMtbmF0aXZlLWRlbW8nLCBjb21wb25lbnQ6IEpTTmF0aXZlRGVtbyB9XG5dKTtcblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvanMtbmF0aXZlLWRlbW8vanMtbmF0aXZlLWRlbW8ucm91dGVzLnRzXG4gKiovIiwiaW1wb3J0IHtcbiAgICBNb2RhbCxcbiAgICBKU05hdGl2ZU1vZGFsLFxuICAgIEpTTmF0aXZlUHJlc2V0QnVpbGRlclxufSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvanMtbmF0aXZlJztcblxuZXhwb3J0IHtcbiAgICBKU05hdGl2ZU1vZGFsLFxuICAgIEpTTmF0aXZlUHJlc2V0QnVpbGRlclxufSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvanMtbmF0aXZlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFsZXJ0KG1vZGFsOiBNb2RhbCk6IEpTTmF0aXZlUHJlc2V0QnVpbGRlciB7XG4gICAgcmV0dXJuIG1vZGFsLmFsZXJ0KCkubWVzc2FnZSgnVGhpcyBpcyBhIG5hdGl2ZSBhbGVydCEnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb21wdChtb2RhbDogTW9kYWwpOiBKU05hdGl2ZVByZXNldEJ1aWxkZXIge1xuICAgIHJldHVybiBtb2RhbC5wcm9tcHQoKVxuICAgICAgICAubWVzc2FnZSgnVGhpcyBpcyBhIG5hdGl2ZSBwcm9tcHQhJylcbiAgICAgICAgLnByb21wdERlZmF1bHQoJ1RoaXMgaXMgYSBkZWZhdWx0IHZhbHVlJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maXJtKG1vZGFsOiBNb2RhbCk6IEpTTmF0aXZlUHJlc2V0QnVpbGRlciB7XG4gICAgcmV0dXJuIG1vZGFsLmNvbmZpcm0oKS5tZXNzYWdlKCdZZXMgb3IgTm8/Jyk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9kZW1vL2FwcC9qcy1uYXRpdmUtZGVtby9wcmVzZXRzLnRzXG4gKiovIiwiaW1wb3J0IHtcbiAgICBEaWFsb2dGb3JtTW9kYWwsXG4gICAgRHJvcEluUHJlc2V0QnVpbGRlcixcbiAgICBNb2RhbFxufSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2FuZ3VsYXIyLW1vZGFsL3BsdWdpbnMvdmV4JztcblxuZXhwb3J0IGZ1bmN0aW9uIGFsZXJ0KG1vZGFsOiBNb2RhbCk6IERyb3BJblByZXNldEJ1aWxkZXIge1xuICAgIHJldHVybiBtb2RhbC5hbGVydCgpXG4gICAgICAgIC5jbGFzc05hbWUodGhpcy50aGVtZSlcbiAgICAgICAgLm1lc3NhZ2UoJ0FuIGFsZXJ0IG1lc3NhZ2UhJylcbiAgICAgICAgLnNob3dDbG9zZUJ1dHRvbih0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb21wdChtb2RhbDogTW9kYWwpOiBEcm9wSW5QcmVzZXRCdWlsZGVyIHtcbiAgICByZXR1cm4gbW9kYWwucHJvbXB0KClcbiAgICAgICAgLmNsYXNzTmFtZSh0aGlzLnRoZW1lKVxuICAgICAgICAubWVzc2FnZSgnUGxlYXNlIHR5cGUgYSB2YWx1ZSEnKVxuICAgICAgICAucGxhY2Vob2xkZXIoJ1RoaXMgaXMgYSBwbGFjZWhvbGRlcicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uZmlybShtb2RhbDogTW9kYWwpOiBEcm9wSW5QcmVzZXRCdWlsZGVyIHtcbiAgICByZXR1cm4gbW9kYWwuY29uZmlybSgpXG4gICAgICAgIC5jbGFzc05hbWUodGhpcy50aGVtZSlcbiAgICAgICAgLm1lc3NhZ2UoJ1llcyBvciBObz8nKVxuICAgICAgICAub2tCdG4oJ1llcycpXG4gICAgICAgIC5jYW5jZWxCdG4oJ05vJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub0J1dHRvbnMobW9kYWw6IE1vZGFsKTogRHJvcEluUHJlc2V0QnVpbGRlciB7XG4gICAgcmV0dXJuIG1vZGFsLmFsZXJ0KClcbiAgICAgICAgLmNsYXNzTmFtZSh0aGlzLnRoZW1lKVxuICAgICAgICAuc2hvd0Nsb3NlQnV0dG9uKHRydWUpXG4gICAgICAgIC5pc0Jsb2NraW5nKHRydWUpXG4gICAgICAgIC5tZXNzYWdlKCdMdWNraWx5IEkgaGF2ZSBhbiBYIGJ1dHRvbiwgcGhldy4uLicpXG4gICAgICAgIC5va0J0bihudWxsKVxuICAgICAgICAuY2FuY2VsQnRuKG51bGwpO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21CdXR0b25zKG1vZGFsOiBNb2RhbCk6IERyb3BJblByZXNldEJ1aWxkZXIge1xuICAgIHJldHVybiBtb2RhbC5hbGVydCgpXG4gICAgICAgIC5jbGFzc05hbWUodGhpcy50aGVtZSlcbiAgICAgICAgLnNob3dDbG9zZUJ1dHRvbih0cnVlKVxuICAgICAgICAuaXNCbG9ja2luZyh0cnVlKVxuICAgICAgICAubWVzc2FnZShgTGV0J3Mgc2hvdyBzb21lIGJvb3RzdHJhcCBzdHlsZSBidXR0b25zLi4uYClcbiAgICAgICAgLm9rQnRuKG51bGwpXG4gICAgICAgIC5jYW5jZWxCdG4obnVsbClcbiAgICAgICAgLmFkZEJ1dHRvbignYnRuLXByaW1hcnknLCAnQlROLVBSSU1BUlknLFxuICAgICAgICAgICAgKGNtcDogRGlhbG9nRm9ybU1vZGFsLCAkZXZlbnQ6IE1vdXNlRXZlbnQpID0+IGNtcC5kaWFsb2cuY2xvc2UoJ3ByaW1hcnknKSlcbiAgICAgICAgLmFkZEJ1dHRvbignYnRuLXdhcm5pbmcnLCAnQlROLVdBUk5JTkcnLFxuICAgICAgICAgICAgKGNtcDogRGlhbG9nRm9ybU1vZGFsLCAkZXZlbnQ6IE1vdXNlRXZlbnQpID0+IGNtcC5kaWFsb2cuY2xvc2UoJ3dhcm5pbmcnKSlcbiAgICAgICAgLmFkZEJ1dHRvbignYnRuLXN1Y2Nlc3MnLCAnQlROLVNVQ0NFU1MnLFxuICAgICAgICAgICAgICAgIChjbXA6IERpYWxvZ0Zvcm1Nb2RhbCwgJGV2ZW50OiBNb3VzZUV2ZW50KSA9PiBjbXAuZGlhbG9nLmNsb3NlKCdzdWNjZXNzJykpO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYXNjYWRpbmcobW9kYWw6IE1vZGFsKTogRHJvcEluUHJlc2V0QnVpbGRlciB7XG4gICAgbGV0IHByZXNldHMgPSBbXTtcblxuICAgIHByZXNldHMucHVzaChhbGVydC5jYWxsKHRoaXMsIG1vZGFsKSk7XG4gICAgcHJlc2V0cy5wdXNoKHByb21wdC5jYWxsKHRoaXMsIG1vZGFsKSk7XG4gICAgcHJlc2V0cy5wdXNoKGNvbmZpcm0uY2FsbCh0aGlzLCBtb2RhbCkpO1xuICAgIHByZXNldHMucHVzaChcbiAgICAgICAgbW9kYWwuYWxlcnQoKVxuICAgICAgICAgICAgLmNsYXNzTmFtZSh0aGlzLnRoZW1lKVxuICAgICAgICAgICAgLm1lc3NhZ2UoJ0Nhc2NhZGluZyBtb2RhbHMhIEZpbmQgeW91ciB3YXkgb3V0Li4uJylcbiAgICApO1xuXG4gICAgcmV0dXJuIDxhbnk+e1xuICAgICAgICBvcGVuOiAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmV0ID0gcHJlc2V0cy5zaGlmdCgpLm9wZW4oKTtcbiAgICAgICAgICAgIHdoaWxlIChwcmVzZXRzLmxlbmd0aCA+IDApIHByZXNldHMuc2hpZnQoKS5vcGVuKCk7XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2RlbW8vYXBwL3ZleC1kZW1vL3ByZXNldHMudHNcbiAqKi8iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBWZXhNb2RhbE1vZHVsZSB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYW5ndWxhcjItbW9kYWwvcGx1Z2lucy92ZXgnO1xuaW1wb3J0IHsgU2hhcmVkTW9kdWxlIH0gZnJvbSAnLi4vc2hhcmVkLm1vZHVsZSc7XG5cbmltcG9ydCB7IHJvdXRpbmcgfSBmcm9tICcuL3ZleC1kZW1vLnJvdXRlcyc7XG5pbXBvcnQgeyBWZXhEZW1vIH0gZnJvbSAnLi92ZXgtZGVtbyc7XG5pbXBvcnQgeyBMb2dpbkRpYWxvZyB9IGZyb20gJy4vbG9naW4tZGlhbG9nJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogWyBGb3Jtc01vZHVsZSwgQ29tbW9uTW9kdWxlLCBWZXhNb2RhbE1vZHVsZSwgcm91dGluZywgU2hhcmVkTW9kdWxlIF0sXG4gIGRlY2xhcmF0aW9uczogWyBWZXhEZW1vLCBMb2dpbkRpYWxvZyBdLFxuICBlbnRyeUNvbXBvbmVudHM6IFsgTG9naW5EaWFsb2cgXVxufSlcbmV4cG9ydCBjbGFzcyBWZXhEZW1vTW9kdWxlIHsgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvdmV4LWRlbW8vdmV4LWRlbW8ubW9kdWxlLnRzXG4gKiovIiwiaW1wb3J0IHsgTW9kdWxlV2l0aFByb3ZpZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUm91dGVyTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcblxuaW1wb3J0IHsgVmV4RGVtbyB9IGZyb20gJy4vdmV4LWRlbW8nO1xuXG5leHBvcnQgY29uc3Qgcm91dGluZzogTW9kdWxlV2l0aFByb3ZpZGVycyA9IFJvdXRlck1vZHVsZS5mb3JDaGlsZChbXG4gIHsgcGF0aDogJ3ZleC1kZW1vJywgY29tcG9uZW50OiBWZXhEZW1vIH0sXG5dKTtcblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZGVtby9hcHAvdmV4LWRlbW8vdmV4LWRlbW8ucm91dGVzLnRzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==